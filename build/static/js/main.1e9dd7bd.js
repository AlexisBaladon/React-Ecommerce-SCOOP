/*! For license information please see main.1e9dd7bd.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,s,u=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(u[l]=o[l]);if(t){s=t(o);for(var h=0;h<s.length;h++)r.call(o,s[h])&&(u[s[h]]=o[s[h]])}}return u}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}return(0,a.default)(r)};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),h=6;h<c;h++)l[h-6]=arguments[h];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var h=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(f.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,A);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,A);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,A);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=60103,_=60106,E=60107,C=60108,I=60114,x=60109,T=60110,S=60112,N=60113,P=60120,R=60115,O=60116,D=60121,L=60128,M=60129,j=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;b=F("react.element"),_=F("react.portal"),E=F("react.fragment"),C=F("react.strict_mode"),I=F("react.profiler"),x=F("react.provider"),T=F("react.context"),S=F("react.forward_ref"),N=F("react.suspense"),P=F("react.suspense_list"),R=F("react.memo"),O=F("react.lazy"),D=F("react.block"),F("react.scope"),L=F("react.opaque.id"),M=F("react.debug_trace_mode"),j=F("react.offscreen"),B=F("react.legacy_hidden")}var U,Q="function"===typeof Symbol&&Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}function V(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var q=!1;function W(e,t){if(!e||q)return"";q=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{q=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function H(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case I:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case O:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Y(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Y(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Y(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Y(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Y(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Y(n)}}function ce(e,t){var n=Y(t.value),r=Y(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml",fe="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ge=(me=function(e,t){if(e.namespaceURI!==fe||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ae={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ae.hasOwnProperty(e)&&Ae[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Ae).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ae[t]=Ae[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ce(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Te=null,Se=null;function Ne(e){if(e=ri(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),xe(e.stateNode,e.type,t))}}function Pe(e){Te?Se?Se.push(e):Se=[e]:Te=e}function Re(){if(Te){var e=Te,t=Se;if(Se=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,je=!1,Be=!1;function Fe(){null===Te&&null===Se||(Le(),Re())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Qe=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Qe=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Qe=!1}function Ve(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,We=null,He=!1,Ge=null,Ye={onError:function(e){qe=!0,We=e}};function Ke(e,t,n,r,i,a,o,s,u){qe=!1,We=null,Ve.apply(Ye,arguments)}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Je(e)!==e)throw Error(o(188))}function $e(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],st=null,ut=null,ct=null,lt=new Map,ht=new Map,ft=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ht.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=ni(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ze(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function At(e,t,n){yt(e)&&n.delete(t)}function kt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),null!==ct&&yt(ct)&&(ct=null),lt.forEach(At),ht.forEach(At)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function bt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&wt(st,e),null!==ut&&wt(ut,e),null!==ct&&wt(ct,e),lt.forEach(t),ht.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)gt(n),null===n.blockedOn&&ft.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Ct={},It={};function xt(e){if(Ct[e])return Ct[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return Ct[e]=n[t];return e}h&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=xt("animationend"),St=xt("animationiteration"),Nt=xt("animationstart"),Pt=xt("transitionend"),Rt=new Map,Ot=new Map,Dt=["abort","abort",Tt,"animationEnd",St,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Rt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function jt(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=jt(u),i=Mt):0!==(s&=a)&&(r=jt(s),i=Mt)}else 0!==(a=n&~o)?(r=jt(a),i=Mt):0!==s&&(r=jt(s),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(jt(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Qt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Qt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Qt(3584&~t))&&(0===(e=Qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Qt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Yt=a.unstable_runWithPriority,Kt=!0;function Jt(e,t,n,r){je||Le();var i=Xt,a=je;je=!0;try{De(i,e,t,n,r)}finally{(je=a)||Fe()}}function Zt(e,t,n,r){Yt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Kt)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=$t(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=mt(st,e,t,n,r,i),!0;case"dragenter":return ut=mt(ut,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ht.set(a,mt(ht.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function $t(e,t,n,r){var i=Ie(r);if(null!==(i=ni(i))){var a=Je(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ze(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function sn(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=un(fn),pn=i({},fn,{view:0,detail:0}),vn=un(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(cn=e.screenX-hn.screenX,ln=e.screenY-hn.screenY):ln=cn=0,hn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=un(mn),yn=un(i({},mn,{dataTransfer:0})),An=un(i({},pn,{relatedTarget:0})),kn=un(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=un(wn),_n=un(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Tn(){return xn}var Sn=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=un(Sn),Pn=un(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=un(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),On=un(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=un(Dn),Mn=[9,13,27,32],jn=h&&"CompositionEvent"in window,Bn=null;h&&"documentMode"in document&&(Bn=document.documentMode);var Fn=h&&"TextEvent"in window&&!Bn,Un=h&&(!jn||Bn&&8<Bn&&11>=Bn),Qn=String.fromCharCode(32),zn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Yn(e,t,n,r){Pe(r),0<(t=jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Jn=null;function Zn(e){Sr(e,0)}function Xn(e){if(Z(ii(e)))return e}function $n(e,t){if("change"===e)return t}var er=!1;if(h){var tr;if(h){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Kn&&(Kn.detachEvent("onpropertychange",ar),Jn=Kn=null)}function ar(e){if("value"===e.propertyName&&Xn(Jn)){var t=[];if(Yn(t,Jn,e,Ie(e)),e=Zn,je)e(t);else{je=!0;try{Oe(e,t)}finally{je=!1,Fe()}}}}function or(e,t,n){"focusin"===e?(ir(),Jn=n,(Kn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Jn)}function ur(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hr=Object.prototype.hasOwnProperty;function fr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!hr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=h&&"documentMode"in document&&11>=document.documentMode,Ar=null,kr=null,wr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==Ar||Ar!==X(r)||("selectionStart"in(r=Ar)&&gr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&fr(wr,r)||(wr=r,0<(r=jr(kr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Cr=0;Cr<Er.length;Cr++)Ot.set(Er[Cr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Ke.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=We;qe=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Sr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){xr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&xr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Dr(a,e,i,t),o.add(s))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Jt;break;case 1:i=Zt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ni(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Me(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Rt.get(e);if(void 0!==s){var u=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=An;break;case"focusout":c="blur",u=An;break;case"beforeblur":case"afterblur":u=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Rn;break;case Tt:case St:case Nt:u=kn;break;case Pt:u=On;break;case"scroll":u=vn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),h=!l&&"scroll"===e,f=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ue(p,f))&&l.push(Mr(p,v,d)))),h)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(h=Je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=gn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?s:ii(u),d=null==c?s:ii(c),(s=new l(v,p+"leave",u,n,i)).target=h,s.relatedTarget=d,v=null,ni(i)===r&&((l=new l(f,p+"enter",c,n,i)).target=d,l.relatedTarget=h,v=l),h=v,u&&c)e:{for(f=c,p=0,d=l=u;d;d=Br(d))p++;for(d=0,v=f;v;v=Br(v))d++;for(;0<p-d;)l=Br(l),p--;for(;0<d-p;)f=Br(f),d--;for(;p--;){if(l===f||null!==f&&l===f.alternate)break e;l=Br(l),f=Br(f)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==h&&Fr(o,h,c,l,!0)}if("select"===(u=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=$n;else if(Gn(s))if(er)m=cr;else{m=sr;var g=or}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=ur);switch(m&&(m=m(e,r))?Yn(o,m,n,i):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ie(s,"number",s.value)),g=r?ii(r):window,e){case"focusin":(Gn(g)||"true"===g.contentEditable)&&(Ar=g,kr=r,wr=null);break;case"focusout":wr=kr=Ar=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Wn?Vn(e,n)&&(A="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(A="onCompositionStart");A&&(Un&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==A?"onCompositionEnd"===A&&Wn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(g=jr(r,A)).length&&(A=new _n(A,e,null,n,i),o.push({event:A,listeners:g}),y?A.data=y:null!==(y=qn(n))&&(A.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Qn);case"textInput":return(e=t.data)===Qn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!jn&&Vn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Sr(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ue(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(Mr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(Mr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Qr=null,zr=null;function Vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Yr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Jr=0;var Zr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Zr,$r="__reactProps$"+Zr,ei="__reactContainer$"+Zr,ti="__reactEvents$"+Zr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Xr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[$r]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],ui=-1;function ci(e){return{current:e}}function li(e){0>ui||(e.current=si[ui],si[ui]=null,ui--)}function hi(e,t){ui++,si[ui]=e.current,e.current=t}var fi={},di=ci(fi),pi=ci(!1),vi=fi;function mi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){li(pi),li(di)}function Ai(e,t,n){if(di.current!==fi)throw Error(o(168));hi(di,t),hi(pi,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,vi=di.current,hi(di,e),hi(pi,pi.current),!0}function bi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),hi(di,e)):li(pi),hi(pi,n)}var _i=null,Ei=null,Ci=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,xi=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,Si=a.unstable_requestPaint,Ni=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Ri=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,ji={},Bi=void 0!==Si?Si:function(){},Fi=null,Ui=null,Qi=!1,zi=Ni(),Vi=1e4>zi?Ni:function(){return Ni()-zi};function qi(){switch(Pi()){case Ri:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Ri;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ci(e,t)}function Gi(e,t,n){return e=Wi(e),Ii(e,t,n)}function Yi(){if(null!==Ui){var e=Ui;Ui=null,xi(e)}Ki()}function Ki(){if(!Qi&&null!==Fi){Qi=!0;var e=0;try{var t=Fi;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ii(Ri,Yi),n}finally{Qi=!1}}}var Ji=w.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),$i=null,ea=null,ta=null;function na(){ta=ea=$i=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){$i=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(jo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===$i)throw Error(o(308));ea=t,$i.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var sa=!1;function ua(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ha(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;sa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var h=e.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==s&&(null===f?h.firstBaseUpdate=l:f.next=l,h.lastBaseUpdate=c)}}if(null!==o){for(f=a.baseState,s=0,h=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,u);break e}f=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,f,u):p)||void 0===u)break e;f=i({},f,u);break e;case 2:sa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(l=h=d,c=f):h=h.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===h&&(c=f),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=h,Qs|=s,e.lanes=s,e.memoizedState=f}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ga={isMounted:function(e){return!!(e=e._reactInternals)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=du(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ha(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=du(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ha(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function Aa(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=gi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ga,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ga.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,ua(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=gi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ga.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ba=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ca(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ju(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=Yu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ju(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Zu(t,e.mode,n)).return=e,t}if(ba(t)||z(t))return(t=Yu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?n.type===E?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(ba(n)||z(n))return null!==i?null:h(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return e=e.get(null===r.key?n:r.key)||null,r.type===E?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ba(r)||z(r))return h(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,h=o,v=o=0,m=null;null!==h&&v<s.length;v++){h.index>v?(m=h,h=null):m=h.sibling;var g=d(i,h,s[v],u);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g,h=m}if(v===s.length)return n(i,h),c;if(null===h){for(;v<s.length;v++)null!==(h=f(i,s[v],u))&&(o=a(h,o,v),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);v<s.length;v++)null!==(m=p(h,i,v,s[v],u))&&(e&&null!==m.alternate&&h.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=z(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var h=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var A=d(i,v,y.value,c);if(null===A){null===v&&(v=g);break}e&&v&&null===A.alternate&&t(i,v),s=a(A,s,m),null===h?l=A:h.sibling=A,h=A,v=g}if(y.done)return n(i,v),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=f(i,y.value,c))&&(s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return l}for(v=r(i,v);!y.done;m++,y=u.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=a(y,s,m),null===h?l=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case b:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Yu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=_a(e,r,a),u.return=e,e=u)}return s(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ju(a,e.mode,u)).return=e,e=r),s(e);if(ba(a))return v(e,r,a,u);if(z(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Ca(!0),xa=Ca(!1),Ta={},Sa=ci(Ta),Na=ci(Ta),Pa=ci(Ta);function Ra(e){if(e===Ta)throw Error(o(174));return e}function Oa(e,t){switch(hi(Pa,t),hi(Na,e),hi(Sa,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Sa),hi(Sa,t)}function Da(){li(Sa),li(Na),li(Pa)}function La(e){Ra(Pa.current);var t=Ra(Sa.current),n=pe(t,e.type);t!==n&&(hi(Na,e),hi(Sa,n))}function Ma(e){Na.current===e&&(li(Sa),li(Na))}var ja=ci(0);function Ba(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Qa=!1;function za(e,t){var n=qu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Va(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Qa){var t=Ua;if(t){var n=t;if(!Va(e,t)){if(!(t=Yr(n.nextSibling))||!Va(e,t))return e.flags=-1025&e.flags|2,Qa=!1,void(Fa=e);za(Fa,n)}Fa=e,Ua=Yr(t.firstChild)}else e.flags=-1025&e.flags|2,Qa=!1,Fa=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ha(e){if(e!==Fa)return!1;if(!Qa)return Wa(e),Qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ua;t;)za(e,t),t=Yr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Yr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Yr(e.stateNode.nextSibling):null;return!0}function Ga(){Ua=Fa=null,Qa=!1}var Ya=[];function Ka(){for(var e=0;e<Ya.length;e++)Ya[e]._workInProgressVersionPrimary=null;Ya.length=0}var Ja=w.ReactCurrentDispatcher,Za=w.ReactCurrentBatchConfig,Xa=0,$a=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,$a=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ja.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ja.current=Lo,e=n(r,i)}while(ro)}if(Ja.current=Ro,t=null!==eo&&null!==eo.next,Xa=0,to=eo=$a=null,no=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?$a.memoizedState=to=e:to=to.next=e,to}function uo(){if(null===eo){var e=$a.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?$a.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?$a.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var h={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=h,a=r):u=u.next=h,$a.lanes|=l,Qs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,lr(r,t.memoizedState)||(jo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function ho(e){var t=uo(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);lr(a,t.memoizedState)||(jo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ya.push(t))),e)return n(t._source);throw Ya.push(t),Error(o(350))}function po(e,t,n,r){var i=Os;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=Ja.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],h=c[0];c=to;var f=e.memoizedState,d=f.refs,p=d.getSnapshot,v=f.source;f=f.subscribe;var m=$a;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(s,e)){e=n(t._source),lr(h,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-qt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(f,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:h}).dispatch=l=Po.bind(null,$a,e),c.queue=e,c.baseQueue=null,h=fo(i,t,n),c.memoizedState=c.baseState=h),h}function vo(e,t,n){return po(uo(),e,t,n)}function mo(e){var t=so();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Po.bind(null,$a,e),[t.memoizedState,e]}function go(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=$a.updateQueue)?(t={lastEffect:null},$a.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},so().memoizedState=e}function Ao(){return uo().memoizedState}function ko(e,t,n,r){var i=so();$a.flags|=e,i.memoizedState=go(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=uo();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void go(t,n,a,r)}$a.flags|=e,i.memoizedState=go(1|t,n,a,r)}function bo(e,t){return ko(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Co(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Co.bind(null,t,e),n)}function xo(){}function To(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function So(e,t){var n=uo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=qi();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Za.transition;Za.transition=1;try{e(!1),t()}finally{Za.transition=n}}))}function Po(e,t,n){var r=fu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===$a||null!==o&&o===$a)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,lr(u,s))return}catch(c){}pu(e,i,r)}}var Ro={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:bo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,Co.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,$a,e),[r.memoizedState,e]},useRef:yo,useState:mo,useDebugValue:xo,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return bo((function(){var t=Za.transition;Za.transition=1;try{r(e)}finally{Za.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=so();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(Qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Jr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&$a.mode)&&($a.flags|=516,go(5,(function(){n("r:"+(Jr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Jr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:To,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:So,useReducer:lo,useRef:Ao,useState:function(){return lo(co)},useDebugValue:xo,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Za.transition;Za.transition=1;try{r(e)}finally{Za.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[Ao().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:To,useContext:oa,useEffect:_o,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:So,useReducer:ho,useRef:Ao,useState:function(){return ho(co)},useDebugValue:xo,useDeferredValue:function(e){var t=ho(co),n=t[0],r=t[1];return _o((function(){var t=Za.transition;Za.transition=1;try{r(e)}finally{Za.transition=t}}),[e]),n},useTransition:function(){var e=ho(co)[0];return[Ao().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return ho(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,jo=!1;function Bo(e,t,n,r){t.child=null===e?xa(t,null,n,r):Ia(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Wu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Hu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Qo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(jo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(jo=!0)}return qo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},bu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},bu(t,e),null;t.memoizedState={baseLanes:0},bu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bu(t,r);return Bo(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=gi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||jo?(t.flags|=1,Bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Wo(e,t,n,r,i){if(gi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Aa(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=gi(n)?vi:di.current);var l=n.getDerivedStateFromProps,h="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),sa=!1;var f=t.memoizedState;o.state=f,da(t,r,o,i),u=t.memoizedState,s!==r||f!==u||pi.current||sa?("function"===typeof l&&(ma(t,n,l,r),u=t.memoizedState),(s=sa||ya(t,n,s,r,f,u,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Zi(t.type,s),o.props=c,h=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=oa(u):u=mi(t,u=gi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==h||f!==u)&&ka(t,o,r,u),sa=!1,f=t.memoizedState,o.state=f,da(t,r,o,i);var p=t.memoizedState;s!==h||f!==p||pi.current||sa?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=sa||ya(t,n,c,r,f,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){Vo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&bi(t,n,!1),as(e,t,a);r=t.stateNode,Mo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Bo(e,t,s,a),t.memoizedState=r.state,i&&bi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),Oa(e,t.containerInfo)}var Yo,Ko,Jo,Zo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=ja.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),hi(ja,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,e):"number"===typeof i.unstable_expectedLoadTime?(e=$o(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Zo,t.lanes=33554432,e):((n=Ku({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Zo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function $o(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ku(t,i,0,null),n=Yu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Hu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hu(o,s),null!==e?r=Hu(e,r):(r=Yu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Bo(e,t,r.children,n),0!==(2&(r=ja.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(hi(ja,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ba(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ba(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Qs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&yi(),null;case 3:return Da(),li(pi),li(di),Ka(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Ra(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ra(Sa.current),Ha(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[$r]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":J(r),re(r,s,!0);break;case"textarea":J(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[$r]=r,Yo(e,t),t.stateNode=e,c=Ce(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=$(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];"style"===s?be(e,h):"dangerouslySetInnerHTML"===s?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===s?"string"===typeof h?("textarea"!==n||""!==h)&&ye(e,h):"number"===typeof h&&ye(e,""+h):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=h&&"onScroll"===s&&Nr("scroll",e):null!=h&&k(e,s,h,c))}switch(n){case"input":J(e),re(e,r,!1);break;case"textarea":J(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Y(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}Vr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Jo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ra(Pa.current),Ra(Sa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(ja),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ja.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Os||0===(134217727&Qs)&&0===(134217727&zs)||yu(Os,Ls))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Rr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(ja),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Bs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ba(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return hi(ja,1&ja.current|2),t.child}e=e.sibling}null!==r.tail&&Vi()>Hs&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ba(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-r.renderingStartTime>Hs&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Vi(),n.sibling=null,t=ja.current,hi(ja,s?1&t|2:1&t),n):null;case 23:case 24:return _u(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:gi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),Ka(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(ja),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(ja),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _u(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Yo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ra(Sa.current);var o,s=null;switch(n){case"input":a=$(e,a),r=$(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(h in Ee(n,r),n=null,a)if(!r.hasOwnProperty(h)&&a.hasOwnProperty(h)&&null!=a[h])if("style"===h){var c=a[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var l=r[h];if(c=null!=a?a[h]:void 0,r.hasOwnProperty(h)&&l!==c&&(null!=l||null!=c))if("style"===h)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(h,n)),n=l;else"dangerouslySetInnerHTML"===h?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(h,l)):"children"===h?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(h,""+l):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=l&&"onScroll"===h&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(s=s||[]).push(h,l))}n&&(s=s||[]).push("style",n);var h=s;(t.updateQueue=h)&&(t.flags|=4)}},Jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Js||(Js=!0,Zs=r),ls(0,t)},n}function ds(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xs?Xs=new Set([this]):Xs.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Uu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Zi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function gs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(ju(n,e),Mu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Zi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&bt(n)))))}throw Error(o(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function As(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))ju(t,n);else{r=t;try{i()}catch(a){Uu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Uu(t,a)}break;case 5:vs(t);break;case 4:Cs(e,t)}}function ks(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function bs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_s(e,n,t):Es(e,n,t)}function _s(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(_s(e,t,n),e=e.sibling;null!==e;)_s(e,t,n),e=e.sibling}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Cs(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(As(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(As(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Is(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[$r]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ce(e,i),t=Ce(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?be(n,u):"dangerouslySetInnerHTML"===s?ge(n,u):"children"===s?ye(n,u):k(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,bt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ws=Vi(),ys(t.child,!0)),void xs(t);case 19:return void xs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(o(163))}function xs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=zu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ts(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ss=Math.ceil,Ns=w.ReactCurrentDispatcher,Ps=w.ReactCurrentOwner,Rs=0,Os=null,Ds=null,Ls=0,Ms=0,js=ci(0),Bs=0,Fs=null,Us=0,Qs=0,zs=0,Vs=0,qs=null,Ws=0,Hs=1/0;function Gs(){Hs=Vi()+500}var Ys,Ks=null,Js=!1,Zs=null,Xs=null,$s=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,hu=!1;function fu(){return 0!==(48&Rs)?Vi():-1!==su?su:su=Vi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===uu&&(uu=Us),0!==Ji.transition){0!==cu&&(cu=null!==qs?qs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Rs)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Vt(e,t,n),e===Os&&(zs|=t,4===Bs&&yu(e,Ls));var r=qi();1===t?0!==(8&Rs)&&0===(48&Rs)?Au(e):(mu(e,n),0===Rs&&(Gs(),Yi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),qs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-qt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,jt(c);var h=Mt;a[u]=10<=h?l+250:6<=h?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Bt(e,e===Os?Ls:0),t=Mt,0===r)null!==n&&(n!==ji&&xi(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&xi(n)}15===t?(n=Au.bind(null,e),null===Fi?(Fi=[n],Ui=Ii(Ri,Ki)):Fi.push(n),n=ji):14===t?n=Gi(99,Au.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,gu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function gu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(Lu()&&e.callbackNode!==t)return null;var n=Bt(e,e===Os?Ls:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Iu();for(Os===e&&Ls===r||(Gs(),Eu(e,r));;)try{Su();break}catch(u){Cu(e,u)}if(na(),Ns.current=a,Rs=i,null!==Ds?r=0:(Os=null,Ls=0,r=Bs),0!==(Us&zs))Eu(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=Ft(e))&&(r=xu(e,n))),1===r)throw t=Fs,Eu(e,0),yu(e,n),mu(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(yu(e,n),(62914560&n)===n&&10<(r=Ws+500-Vi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){fu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(yu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ss(n/1960))-n)){e.timeoutHandle=Wr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,Vi()),e.callbackNode===t?gu.bind(null,e):null}function yu(e,t){for(t&=~Vs,t&=~zs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function Au(e){if(0!==(48&Rs))throw Error(o(327));if(Lu(),e===Os&&0!==(e.expiredLanes&Ls)){var t=Ls,n=xu(e,t);0!==(Us&zs)&&(n=xu(e,t=Bt(e,t)))}else n=xu(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=Ft(e))&&(n=xu(e,t))),1===n)throw n=Fs,Eu(e,0),yu(e,t),mu(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,Vi()),null}function ku(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Yi())}}function wu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Yi())}}function bu(e,t){hi(js,Ms),Ms|=t,Us|=t}function _u(){Ms=js.current,li(js)}function Eu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Da(),li(pi),li(di),Ka();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(ja);break;case 10:ra(r);break;case 23:case 24:_u()}n=n.return}Os=e,Ds=Hu(e.current,null),Ls=Ms=Us=t,Bs=0,Fs=null,Vs=zs=Qs=0}function Cu(e,t){for(;;){var n=Ds;try{if(na(),Ja.current=Ro,no){for(var r=$a.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=$a=null,ro=!1,Ps.current=null,null===n||null===n.return){Bs=1,Fs=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=Ls,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!==(1&ja.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=f.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!h)}}if(d){var m=f.updateQueue;if(null===m){var g=new Set;g.add(c),f.updateQueue=g}else m.add(c);if(0===(2&f.mode)){if(f.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=la(-1,1);y.tag=2,ha(s,y)}s.lanes|=1;break e}u=void 0,s=t;var A=a.pingCache;if(null===A?(A=a.pingCache=new hs,u=new Set,A.set(c,u)):void 0===(u=A.get(c))&&(u=new Set,A.set(c,u)),!u.has(s)){u.add(s);var k=Qu.bind(null,a,c,s);c.then(k,k)}f.flags|=4096,f.lanes=t;break e}f=f.return}while(null!==f);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),u=cs(u,s),f=o;do{switch(f.tag){case 3:a=u,f.flags|=4096,t&=-t,f.lanes|=t,fa(f,fs(0,a,t));break e;case 1:a=u;var w=f.type,b=f.stateNode;if(0===(64&f.flags)&&("function"===typeof w.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Xs||!Xs.has(b)))){f.flags|=4096,t&=-t,f.lanes|=t,fa(f,ds(f,a,t));break e}}f=f.return}while(null!==f)}Pu(n)}catch(_){t=_,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Iu(){var e=Ns.current;return Ns.current=Ro,null===e?Ro:e}function xu(e,t){var n=Rs;Rs|=16;var r=Iu();for(Os===e&&Ls===t||Eu(e,t);;)try{Tu();break}catch(i){Cu(e,i)}if(na(),Rs=n,Ns.current=r,null!==Ds)throw Error(o(261));return Os=null,Ls=0,Bs}function Tu(){for(;null!==Ds;)Nu(Ds)}function Su(){for(;null!==Ds&&!Ti();)Nu(Ds)}function Nu(e){var t=Ys(e.alternate,e,Ms);e.memoizedProps=e.pendingProps,null===t?Pu(e):Ds=t,Ps.current=null}function Pu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ms)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ms)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Bs&&(Bs=5)}function Ru(e){var t=qi();return Hi(99,Ou.bind(null,e,t)),null}function Ou(e,t){do{Lu()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===Os&&(Ds=Os=null,Ls=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Ps.current=null,Qr=Kt,gr(s=mr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(I){u=null;break e}var h=0,f=-1,d=-1,p=0,v=0,m=s,g=null;t:for(;;){for(var y;m!==u||0!==a&&3!==m.nodeType||(f=h+a),m!==c||0!==l&&3!==m.nodeType||(d=h+l),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===s)break t;if(g===u&&++p===a&&(f=h),g===c&&++v===l&&(d=h),null!==(y=m.nextSibling))break;g=(m=g).parentNode}m=y}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Kt=!1,lu=null,hu=!1,Ks=r;do{try{Du()}catch(I){if(null===Ks)throw Error(o(330));Uu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);lu=null,Ks=r;do{try{for(s=e;null!==Ks;){var A=Ks.flags;if(16&A&&ye(Ks.stateNode,""),128&A){var k=Ks.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&A){case 2:bs(Ks),Ks.flags&=-3;break;case 6:bs(Ks),Ks.flags&=-3,Is(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,Is(Ks.alternate,Ks);break;case 4:Is(Ks.alternate,Ks);break;case 8:Cs(s,u=Ks);var b=u.alternate;ks(u),null!==b&&ks(b)}Ks=Ks.nextEffect}}catch(I){if(null===Ks)throw Error(o(330));Uu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);if(w=zr,k=mr(),A=w.focusedElem,s=w.selectionRange,k!==A&&A&&A.ownerDocument&&vr(A.ownerDocument.documentElement,A)){null!==s&&gr(A)&&(k=s.start,void 0===(w=s.end)&&(w=k),"selectionStart"in A?(A.selectionStart=k,A.selectionEnd=Math.min(w,A.value.length)):(w=(k=A.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),u=A.textContent.length,b=Math.min(s.start,u),s=void 0===s.end?b:Math.min(s.end,u),!w.extend&&b>s&&(u=s,s=b,b=u),u=pr(A,b),a=pr(A,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((k=k.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),b>s?(w.addRange(k),w.extend(a.node,a.offset)):(k.setEnd(a.node,a.offset),w.addRange(k))))),k=[];for(w=A;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof A.focus&&A.focus(),A=0;A<k.length;A++)(w=k[A]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Kt=!!Qr,zr=Qr=null,e.current=n,Ks=r;do{try{for(A=e;null!==Ks;){var _=Ks.flags;if(36&_&&gs(A,Ks.alternate,Ks),128&_){k=void 0;var E=Ks.ref;if(null!==E){var C=Ks.stateNode;Ks.tag,k=C,"function"===typeof E?E(k):E.current=k}}Ks=Ks.nextEffect}}catch(I){if(null===Ks)throw Error(o(330));Uu(Ks,I),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Bi(),Rs=i}else e.current=n;if($s)$s=!1,eu=e,tu=t;else for(Ks=r;null!==Ks;)t=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((_=Ks).sibling=null,_.stateNode=null),Ks=t;if(0===(r=e.pendingLanes)&&(Xs=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(I){}if(mu(e,Vi()),Js)throw Js=!1,e=Zs,Zs=null,e;return 0!==(8&Rs)||Yi(),null}function Du(){for(;null!==Ks;){var e=Ks.alternate;hu||null===lu||(0!==(8&Ks.flags)?et(Ks,lu)&&(hu=!0):13===Ks.tag&&Ts(e,Ks)&&et(Ks,lu)&&(hu=!0));var t=Ks.flags;0!==(256&t)&&ms(e,Ks),0===(512&t)||$s||($s=!0,Gi(97,(function(){return Lu(),null}))),Ks=Ks.nextEffect}}function Lu(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Hi(e,Bu)}return!1}function Mu(e,t){nu.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function ju(e,t){ru.push(t,e),$s||($s=!0,Gi(97,(function(){return Lu(),null})))}function Bu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Uu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Yi(),!0}function Fu(e,t,n){ha(e,t=fs(0,t=cs(n,t),1)),t=fu(),null!==(e=vu(e,1))&&(Vt(e,1,t),mu(e,t))}function Uu(e,t){if(3===e.tag)Fu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r))){var i=ds(n,e=cs(t,e),1);if(ha(n,i),i=fu(),null!==(n=vu(n,1)))Vt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xs||!Xs.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function Qu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=fu(),e.pingedLanes|=e.suspendedLanes&n,Os===e&&(Ls&n)===n&&(4===Bs||3===Bs&&(62914560&Ls)===Ls&&500>Vi()-Ws?Eu(e,0):Vs|=n),mu(e,t)}function zu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===uu&&(uu=Us),0===(t=Qt(62914560&~uu))&&(t=4194304))),n=fu(),null!==(e=vu(e,t))&&(Vt(e,t,n),mu(e,n))}function Vu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function qu(e,t,n,r){return new Vu(e,t,n,r)}function Wu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hu(e,t){var n=e.alternate;return null===n?((n=qu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Wu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return Yu(n.children,i,a,t);case M:s=8,i|=16;break;case C:s=8,i|=1;break;case I:return(e=qu(12,n,t,8|i)).elementType=I,e.type=I,e.lanes=a,e;case N:return(e=qu(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case P:return(e=qu(19,n,t,i)).elementType=P,e.lanes=a,e;case j:return Ku(n,i,a,t);case B:return(e=qu(24,n,t,i)).elementType=B,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case T:s=9;break e;case S:s=11;break e;case R:s=14;break e;case O:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=qu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Yu(e,t,n,r){return(e=qu(7,e,r,t)).lanes=n,e}function Ku(e,t,n,r){return(e=qu(23,e,r,t)).elementType=j,e.lanes=n,e}function Ju(e,t,n){return(e=qu(6,e,null,t)).lanes=n,e}function Zu(e,t,n){return(t=qu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xu(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=fu(),s=du(i);e:if(n){t:{if(Je(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=ki(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ha(i,t),pu(i,s,a),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xu(e,t,null!=n&&!0===n.hydrate),t=qu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ua(t),e[ei]=n.current,Rr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}wu((function(){ec(t,o,e,i)}))}return tc(o)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return $u(e,t,null,n)}Ys=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)jo=!0;else{if(0===(n&r)){switch(jo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:gi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;hi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(hi(ja,1&ja.current),null!==(t=as(e,t,n))?t.sibling:null);hi(ja,1&ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),hi(ja,ja.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}jo=0!==(16384&e.flags)}else jo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ua(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&ma(t,r,s,e),i.updater=ga,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Bo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Wu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===R)return 14}return 2}(i),e=Zi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Zi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Yr(t.stateNode.containerInfo.firstChild),Fa=t,a=Qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ya.push(a);for(n=xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Bo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==a&&qr(r,a)&&(t.flags|=16),Vo(e,t),Bo(e,t,s,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Xo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return Bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(hi(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=lr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!pi.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=la(-1,n&-n)).tag=2,ha(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ia(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Bo(e,t,r,n),t.child;case 14:return a=Zi(i=t.type,t.pendingProps),Uo(e,t,i,a=Zi(i.type,a),r,n);case 15:return Qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,gi(r)?(e=!0,wi(t)):e=!1,aa(t,n),Aa(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(pu(e,4,fu()),rc(e,4))},nt=function(e){13===e.tag&&(pu(e,67108864,fu()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=fu(),n=du(e);pu(e,n,t),rc(e,n)}},it=function(e,t){return t()},xe=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));Z(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=ku,De=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),Yi())}},Le=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Vi())}))}Yi()}(),Lu())},Me=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Yi())}};var uc={Events:[ri,ii,ai,Pe,Re,Lu,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hc.isDisabled&&hc.supportsFiber)try{_i=hc.inject(lc),Ei=hc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Rs=n,Yi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=ku,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),a=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),s=h("react.context"),u=h("react.forward_ref"),t.Suspense=h("react.suspense"),c=h("react.memo"),l=h("react.lazy")}var f="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var A=y.prototype=new g;A.constructor=y,r(A,m.prototype),A.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!b.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:k.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function x(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+I(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(C,"$&/")+"/"),x(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+I(s=e[c],c);u+=x(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=x(s=s.value,t,n,l=r+I(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function T(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function P(){var e=N.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!b.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var h=0;h<l;h++)c[h]=arguments[h+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(P){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var A={};u(A,a,(function(){return this}));var k=Object.getPrototypeOf,w=k&&k(k(S([])));w&&w!==n&&r.call(w,a)&&(A=w);var b=y.prototype=m.prototype=Object.create(A);function _(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"===typeof h&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(h).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=y,u(b,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(E.prototype),u(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(b),u(b,s,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,h=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,g=-1,y=5,A=0;t.unstable_shouldYield=function(){return t.unstable_now()>=A},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,w=k.port2;k.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();A=e+y;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){g=f((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function b(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>C(o,n))void 0!==u&&0>C(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],x=[],T=1,S=null,N=3,P=!1,R=!1,O=!1;function D(e){for(var t=_(x);null!==t;){if(null===t.callback)E(x);else{if(!(t.startTime<=e))break;E(x),t.sortIndex=t.expirationTime,b(I,t)}t=_(x)}}function L(e){if(O=!1,D(e),!R)if(null!==_(I))R=!0,n(M);else{var t=_(x);null!==t&&r(L,t.startTime-e)}}function M(e,n){R=!1,O&&(O=!1,i()),P=!0;var a=N;try{for(D(n),S=_(I);null!==S&&(!(S.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=S.callback;if("function"===typeof o){S.callback=null,N=S.priorityLevel;var s=o(S.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?S.callback=s:S===_(I)&&E(I),D(n)}else E(I);S=_(I)}if(null!==S)var u=!0;else{var c=_(x);null!==c&&r(L,c.startTime-n),u=!1}return u}finally{S=null,N=a,P=!1}}var j=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||P||(R=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(I)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:T++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,b(x,e),null===_(I)&&e===_(x)&&(O?i():O=!0,r(L,o-s))):(e.sortIndex=u,b(I,e),R||P||(R=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t},651:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAATtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDItMTRUMDk6MTc6NTgtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTAyLTE0VDA5OjI5OjU3LTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTAyLTE0VDA5OjI5OjU3LTAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpiODM5NzJlYy1hMGMzLTQ1NGUtOTE2Ny1iNGNhZTNlNGFjMWYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6YjgzOTcyZWMtYTBjMy00NTRlLTkxNjctYjRjYWUzZTRhYzFmIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6YjgzOTcyZWMtYTBjMy00NTRlLTkxNjctYjRjYWUzZTRhYzFmIj4gPHhtcE1NOkhpc3Rvcnk+IDxyZGY6U2VxPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0iY3JlYXRlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDpiODM5NzJlYy1hMGMzLTQ1NGUtOTE2Ny1iNGNhZTNlNGFjMWYiIHN0RXZ0OndoZW49IjIwMjItMDItMTRUMDk6MTc6NTgtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5gv6bIAAANe0lEQVR4nO3dS3bTygJAUeetDIXB0bjDocHgmItfA0I+2ImVWFKpzt5NFhClJJWOyrL9cD6fTzCbX//9XOu/dsKM7WGN//Tbj+9r/Lewq8e9NwAOwEX/ON7uq1WCAGYgAOAyF/05PO1HIQBv/G/vDYABufjP53yyX+EVKwDwzAViflYE4A8rAPCbi3+L/U2eAKDO0nCX/U6aAKDMBQDHAFkCgCoTP08cCyQJAIpM+LzlmCBHAFBjoucaxwYpAgDgmQggQwBQYnIH+EMAUOHiz60cKyQIAIB/iQCmJwAoMJkDvCEAAC4TjkxNADA7kzjABQIAAIIEAMB1VpCYlgBgZiZvgCsEAAAECQCA91lJYkoCgFmZtAHeIQAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAh63HsDYFIPe2/AZHyuA9yZFQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQ/ns2/ZBIAaKwAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBj3tvwBZ+/fdz7R9xXvsHAPDKw9o/4NuP72v/iF0lAmAlLvoA+3k5B68eAzMSAMu58AOM5WleFgILCIDbufADjE0ILOAhwNu4+AMchzn7BgLgYw4kgOMxd39AALzPAQRwXObwdwiA6xw4AMdnLr9CAAAwOxFwgQC4zMECwNQEAAAFbuzeEAD/cpAAMD0BAECFG7wXBMBrDg4AEgQAAAQJAABKrPT+IQCeOSgAyBAAABAkAACoseJ7EgBPHAwApAgAAAgSAAAU5Vd+BYCDAIAgAQAAQQIAgKr0CnA9ANI7H4CuegAAQJIAAKAsuxJcDoDsTgeAcgAAQJYAAKAuuSJcDYDkzgaAJ9UAAIA0AQAAwZXhYgDkdjIAvFUMAADIEwAA8FtqhbgWAKmdCwDX1AIAADgJAAB4KbNSXAqAzE4FgI+UAgAA+EMAAMBriRXjSgAkdiYA3KoSAADACwIAAIIEAAD8a/qXjgUAAAQJAAAIEgAAECQAAOBfD3tvwNoEAAAECQAACKoEwPRLOQCwRCUAAOBWiZvGUgAkdigA3KIUAADwkczNYi0AMjsWgMVS14haAJxOv3dwaicD8KHcdaEYAE9yOxuAf2RvCh/33oCdPe306b/1CYBXkhf9lx7OZ9c+AKgpvwQAAFkCAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQ9Lj3BnA6/frv59J/cl5jOwC+6OHWv/jtx/c1t4MbCIBjcMEHjuDlXHVzDLAPATA2F37gqJ7mLyEwKM8AjMvFH5iBuWxQAmBMThhgJua0AQmA8ThRgBmZ2wYjAMbiBAFmZo4biAAAYEsiYBACYBxOCgA2IwAA2JobngEIAAAIEgBjUMMAbEoAAECQAACAIAEAAEECAACCBAAABAkAAAgSAAAQJAAAIEgAAECQABjDw94bAECLAACAIAEAAEECAACCBAAAW/Pc0wAEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEwDh8MAYAmxEAABAkABiNlZBtGe/tGGuG8rj3BpB3aVK89GfntTck4NoFyHjf361jbZzZjQBgL0vvhl7+fZPmMp+583z6N8Z6mc8e16VxthIyCC8BsLWH09cnABPI7Yz1Nr56XN/jvIBFBABbuucEZ7J83z0vKMb6fY5rDkkAsJU1JjaT5WXGejvGmsMSAGxhzQnNZLkdY/2a45pDEwDMwGT5bO2xMNbbMdasSgCwNpPYdoz1dow1hycAmIUJeTvGejvGmtUIgLHMdrLP9vuMzFhvx1gzBQHATEzM2zHWcHACAGBsYotVCADWYtJiRo5rpiEA4PhclDgKx+pABAAABAkAAAgSAAAQJAAAIEgAAECQAGAt5703AIDrBACz8TYjgBsIAAAIEgDjcQcLwOoEAAAECQCAsXmgllUIAIDbeHnua4zfYAQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggTAmHxgBgCrEgCsyUeYAgxKADAjKygAHxAAABAkAABYm1W5AQkAAAgSAAAQJAAAxuWdNKxGAAB8zGvYTEcAAECQAACAIAEAAEECYFxecwRgNQIAAIIEAAAECQAACBIAAKzJ80yDEgCszSeZAQxIADArdx0A7xAAABAkAAAgSAAAQJAAAIAgAQAAQQIAYEzeQsuqBMDYvJUN9uc8ZEoCAACCBAAABAkAAAgSAACsxfMTAxMAABAkAAAgSAAAQJAAYAs+0ARgMAKAmXkACeAKAQAAQQIAAIIEwPgsYwNwdwIAAIIEAAAECQAACBIAAOOZ4bMzPL80OAEAcJ2LGNMSAAAQJAAAIEgAAECQAACAIAEAAEECAACCBMAxeCsSAHclANjKXh9sIp4ALhAAABAkAAAgSAAAcG9eejsAAQAAQQIAAIIEAAAECQAACBIAAGPZ6zMziBEAAJd5kp2pCQAACBIAABAkAI7DciQAdyMAACBIAABAkAAAgCABwJa8vxnm53mlgxAAFJiQAN4QAAAQJAAAIEgAAECQAACAIAEAAEECAACCBMCxeDsbAHchAADG4cOy2IwAAPiX1TamJwAAIEgAAHAvVk4ORAAAQJAAAIAgAQAAQQKArXmbE8AABAAVHk4CeEEAAECQAACAIAFwPJayAfgyAQAAQQIAAIIEAAAECQAA7sHzSQcjAAAgSAAAjMGnZLIpAQDwmqVsEgQAAAQJAAAIEgAAECQAACBIALAHTzsD7EwAHJOnlD/HuAH8IQAAIEgAAECQAACAIAEAwFd5vuaABAAABAkAAAgSAAAQJAAAIEgAAECQAADYn4/HZnMCAOCZt7ORIQCOy0QFwKcJAAAIEgAAECQA2IuHngB2JACo8ewE3Jdz6qAEAAAECQAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEwLH5AA4APkUAAECQAADYl+/FYBcCAOA3L6ktZ8wOTAAAQJAAAIAgAQAAQQKAPXn4CWAnAoAiDy4BeQIAAIIEAAAECQAACBIAx+f1bAAWEwAAECQAACBIAABAkAAA4DM8f3RwAgAAggQAAAQJAID9+D4MdiMAALyeTZAAAIAgAQAAQQKAvXkNFGAHAmAOXr9czpgBaQIAAIIEAAAECQAACBIAACzlGZoJCAAACBIAABAkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAMA+fBEWuxIA8/DBHPA5zh2SBAAABAkARmApFGBjAoAyS79AlgAAYAnhPAkBAABBAgAAggQAAAQJAAAIEgAAECQAACBIAABAkACYi/fnAnATAQAAQQIAAIIEAAAECQCA7R31GzA9ZzQRAQCUuaCRJQAYxVHviAAOSQBQ5w4QSBIAABAkAAAgSAAAQJAAAIAgATAfD7UB8CEBAABBAgAAggQAAAQJAABu4fmiyQgAAAgSAAAQJAAAIEgAAECQAADYlq++ZggCgJGYGNmSp9pJEwDgQgAECQAACBIAc3JHC8C7BAAABAkAAAgSAAAQJAAA+IjniiYkAAAgSAAAQJAAAIAgAQAAQQIAAIIEAAAECQAACBIA8/K+XQCuEgAA2znvvQHwRAAwGhMkW7BCRp4AgN9cEIAUAQDAe8TxpAQAAAQJAAAIEgAAECQAACBIAABAkAAAgCABAABBAgAAggTA3HyABwAXCQAACBIAABAkAAC4xsuIExMAjMhXAjMjxzVDEQBwfC4swGICAACCBAAABAkA+M0y+jJHH6+jbz98mQBgVCboZYzX2OwfhiMAwOS81CzjNcvvAZ8iABiZCXoZ4zUm+4UhCYD5Hf2DPNaePGebnI3XMsaLLAFAmcl5mVnHa9bfC94lADiCNSbomSd947WcMSNHAHAU59P9JtTCxGy8lrvneFXGjAMTABzNVyfW2sT8ld+3eCFzfD07+vNDfOBx7w2AT3iaZG+doGaalD/DeC3z8vc3ZkxLAHBklybdhyt/jnH5jLdj5vhiGl4CYDYmZ9bk+GIaAgAAggQAAAQJAAAIEgAN3s4DwCsCAACCBAAAb1k1DBAAABAkAAAgSAB0WNID4C8BAMBLbhYiBAAABAmAFmUPwOl0EgAAPHOTECIAepzgAAgAAE6nk5uDHAHQ5EQHiBMAALgpCBIAXU544HQyF2QJgDYnPkCUAEAEQJfzP0wAADS5+McJAE4nEwHUOOcRAPxlQoAG5zqn00kA8JqJAebmHOcvAcBbDyeTBMzIec0rAoBrTBYwB1HPRQKA95g04Nicw1z1uPcGMLynCeS861YAS7jw8yEBwK2EAIzPhZ+bCQCWejnBiAEYgws/iwkAvkIMwD5c8Pmy/wOCl9grokYBHwAAAABJRU5ErkJggg=="},689:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAAavaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDEtMjBUMTQ6NTU6MzEtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTAxLTIxVDIzOjEzOjM0LTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTAxLTIxVDIzOjEzOjM0LTAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M2UzMDcxMjktNzNkZi00YzRkLWJhZGYtOWViZGFhMWJlNjE4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmUzMzgxMmMyLTRlYjktMmU0Yy1iNjUwLWZkM2VlZjNmNjhjNyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmUzMzgxMmMyLTRlYjktMmU0Yy1iNjUwLWZkM2VlZjNmNjhjNyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTMzODEyYzItNGViOS0yZTRjLWI2NTAtZmQzZWVmM2Y2OGM3IiBzdEV2dDp3aGVuPSIyMDIyLTAxLTIwVDE0OjU1OjMxLTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg4MmFhNmJkLTQwYmUtMzk0My04ZDY2LWIwYThkYjI5YjFlZiIgc3RFdnQ6d2hlbj0iMjAyMi0wMS0yMVQxNDoxNjoxOS0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDozZTMwNzEyOS03M2RmLTRjNGQtYmFkZi05ZWJkYWExYmU2MTgiIHN0RXZ0OndoZW49IjIwMjItMDEtMjFUMjM6MTM6MzQtMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6DQAyPAAANgUlEQVR4nO3dTXbjRhKFUcpHIy+o9z/uBfWw6UGVrJ8iKYACMiPj3Ttu+6CMRMbHJAv9cr1eLwBAlr9mXwAAMJ4AAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAr7MvgD7+/7//zr4Etrnu/N+/nHIVPOWvv/8z+xJoQgBAlr3D/9Y/IwigAV8BQI5nhv+9f89R/y5gEicAwLM+RoBTAViMEwDgCE4FYDECADiSCIBFCADgaE4DYAECADLMGMgiAAoTAMCZnAZAUQIAGEEEQDECABhFBEAhAgAYSQRAEQIA+qs2dKtdD0QSAMAMIgAmEwDQW+VBW/naoD0BAACBBAAwk1MAmEQAQF+rDNdVrhNaEQDQk6EKPCQAgAoECwwmAKCfVYfpqtcNSxIA0IshCmwiAIBKBAwMIgCgD8MT2EwAQA+dhn+nPwuUJQBgfQYmsJsAgLUZ/sBTBACs6XrpPfw7/9mgBAEA6zEcgR8TALAWwx84xOvsCwA2MfiBQzkBgNq6f9f/SOqfG4ZwAgA1GX7AqQQA1GLwA0MIAJjP0AeGEwAwh6EPTCUAYAwDHyhFAMB5DH2gLAEAxzL0gSUIAPg5Qx9YjgCA5xn8wLIEAOxn8APLEwCwncEPtCEA4HsGP9COAID7DH6gLf9vgHCb4Q+05gQAPjP4gQhOAOCd4Q/EEADwa/Ab/jW5L3ASXwGQzoCp79E9ehl2FdCMACCZ4b++j/dQDMAOAoBUhn8/YgB28BsAEhn+/fldB3xDAJDGUMgiBOAOAUASgyCXEIAvBAApbP5cLtYB/EsAAGmcBsBFAJDBZs8t1gXRBADd2eR5xPoglgCgM5s7W1gnRBIAACKAQAKArmzo7GXNEEUAALwTAcQQAHRkE+cnrB8iCACAP4kA2hMAdGPj5ijWEq0JAAAIJAAA7nMKQFsCAOAxEUBLAoBObNQAGwkAgO+JS9oRAAAQSAAAbOMUgFYEAAAEEgAAEEgAAGznawDaEAB0YWMG2EEAAEAgAUAXL7MvgBhOm2hBAABAIAEAAIEEAAAEEgAA+/kdAMsTAAAQSAAAQCABAACBBAAABBIAdOJlQAAbCQAACCQAACCQAKAbXwMAbCAAACCQAACAQAKAjnwNAPANAQAAgQQAXTkFAHhAAABAIAFAZ04BOIu1xfIEAAAEEgB055MawA0CAAACCQASOAXgSNYTLQgAUti0AT4QAAAQSACQxCkAP2UN0cbr7AuAE11nXwBAVQKALgx7gB0EAKsy8BnN8T+tCABWYugz08f1JwZYngBgBQY/1YgBlicAqMzgZwVigCUJACoy+FnV29oVApQnAKjE4KcLIUB5XgREFYY/HVnXlOUEgNlskHTnNICSnAAwk+FPEuudUgQAs9gMSXS9WPsUIQCYwQZIOs8A0wkARrPxwS+eBaYSAIxkw4PPPBNMIwAYxUYHt3k2mEIAMIINDh7zjDCcAACoQQQwlADgbDY12M7zwjACgDPZzACKEgAAtQhnhhAAnMUmBs/z/HA6AQAAgQQAZ/DpBX7Oc8SpBAAABBIAAHU5BeA0AoCj2bAAFiAAAGoT1ZxCAABAIAEAUJ9TAA4nADiSTQpgEQIAAAIJAIA1OGHjUAIAAAIJAAAIJAAAIJAAAFiH3wFwGAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAHAkV5mXwAA2wgAAAgkAAAgkAAAgEACgKP5HQDAAgQAwDoENocRAAAQSABwBp9SAIoTAABrENYcSgAAQCABwFl8WgEoTAAA1CeoOZwA4Ew2LYCiBAAABBIAnM0pAPyMZ4hTCABGsIEBFCMAAOoSz5xGADCKjQz28cxwKgHASDY0gCIEAEA9YpnTCQBGs7EBFCAAmEEEwH2eD4YQAMxik4M/eS4YRgAwk80O3nkeGEoAMJtNDzwHTCAAqMDmRzLrnykEAFXYBElk3TONAKASmyFJrHemEgBUcp19ATCI4c90AoAKrhfDnyzWO9MJAGazEZLK2mcqAcBMNkDSeQaYRgAwi40PfvEsMIUAYAYbHnzmmWA4AQAAgQQAo/mkA7d5NhhKAABAIAEAAIFeZ18AUZ494vTWNFb0zHq/Xqx3BhEAVGYjZGVv69d3+5TkKwAACCQAqMqnf7qwlilJAABAIAEAAIEEAAAEEgAAEEgAMIq/CgXbeFYYQgAAQCABAACBBAAV+XvTdGNNU44AAIBAAgAAAgkAAAgkAAAgkABgBH+vGfbxzHA6AQAAgQQAAAQSAAAQSABQjRem0JW1TSkCgGr8+ImurG1KEQAAEEgAUJFPSnRjTVPO6+wLIMLLZf8GaMMkmd8LcDonAAAQSAAAQCABwCiONGEbzwpDCAAACCQAGMknG3jMM8IwAoDRbHBwm2eDoQQAM9jo4DPPBMMJAGax4cEvngWm8CIgZnrb+Lz0h0QGP1MJACoQAiQx+ClBAFDJ3lcG20ipQLiyJL8BAIBAAgBgHKdWlCEAACCQAGBlvnsFeJIAAHieCGVZAgAAAgkAqvEjKYABBADAGOKWUgQAAAQSAAAQSACwOr/CBniCAAB4jvhkaQIAAAIJACrya2mAkwkAgPOJWsoRAAAQSAAAQCABQAd+jQ2wkwAA2E90sjwBAACBBABV+dU0wIkEAMC5xCwlCQAACCQAACCQAKALv8pmFGuNFgQAAAQSAAAQSABQmV9PszprmLIEAJ34bpazWWO08Tr7AuBgbxu0T14cyeCnHQFAVzbstY0MOGuFSAIAqGjESc7Zg98pFKX5DQDV2UQBTiAAgMrO+pTu2J94AoAVOAVgNdYs5QkAVmFDZRXWKksQAKzExkp11ijLEACsxgZLVdYmSxEArMhGm2OVe73KdcK/vAeAVb1tuH7NzV5HrhmDn2UJAFb3cQMWA31UHqyVrw02EwB08nVj3hsENnZusS5oyW8AACCQAKAzn9z4KWuItgQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAMA7bxLszz2G3wQAAAQSAAAQSAAAQCABQHde5cqzrB1aEwAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAJ95VWxf7i18IAAAIJAAAIBAAgAAAgkAEnilK3tZM7QnAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIA/uSVsf24p/CFAACAQAIAAAIJAFJ4sxvABwIA4DOxSAQBAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgBwm1fH9uFewg0CAAACCQAACCQASOINbwC/CQCAdyKRGAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAOA+r5Bdn3sIdwgAAAgkAAAgkAAgjTe9cY+1QRQBAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgDwmDfJAS0JAKAr8QYPCAAACCQAACCQACCRV77ylTVBHAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAPA9b5Rbj3sG3xAAABBIAABAIAEAAIEEAKm8+pU31gKRBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAwDZeLbsO9wo2EAAAEEgAAEAgAQAAgQQAybwCFmuAWAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAGA7r5itzz2CjQQAAAQSAAAQSAAAQCABQDqvgs3l3hNNAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQA7ONVs3W5N7CDAACAQAIAAAIJAAAIJADAK2ETuefEEwAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAPt55Ww97gnsJAAAIJAAAIBAAgB+8WY4IIoAANKIPbgIAACIJAAAIJAAgOf4a2d1uBfwBAEAAIEEADzPJ8/53AN4kgCAd8/8OtwAmueZ//b+BgD89jr7AqCBt0FkuIwhuuAAAgCOYzABy/AVAHzmU3xf7i18IAAAIJAAgD/5pNiPewpfCAC4zcDow72EGwQA3GdwrM89hDsEADxmgKzLvYMHBAB8zyBZj3sG3xAAsI2Bsg73CjbwIiDY7m2weOFPTQY/7CAAYL+Pg0YMzGXow5Nerlf7FwCk8RsAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAg0D+dgQEUEZfxwAAAAABJRU5ErkJggg=="},541:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAABN2lDQ1BBZG9iZSBSR0IgKDE5OTgpAAAokZWPv0rDUBSHvxtFxaFWCOLgcCdRUGzVwYxJW4ogWKtDkq1JQ5ViEm6uf/oQjm4dXNx9AidHwUHxCXwDxamDQ4QMBYvf9J3fORzOAaNi152GUYbzWKt205Gu58vZF2aYAoBOmKV2q3UAECdxxBjf7wiA10277jTG+38yH6ZKAyNguxtlIYgK0L/SqQYxBMygn2oQD4CpTto1EE9AqZf7G1AKcv8ASsr1fBBfgNlzPR+MOcAMcl8BTB1da4Bakg7UWe9Uy6plWdLuJkEkjweZjs4zuR+HiUoT1dFRF8jvA2AxH2w3HblWtay99X/+PRHX82Vun0cIQCw9F1lBeKEuf1UYO5PrYsdwGQ7vYXpUZLs3cLcBC7dFtlqF8hY8Dn8AwMZP/fNTP8gAAAAJcEhZcwAACxMAAAsTAQCanBgAAAavaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzE0OCA3OS4xNjQwMzYsIDIwMTkvMDgvMTMtMDE6MDY6NTcgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgeG1wOkNyZWF0ZURhdGU9IjIwMjItMDEtMjBUMTQ6NTU6MzEtMDM6MDAiIHhtcDpNb2RpZnlEYXRlPSIyMDIyLTAyLTE4VDEzOjM3OjQyLTAzOjAwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyLTAyLTE4VDEzOjM3OjQyLTAzOjAwIiBkYzpmb3JtYXQ9ImltYWdlL3BuZyIgcGhvdG9zaG9wOkNvbG9yTW9kZT0iMyIgcGhvdG9zaG9wOklDQ1Byb2ZpbGU9IkFkb2JlIFJHQiAoMTk5OCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDczNzVlMTktOWFhOS1hMjQxLTk5NjYtNzk1NDNjN2ZlZmMyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOmUzMzgxMmMyLTRlYjktMmU0Yy1iNjUwLWZkM2VlZjNmNjhjNyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmUzMzgxMmMyLTRlYjktMmU0Yy1iNjUwLWZkM2VlZjNmNjhjNyI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZTMzODEyYzItNGViOS0yZTRjLWI2NTAtZmQzZWVmM2Y2OGM3IiBzdEV2dDp3aGVuPSIyMDIyLTAxLTIwVDE0OjU1OjMxLTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg4MmFhNmJkLTQwYmUtMzk0My04ZDY2LWIwYThkYjI5YjFlZiIgc3RFdnQ6d2hlbj0iMjAyMi0wMS0yMVQxNDoxNjoxOS0wMzowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowNzM3NWUxOS05YWE5LWEyNDEtOTk2Ni03OTU0M2M3ZmVmYzIiIHN0RXZ0OndoZW49IjIwMjItMDItMThUMTM6Mzc6NDItMDM6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyMS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4zIh52AAANhElEQVR4nO3dTXbjyBGFUcpHu+iVeTEeeTFeWa+DHlSp9VMkBVBAZmS8e8fuPqhGIuNjkgW/XK/XCwCQ5V+zLwAAGE8AAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAECg19kXQB9//+d/sy+Bba47//cvp1wFT/nrv/+efQk0IQAgy97hf+ufEQTQgK8AIMczw//ev+eofxcwiRMA4FkfI8CpACzGCQBwBKcCsBgBABxJBMAiBABwNKcBsAABABlmDGQRAIUJAOBMTgOgKAEAjCACoBgBAIwiAqAQAQCMJAKgCAEA/VUbutWuByIJAGAGEQCTCQDorfKgrXxt0J4AAIBAAgCYySkATCIAoK9Vhusq1wmtCADoyVAFHhIAQAWCBQYTANDPqsN01euGJQkA6MUQBTYRAEAlAgYGEQDQh+EJbCYAoIdOw7/TnwXKEgCwPgMT2E0AwNoMf+ApAgDWdL30Hv6d/2xQggCA9RiOwI8JAFiL4Q8c4nX2BQCbGPzAoZwAQG3dv+t/JPXPDUM4AYCaDD/gVAIAajH4gSEEAMxn6APDCQCYw9AHphIAMIaBD5QiAOA8hj5QlgCAYxn6wBIEAPycoQ8sRwDA8wx+YFkCAPYz+IHlCQDYzuAH2hAA8D2DH2hHAMB9Bj/Qlv83QLjN8AdacwIAnxn8QAQnAPDO8AdiCAD4NfgN/5rcFziJrwBIZ8DU9+gevQy7CmhGAJDM8F/fx3soBmAHAUAqw78fMQA7+A0AiQz//vyuA74hAEhjKGQRAnCHACCJQZBLCMAXAoAUNn8uF+sA/iEAgDROA+AiAMhgs+cW64JoAoDubPI8Yn0QSwDQmc2dLawTIgkAABFAIAFAVzZ09rJmiCIAAN6JAGIIADqyifMT1g8RBADAn0QA7QkAurFxcxRridYEAAAEEgAA9zkFoC0BAPCYCKAlAUAnNmqAjQQAwPfEJe0IAAAIJAAAtnEKQCsCAAACCQAACCQAALbzNQBtCAC6sDED7CAAACCQAKCLl9kXQAynTbQgAAAgkAAAgEACAAACCQCA/fwOgOUJAAAIJAAAIJAAAIBAAgAAAgkAOvEyIICNBAAABBIAABBIANCNrwEANhAAABBIAABAIAFAR74GAPiGAACAQAKArpwCADwgAAAgkACgM6cAnMXaYnkCAAACCQC680kN4AYBAACBBAAJnAJwJOuJFgQAKWzaAB8IAAAIJABI4hSAn7KGaON19gXAia6zLwCgKgFAF4Y9wA4CgFUZ+Izm+J9WBAArMfSZ6eP6EwMsTwCwAoOfasQAyxMAVGbwswIxwJIEABUZ/Kzqbe0KAcoTAFRi8NOFEKA8LwKiCsOfjqxrynICwGw2SLpzGkBJTgCYyfAnifVOKQKAWWyGJLperH2KEADMYAMknWeA6QQAo9n44BfPAlMJAEay4cFnngmmEQCMYqOD2zwbTCEAGMEGB495RhhOAADUIAIYSgBwNpsabOd5YRgBwJlsZgBFCQCAWoQzQwgAzmITg+d5fjidAACAQAKAM/j0Aj/nOeJUAgAAAgkAgLqcAnAaAcDRbFgACxAAALWJak4hAAAgkAAAqM8pAIcTABzJJgWwCAEAAIEEAMAanLBxKAEAAIEEAAAEEgAAEEgAAKzD7wA4jAAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAAAgkADgSC+zLwCAbQQAAAQSAAAQSAAAQCABwNH8DgBgAQIAYB0Cm8MIAAAIJAA4g08pAMUJAIA1CGsOJQAAIJAA4Cw+rQAUJgAA6hPUHE4AcCabFkBRAgAAAgkAzuYUAH7GM8QpBAAj2MAAihEAAHWJZ04jABjFRgb7eGY4lQBgJBsaQBECAKAesczpBACj2dgAChAAzCAC4D7PB0MIAGaxycGfPBcMIwCYyWYH7zwPDCUAmM2mB54DJhAAVGDzI5n1zxQCgCpsgiSy7plGAFCJzZAk1jtTCQAquc6+ABjE8Gc6AUAF14vhTxbrnekEALPZCEll7TOVAGAmGyDpPANMIwCYxcYHv3gWmEIAMIMNDz7zTDCcAACAQAKA0XzSgds8GwwlAAAgkAAAgECvsy+AKM8ecXprGit6Zr1fL9Y7gwgAKrMRsrK39eu7fUryFQAABBIAVOXTP11Yy5QkAAAgkAAAgEACAAACCQAACCQAGMVfhYJtPCsMIQAAIJAAAIBAAoCK/L1purGmKUcAAEAgAQAAgQQAAAQSAAAQSAAwgr/XDPt4ZjidAACAQAIAAAIJAAAIJACoxgtT6MraphQBQDV+/ERX1jalCAAACCQAqMgnJbqxpinndfYFEOHlsn8DtGGSzO8FOJ0TAAAIJAAAIJAAYBRHmrCNZ4UhBAAABBIAjOSTDTzmGWEYAcBoNji4zbPBUAKAGWx08JlnguEEALPY8OAXzwJTeBEQM71tfF76QyKDn6kEABUIAZIY/JQgAKhk7yuDbaRUIFxZkt8AAEAgAQAwjlMryhAAABBIALAy370CPEkAADxPhLIsAQAAgQQA1fiRFMAAAgBgDHFLKQIAAAIJAAAIJABYnV9hAzxBAAA8R3yyNAEAAIEEABX5tTTAyQQAwPlELeUIAAAIJAAAIJAAoAO/xgbYSQAA7Cc6WZ4AAIBAAoCq/Goa4EQCAOBcYpaSBAAABBIAABBIANCFX2UzirVGCwIAAAIJAAAIJACozK+nWZ01TFkCgE58N8vZrDHaeJ19AXCwtw3aJy+OZPDTjgCgKxv22kYGnLVCJAEAVDTiJOfswe8UitL8BoDqbKIAJxAAQGVnfUp37E88AcAKnAKwGmuW8gQAq7ChsgprlSUIAFZiY6U6a5RlCABWY4OlKmuTpQgAVmSjzbHKvV7lOuEf3gPAqt42XL/mZq8j14zBz7IEAKv7uAGLgT4qD9bK1wabCQA6+box7w0CGzu3WBe05DcAABBIANCZT278lDVEWwIAAAIJAAAIJAAAIJAAAIBAAgAAAgkAAAgkAOCdNwn25x7DbwIAAAIJAAAIJAAAIJAAoDuvcuVZ1g6tCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAgM+8KrYv9xY+EAAAEEgAAEAgAQAAgQQACbzSlb2sGdoTAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAf/LK2H7cU/hCAABAIAEAAIEEACm82Q3gAwEA8JlYJIIAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQC4zatj+3Av4QYBAACBBAAABBIAJPGGN4DfBADAO5FIDAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAHCfV8iuzz2EOwQAAAQSAAAQSACQxpveuMfaIIoAAIBAAgAAAgkAAAgkAAAgkAAAgEACAAACCQB4zJvkgJYEANCVeIMHBAAABBIAABBIAJDIK1/5ypogjgAAgEACAAACCQAACCQAACCQAACAQAIAAAIJAPieN8qtxz2DbwgAAAgkAAAgkAAAgEACgFRe/coba4FIAgAAAgkAAAgkAAAgkAAAgEACAAACCQAACCQAYBuvll2HewUbCAAACCQAACCQAACAQAKAZF4BizVALAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSALCdV8zW5x7BRgIAAAIJAAAIJAAAIJAAIJ1XweZy74kmAAAgkAAAgEACAAACCQAACCQAACCQAACAQAIA9vGq2brcG9hBAABAIAEAAIEEAAAEEgDglbCJ3HPiCQAACCQAACCQAACAQAIAAAIJAAAIJAAAIJAAgP28crYe9wR2EgAAEEgAAEAgAQC/eDMcEEUAAGnEHlwEAABEEgAAEEgAwHP8tbM63At4ggAAgEACAJ7nk+d87gE8SQDAu2d+HW4AzfPMf3t/AwB+e519AdDA2yAyXMYQXXAAAQDHMZiAZfgKAD7zKb4v9xY+EAAAEEgAwJ98UuzHPYUvBADcZmD04V7CDQIA7jM41ucewh0CAB4zQNbl3sEDAgC+Z5Csxz2DbwgA2MZAWYd7BRt4ERBs9zZYvPCnJoMfdhAAsN/HQSMG5jL04Ukv16v9CwDS+A0AAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQSAAAQCABAACBBAAABBIAABBIAABAIAEAAIEEAAAEEgAAEEgAAEAgAQAAgQQAAAQSAAAQ6P802wEUEkTUKAAAAABJRU5ErkJggg=="}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".2e72c78b.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="heladeria-e-commerce-baladon:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var h=c[l];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+a){s=h;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkheladeria_e_commerce_baladon=self.webpackChunkheladeria_e_commerce_baladon||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r={};!function(){"use strict";n.d(r,{I:function(){return SM}});var e={};n.r(e),n.d(e,{FirebaseError:function(){return mu},SDK_VERSION:function(){return kc},_DEFAULT_ENTRY_NAME:function(){return oc},_addComponent:function(){return lc},_addOrOverwriteComponent:function(){return hc},_apps:function(){return uc},_clearComponents:function(){return vc},_components:function(){return cc},_getProvider:function(){return dc},_registerComponent:function(){return fc},_removeServiceInstance:function(){return pc},deleteApp:function(){return Ec},getApp:function(){return bc},getApps:function(){return _c},initializeApp:function(){return wc},onLog:function(){return xc},registerVersion:function(){return Ic},setLogLevel:function(){return Tc}});var t=n(791),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||s(e,t)||u()}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var h,f=h||(h={});f.Pop="POP",f.Push="PUSH",f.Replace="REPLACE";var d=function(e){return e};function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function y(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function A(e,t){if(!e)throw new Error(t)}var k=(0,t.createContext)(null);var w=(0,t.createContext)(null);var b=(0,t.createContext)({outlet:null,matches:[]});function _(e){return function(e){var n=(0,t.useContext)(b).outlet;if(n)return(0,t.createElement)(P.Provider,{value:e},n);return n}(e.context)}function E(e){A(!1)}function C(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,s=e.navigationType,u=void 0===s?h.Pop:s,c=e.navigator,l=e.static,f=void 0!==l&&l;T()&&A(!1);var d=W(r),p=(0,t.useMemo)((function(){return{basename:d,navigator:c,static:f}}),[d,c,f]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,g=void 0===m?"/":m,b=v.search,_=void 0===b?"":b,E=v.hash,C=void 0===E?"":E,I=v.state,x=void 0===I?null:I,S=v.key,N=void 0===S?"default":S,P=(0,t.useMemo)((function(){var e=V(g,d);return null==e?null:{pathname:e,search:_,hash:C,state:x,key:N}}),[d,g,_,C,x,N]);return null==P?null:(0,t.createElement)(k.Provider,{value:p},(0,t.createElement)(w.Provider,{children:a,value:{location:P,navigationType:u}}))}function I(e){var n=e.children,r=e.location;return function(e,n){T()||A(!1);var r=(0,t.useContext)(b).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var s,u=S();if(n){var c,l="string"===typeof n?y(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||A(!1),s=l}else s=u;var h=s.pathname||"/",f="/"===o?h:h.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=V(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=L(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=F(i[o],r);return a}(e,{pathname:f});0;return U(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:q([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:q([o,e.pathnameBase])})})),r)}(D(n),r)}function x(e){T()||A(!1);var n=(0,t.useContext)(k),r=n.basename,i=n.navigator,a=O(e),o=a.hash,s=a.pathname,u=a.search,c=s;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),h=null!=l&&l.endsWith("/");c="/"===s?r+(h?"/":""):q([r,s])}return i.createHref({pathname:c,search:u,hash:o})}function T(){return null!=(0,t.useContext)(w)}function S(){return T()||A(!1),(0,t.useContext)(w).location}function N(){T()||A(!1);var e=(0,t.useContext)(k),n=e.basename,r=e.navigator,i=(0,t.useContext)(b).matches,a=S().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,t.useRef)(!1);(0,t.useEffect)((function(){s.current=!0}));var u=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=z(e,JSON.parse(o),a);"/"!==n&&(i.pathname=q([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return u}var P=(0,t.createContext)(null);function R(){var e=(0,t.useContext)(b).matches,n=e[e.length-1];return n?n.params:{}}function O(e){var n=(0,t.useContext)(b).matches,r=S().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return z(e,JSON.parse(i),r)}),[e,i,r])}function D(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==E&&A(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=D(e.props.children)),n.push(r)}else n.push.apply(n,D(e.props.children))})),n}function L(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||A(!1),a.relativePath=a.relativePath.slice(r.length));var o=q([r,a.relativePath]),s=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&A(!1),L(e.children,t,s,o)),(null!=e.path||e.index)&&t.push({path:o,score:B(o,e.index),routesMeta:s})})),t}var M=/^:\w+$/,j=function(e){return"*"===e};function B(e,t){var n=e.split("/"),r=n.length;return n.some(j)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!j(e)})).reduce((function(e,t){return e+(M.test(t)?3:""===t?1:10)}),r)}function F(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Q({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var h=s.route;a.push({params:r,pathname:q([i,l.pathname]),pathnameBase:q([i,l.pathnameBase]),route:h}),"/"!==l.pathnameBase&&(i=q([i,l.pathnameBase]))}return a}function U(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(b.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(_,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Q(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=c(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(ZS){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function z(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var s=a.split("/");".."===s[0];)s.shift(),o-=1;i.pathname=s.join("/")}r=o>=0?t[o]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:H(a),hash:G(s)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function V(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var q=function(e){return e.join("/").replace(/\/\/+/g,"/")},W=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},H=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},G=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function K(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var J=["onClick","reloadDocument","replace","state","target","to"];function Z(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=s.state||{};return[t.idx,d({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:g(e)}function r(e,t){return void 0===t&&(t=null),d(l({pathname:A.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:m()}))}function i(e){c=e,e=t(),f=e[0],A=e[1],k.call({action:c,location:A})}function a(e){s.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,s=o.history,u=null;o.addEventListener("popstate",(function(){if(u)w.call(u),u=null;else{var e=h.Pop,n=t(),r=n[0];if(n=n[1],w.length){if(null!=r){var o=f-r;o&&(u={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=h.Pop,f=(e=t())[0],A=e[1],k=v(),w=v();return null==f&&(f=0,s.replaceState(l({},s.state,{idx:f}),"")),{get action(){return c},get location(){return A},createHref:n,push:function e(t,a){var u=h.Push,c=r(t,a);if(!w.length||(w.call({action:u,location:c,retry:function(){e(t,a)}}),0)){var l=[{usr:c.state,key:c.key,idx:f+1},n(c)];c=l[0],l=l[1];try{s.pushState(c,"",l)}catch(ip){o.location.assign(l)}i(u)}},replace:function e(t,a){var o=h.Replace,u=r(t,a);w.length&&(w.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:f},n(u)],s.replaceState(u[0],"",u[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&o.addEventListener("beforeunload",p),function(){t(),w.length||o.removeEventListener("beforeunload",p)}}}}({window:i}));var o=a.current,s=c((0,t.useState)({action:o.action,location:o.location}),2),u=s[0],f=s[1];return(0,t.useLayoutEffect)((function(){return o.listen(f)}),[o]),(0,t.createElement)(C,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}var X=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,s=e.state,u=e.target,c=e.to,l=K(e,J),h=x(c),f=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,s=N(),u=S(),c=O(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||g(u)===g(c);s(e,{replace:n,state:o})}}),[u,s,c,a,o,i,e])}(c,{replace:o,state:s,target:u});return(0,t.createElement)("a",Y({},l,{href:h,onClick:function(e){r&&r(e),e.defaultPrevented||i||f(e)},ref:n,target:u}))}));function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function re(e,t){if(null==e)return{};var n,r,i=ne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ie=n(694),ae=n.n(ie),oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},se=t.createContext(null);n(176);function ue(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function ce(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function le(e,n,r){var i=(0,t.useRef)(void 0!==e),a=(0,t.useState)(n),o=a[0],s=a[1],u=void 0!==e,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}function he(e,t){return Object.keys(t).reduce((function(n,r){var i,a=n,o=a[ue(r)],s=a[r],u=ne(a,[ue(r),r].map(ce)),c=t[r],h=le(s,o,e[c]),f=h[0],d=h[1];return l({},u,((i={})[r]=f,i[c]=d,i))}),e)}function fe(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function de(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function pe(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}fe.__suppressDeprecationWarning=!0,de.__suppressDeprecationWarning=!0,pe.__suppressDeprecationWarning=!0;var ve=/-(.)/g;var me=n(184),ge=t.createContext({prefixes:{}});ge.Consumer,ge.Provider;function ye(e,n){var r=(0,t.useContext)(ge).prefixes;return e||r[n]||n}function Ae(){return"rtl"===(0,t.useContext)(ge).dir}var ke=["className","bsPrefix","as"],we=function(e){return e[0].toUpperCase()+(t=e,t.replace(ve,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function be(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?we(e):r,a=n.Component,o=n.defaultProps,s=t.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,o=t.as,s=void 0===o?a||"div":o,u=re(t,ke),c=ye(i,e);return(0,me.jsx)(s,te({ref:n,className:ae()(r,c)},u))}));return s.defaultProps=o,s.displayName=i,s}var _e=["bsPrefix","className","as"],Ee=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=re(e,_e);n=ye(n,"navbar-brand");var o=i||(a.href?"a":"span");return(0,me.jsx)(o,te(te({},a),{},{ref:t,className:ae()(r,n)}))}));Ee.displayName="NavbarBrand";var Ce=Ee;function Ie(e){return e&&e.ownerDocument||document}function xe(e,t){return function(e){var t=Ie(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Te=/([A-Z])/g;var Se=/^ms-/;function Ne(e){return function(e){return e.replace(Te,"-$1").toLowerCase()}(e).replace(Se,"-ms-")}var Pe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Re=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ne(t))||xe(e).getPropertyValue(Ne(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!Pe.test(e))}(i)?n+=Ne(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Ne(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function Oe(e,t){return Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Oe(e,t)}var De=!1,Le=t.createContext(null),Me="unmounted",je="exited",Be="entering",Fe="entered",Ue="exiting",Qe=function(e){var n,r;function a(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=je,r.appearStatus=Be):i=Fe:i=t.unmountOnExit||t.mountOnEnter?Me:je,r.state={status:i},r.nextCallback=null,r}r=e,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,Oe(n,r),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Me?{status:je}:null};var o=a.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Be&&n!==Fe&&(t=Be):n!==Be&&n!==Fe||(t=Ue)}this.updateStatus(!1,t)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},o.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Be?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===je&&this.setState({status:Me})},o.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=a[0],s=a[1],u=this.getTimeouts(),c=r?u.appear:u.enter;!e&&!n||De?this.safeSetState({status:Fe},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Be},(function(){t.props.onEntering(o,s),t.onTransitionEnd(c,(function(){t.safeSetState({status:Fe},(function(){t.props.onEntered(o,s)}))}))})))},o.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);t&&!De?(this.props.onExit(r),this.safeSetState({status:Ue},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:je},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:je},(function(){e.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},o.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},o.render=function(){var e=this.state.status;if(e===Me)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,ne(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Le.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},a}(t.Component);function ze(){}Qe.contextType=Le,Qe.propTypes={},Qe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ze,onEntering:ze,onEntered:ze,onExit:ze,onExiting:ze,onExited:ze},Qe.UNMOUNTED=Me,Qe.EXITED=je,Qe.ENTERING=Be,Qe.ENTERED=Fe,Qe.EXITING=Ue;var Ve=Qe,qe=!("undefined"===typeof window||!window.document||!window.document.createElement),We=!1,He=!1;try{var Ge={get passive(){return We=!0},get once(){return He=We=!0}};qe&&(window.addEventListener("test",Ge,Ge),window.removeEventListener("test",Ge,!0))}catch(NM){}var Ye=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!He){var i=r.once,a=r.capture,o=n;!He&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,We?r:a)}e.addEventListener(t,n,r)};var Ke=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var Je=function(e,t,n,r){return Ye(e,t,n,r),function(){Ke(e,t,n,r)}};function Ze(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=Je(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function Xe(e,t,n,r){null==n&&(n=function(e){var t=Re(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ze(e,n,r),a=Je(e,"transitionend",t);return function(){i(),a()}}function $e(e,t){var n=Re(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function et(e,t){var n=$e(e,"transitionDuration"),r=$e(e,"transitionDelay"),i=Xe(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function nt(e){e.offsetHeight}var rt=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var it=function(e,n){return(0,t.useMemo)((function(){return function(e,t){var n=rt(e),r=rt(t);return function(e){n&&n(e),r&&r(e)}}(e,n)}),[e,n])};var at,ot=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],st=t.forwardRef((function(e,n){var r=e.onEnter,a=e.onEntering,o=e.onEntered,s=e.onExit,u=e.onExiting,c=e.onExited,l=e.addEndListener,h=e.children,f=e.childRef,d=re(e,ot),p=(0,t.useRef)(null),v=it(p,f),m=function(e){var t;v((t=e)&&"setState"in t?i.findDOMNode(t):null!=t?t:null)},g=function(e){return function(t){e&&p.current&&e(p.current,t)}},y=(0,t.useCallback)(g(r),[r]),A=(0,t.useCallback)(g(a),[a]),k=(0,t.useCallback)(g(o),[o]),w=(0,t.useCallback)(g(s),[s]),b=(0,t.useCallback)(g(u),[u]),_=(0,t.useCallback)(g(c),[c]),E=(0,t.useCallback)(g(l),[l]);return(0,me.jsx)(Ve,te(te({ref:n},d),{},{onEnter:y,onEntered:k,onEntering:A,onExit:w,onExited:_,onExiting:b,addEndListener:E,nodeRef:p,children:"function"===typeof h?function(e,t){return h(e,te(te({},t),{},{ref:m}))}:t.cloneElement(h,{ref:m})}))})),ut=st,ct=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],lt={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ht(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=lt[e];return n+parseInt(Re(t,r[0]),10)+parseInt(Re(t,r[1]),10)}var ft=($(at={},je,"collapse"),$(at,Ue,"collapsing"),$(at,Be,"collapsing"),$(at,Fe,"collapse show"),at),dt={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:ht},pt=t.forwardRef((function(e,n){var r=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,s=e.onExiting,u=e.className,c=e.children,l=e.dimension,h=void 0===l?"height":l,f=e.getDimensionValue,d=void 0===f?ht:f,p=re(e,ct),v="function"===typeof h?h():h,m=(0,t.useMemo)((function(){return tt((function(e){e.style[v]="0"}),r)}),[v,r]),g=(0,t.useMemo)((function(){return tt((function(e){var t="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));e.style[v]="".concat(e[t],"px")}),i)}),[v,i]),y=(0,t.useMemo)((function(){return tt((function(e){e.style[v]=null}),a)}),[v,a]),A=(0,t.useMemo)((function(){return tt((function(e){e.style[v]="".concat(d(v,e),"px"),nt(e)}),o)}),[o,d,v]),k=(0,t.useMemo)((function(){return tt((function(e){e.style[v]=null}),s)}),[v,s]);return(0,me.jsx)(ut,te(te({ref:n,addEndListener:et},p),{},{"aria-expanded":p.role?p.in:null,onEnter:m,onEntering:g,onEntered:y,onExit:A,onExiting:k,childRef:c.ref,children:function(e,n){return t.cloneElement(c,te(te({},n),{},{className:ae()(u,c.props.className,ft[e],"width"===v&&"collapse-horizontal")}))}}))}));pt.defaultProps=dt;var vt=pt,mt=t.createContext(null);mt.displayName="NavbarContext";var gt=mt,yt=["children","bsPrefix"],At=t.forwardRef((function(e,n){var r=e.children,i=e.bsPrefix,a=re(e,yt);i=ye(i,"navbar-collapse");var o=(0,t.useContext)(gt);return(0,me.jsx)(vt,te(te({in:!(!o||!o.expanded)},a),{},{children:(0,me.jsx)("div",{ref:n,className:i,children:r})}))}));At.displayName="NavbarCollapse";var kt=At;var wt=function(e){var n=(0,t.useRef)(e);return(0,t.useEffect)((function(){n.current=e}),[e]),n};function bt(e){var n=wt(e);return(0,t.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var _t=["bsPrefix","className","children","label","as","onClick"],Et=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e.label,s=e.as,u=void 0===s?"button":s,c=e.onClick,l=re(e,_t);r=ye(r,"navbar-toggler");var h=(0,t.useContext)(gt)||{},f=h.onToggle,d=h.expanded,p=bt((function(e){c&&c(e),f&&f()}));return"button"===u&&(l.type="button"),(0,me.jsx)(u,te(te({},l),{},{ref:n,onClick:p,"aria-label":o,className:ae()(i,r,!d&&"collapsed"),children:a||(0,me.jsx)("span",{className:"".concat(r,"-icon")})}))}));Et.displayName="NavbarToggle",Et.defaultProps={label:"Toggle navigation"};var Ct=Et;function It(e){void 0===e&&(e=Ie());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(NM){return e.body}}function xt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function Tt(){var e=(0,t.useRef)(!0),n=(0,t.useRef)((function(){return e.current}));return(0,t.useEffect)((function(){return function(){e.current=!1}}),[]),n.current}function St(e){var n=function(e){var n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((function(){return function(){return n.current()}}),[])}function Nt(e){var n=(0,t.useRef)(null);return(0,t.useEffect)((function(){n.current=e})),n.current}function Pt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Rt(e){return function(e){if(Array.isArray(e))return o(e)}(e)||Pt(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&Dt(e.prototype,t),n&&Dt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mt(e){return"".concat("data-rr-ui-").concat(e)}var jt=Mt("modal-open"),Bt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;Ot(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return Lt(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=$({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Re(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(jt,""),Re(r,t)}},{key:"reset",value:function(){var e=this;Rt(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(jt),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),Ft=Bt,Ut=(0,t.createContext)(qe?window:void 0);Ut.Provider;function Qt(){return(0,t.useContext)(Ut)}var zt=function(e,t){var n;return qe?null==e?(t||Ie()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var Vt,qt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function Wt(e){var n=Qt(),r=e||function(e){return Vt||(Vt=new Ft({ownerDocument:null==e?void 0:e.document})),Vt}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,t.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((function(e){i.current.backdrop=e}),[])})}var Ht=(0,t.forwardRef)((function(e,n){var r=e.show,a=void 0!==r&&r,o=e.role,s=void 0===o?"dialog":o,u=e.className,l=e.style,h=e.children,f=e.backdrop,d=void 0===f||f,p=e.keyboard,v=void 0===p||p,m=e.onBackdropClick,g=e.onEscapeKeyDown,y=e.transition,A=e.backdropTransition,k=e.autoFocus,w=void 0===k||k,b=e.enforceFocus,_=void 0===b||b,E=e.restoreFocus,C=void 0===E||E,I=e.restoreFocusOptions,x=e.renderDialog,T=e.renderBackdrop,S=void 0===T?function(e){return(0,me.jsx)("div",Object.assign({},e))}:T,N=e.manager,P=e.container,R=e.onShow,O=e.onHide,D=void 0===O?function(){}:O,L=e.onExit,M=e.onExited,j=e.onExiting,B=e.onEnter,F=e.onEntering,U=e.onEntered,Q=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,qt),z=function(e,n){var r=Qt(),i=c((0,t.useState)((function(){return zt(e,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=zt(e);s&&o(s)}return(0,t.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,t.useEffect)((function(){var t=zt(e);t!==a&&o(t)}),[e,a]),a}(P),V=Wt(N),q=Tt(),W=Nt(a),H=c((0,t.useState)(!a),2),G=H[0],Y=H[1],K=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(function(){return V}),[V]),qe&&!W&&a&&(K.current=It()),y||a||G?a&&G&&Y(!1):Y(!0);var J=bt((function(){if(V.add(),ne.current=Je(document,"keydown",ee),te.current=Je(document,"focus",(function(){return setTimeout(X)}),!0),R&&R(),w){var e=It(document);V.dialog&&e&&!xt(V.dialog,e)&&(K.current=e,V.dialog.focus())}})),Z=bt((function(){var e;(V.remove(),null==ne.current||ne.current(),null==te.current||te.current(),C)&&(null==(e=K.current)||null==e.focus||e.focus(I),K.current=null)}));(0,t.useEffect)((function(){a&&z&&J()}),[a,z,J]),(0,t.useEffect)((function(){G&&Z()}),[G,Z]),St((function(){Z()}));var X=bt((function(){if(_&&q()&&V.isTopModal()){var e=It();V.dialog&&e&&!xt(V.dialog,e)&&V.dialog.focus()}})),$=bt((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&D())})),ee=bt((function(e){v&&27===e.keyCode&&V.isTopModal()&&(null==g||g(e),e.defaultPrevented||D())})),te=(0,t.useRef)(),ne=(0,t.useRef)(),re=y;if(!z||!(a||re&&!G))return null;var ie=Object.assign({role:s,ref:V.setDialogRef,"aria-modal":"dialog"===s||void 0},Q,{style:l,className:u,tabIndex:-1}),ae=x?x(ie):(0,me.jsx)("div",Object.assign({},ie,{children:t.cloneElement(h,{role:"document"})}));re&&(ae=(0,me.jsx)(re,{appear:!0,unmountOnExit:!0,in:!!a,onExit:L,onExiting:j,onExited:function(){Y(!0),null==M||M.apply(void 0,arguments)},onEnter:B,onEntering:F,onEntered:U,children:ae}));var oe=null;if(d){var se=A;oe=S({ref:V.setBackdropRef,onClick:$}),se&&(oe=(0,me.jsx)(se,{appear:!0,in:!!a,children:oe}))}return(0,me.jsx)(me.Fragment,{children:i.createPortal((0,me.jsxs)(me.Fragment,{children:[oe,ae]}),z)})}));Ht.displayName="Modal";var Gt,Yt=Object.assign(Ht,{Manager:Ft}),Kt=["className","children","transitionClasses"],Jt=($(Gt={},Be,"show"),$(Gt,Fe,"show"),Gt),Zt=t.forwardRef((function(e,n){var r=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,s=re(e,Kt),u=(0,t.useCallback)((function(e,t){nt(e),null==s.onEnter||s.onEnter(e,t)}),[s]);return(0,me.jsx)(ut,te(te({ref:n,addEndListener:et},s),{},{onEnter:u,childRef:i.ref,children:function(e,n){return t.cloneElement(i,te(te({},n),{},{className:ae()("fade",r,i.props.className,Jt[e],o[e])}))}}))}));Zt.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Zt.displayName="Fade";var Xt,$t=Zt,en=be("offcanvas-body"),tn=["bsPrefix","className","children"],nn=($(Xt={},Be,"show"),$(Xt,Fe,"show"),Xt),rn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=re(e,tn);return r=ye(r,"offcanvas"),(0,me.jsx)(ut,te(te({ref:n,addEndListener:et},o),{},{childRef:a.ref,children:function(e,n){return t.cloneElement(a,te(te({},n),{},{className:ae()(i,a.props.className,(e===Be||e===Ue)&&"".concat(r,"-toggling"),nn[e])}))}}))}));rn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},rn.displayName="OffcanvasToggling";var an=rn,on=t.createContext({onHide:function(){}}),sn=n(7),un=n.n(sn),cn=["className","variant"],ln={"aria-label":un().string,onClick:un().func,variant:un().oneOf(["white"])},hn=t.forwardRef((function(e,t){var n=e.className,r=e.variant,i=re(e,cn);return(0,me.jsx)("button",te({ref:t,type:"button",className:ae()("btn-close",r&&"btn-close-".concat(r),n)},i))}));hn.displayName="CloseButton",hn.propTypes=ln,hn.defaultProps={"aria-label":"Close"};var fn=hn,dn=["closeLabel","closeVariant","closeButton","onHide","children"],pn=t.forwardRef((function(e,n){var r=e.closeLabel,i=e.closeVariant,a=e.closeButton,o=e.onHide,s=e.children,u=re(e,dn),c=(0,t.useContext)(on),l=bt((function(){null==c||c.onHide(),null==o||o()}));return(0,me.jsxs)("div",te(te({ref:n},u),{},{children:[s,a&&(0,me.jsx)(fn,{"aria-label":r,variant:i,onClick:l})]}))}));pn.defaultProps={closeLabel:"Close",closeButton:!1};var vn=pn,mn=["bsPrefix","className"],gn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=re(e,mn);return n=ye(n,"offcanvas-header"),(0,me.jsx)(vn,te(te({ref:t},i),{},{className:ae()(r,n)}))}));gn.displayName="OffcanvasHeader",gn.defaultProps={closeLabel:"Close",closeButton:!1};var yn=gn,An=function(e){return t.forwardRef((function(t,n){return(0,me.jsx)("div",te(te({},t),{},{ref:n,className:ae()(t.className,e)}))}))},kn=be("offcanvas-title",{Component:An("h5")});function wn(e){return wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},wn(e)}function bn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=wn(e)););return e}function _n(){return _n="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=bn(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_n.apply(this,arguments)}function En(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function Cn(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(NM){return!1}}function In(e){return In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(e)}function xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tn(e,t){if(t&&("object"===In(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xn(e)}function Sn(e){var t=Cn();return function(){var n,r=wn(e);if(t){var i=wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}var Nn=Function.prototype.bind.call(Function.prototype.call,[].slice);function Pn(e,t){return Nn(e.querySelectorAll(t))}function Rn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var On,Dn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ln=".sticky-top",Mn=".navbar-toggler",jn=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,Re(t,$({},e,"".concat(parseFloat(Re(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Re(t,$({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;_n(wn(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Pn(a,Dn).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Pn(a,Ln).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),Pn(a,Mn).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;_n(wn(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Rn(r.className,i):r.setAttribute("class",Rn(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Pn(a,Dn).forEach((function(e){return t.restore(o,e)})),Pn(a,Ln).forEach((function(e){return t.restore(s,e)})),Pn(a,Mn).forEach((function(e){return t.restore(s,e)}))}}]),n}(Ft);function Bn(e){return On||(On=new jn(e)),On}var Fn=jn,Un=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function Qn(e){return(0,me.jsx)(an,te({},e))}function zn(e){return(0,me.jsx)($t,te({},e))}var Vn=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.children,o=e["aria-labelledby"],s=e.placement,u=e.show,c=e.backdrop,l=e.keyboard,h=e.scroll,f=e.onEscapeKeyDown,d=e.onShow,p=e.onHide,v=e.container,m=e.autoFocus,g=e.enforceFocus,y=e.restoreFocus,A=e.restoreFocusOptions,k=e.onEntered,w=e.onExit,b=e.onExiting,_=e.onEnter,E=e.onEntering,C=e.onExited,I=e.backdropClassName,x=e.manager,T=re(e,Un),S=(0,t.useRef)();r=ye(r,"offcanvas");var N=((0,t.useContext)(gt)||{}).onToggle,P=bt((function(){null==N||N(),null==p||p()})),R=(0,t.useMemo)((function(){return{onHide:P}}),[P]);var O=(0,t.useCallback)((function(e){return(0,me.jsx)("div",te(te({},e),{},{className:ae()("".concat(r,"-backdrop"),I)}))}),[I,r]);return(0,me.jsx)(on.Provider,{value:R,children:(0,me.jsx)(Yt,{show:u,ref:n,backdrop:c,container:v,keyboard:l,autoFocus:m,enforceFocus:g&&!h,restoreFocus:y,restoreFocusOptions:A,onEscapeKeyDown:f,onShow:d,onHide:P,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==_||_.apply(void 0,[e].concat(n))},onEntering:E,onEntered:k,onExit:w,onExiting:b,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==C||C.apply(void 0,n)},manager:x||(h?(S.current||(S.current=new Fn({handleContainerOverflow:!1})),S.current):Bn()),transition:Qn,backdropTransition:zn,renderBackdrop:O,renderDialog:function(e){return(0,me.jsx)("div",te(te(te({role:"dialog"},e),T),{},{className:ae()(i,r,"".concat(r,"-").concat(s)),"aria-labelledby":o,children:a}))}})})}));Vn.displayName="Offcanvas",Vn.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var qn=Object.assign(Vn,{Body:en,Header:yn,Title:kn}),Wn=t.forwardRef((function(e,n){var r=(0,t.useContext)(gt);return(0,me.jsx)(qn,te({ref:n,show:!(null==r||!r.expanded)},e))}));Wn.displayName="NavbarOffcanvas";var Hn=Wn,Gn=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],Yn=be("navbar-text",{Component:"span"}),Kn=t.forwardRef((function(e,n){var r=he(e,{expanded:"onToggle"}),i=r.bsPrefix,a=r.expand,o=r.variant,s=r.bg,u=r.fixed,c=r.sticky,l=r.className,h=r.as,f=void 0===h?"nav":h,d=r.expanded,p=r.onToggle,v=r.onSelect,m=r.collapseOnSelect,g=re(r,Gn),y=ye(i,"navbar"),A=(0,t.useCallback)((function(){null==v||v.apply(void 0,arguments),m&&d&&(null==p||p(!1))}),[v,m,d,p]);void 0===g.role&&"nav"!==f&&(g.role="navigation");var k="".concat(y,"-expand");"string"===typeof a&&(k="".concat(k,"-").concat(a));var w=(0,t.useMemo)((function(){return{onToggle:function(){return null==p?void 0:p(!d)},bsPrefix:y,expanded:!!d}}),[y,d,p]);return(0,me.jsx)(gt.Provider,{value:w,children:(0,me.jsx)(se.Provider,{value:A,children:(0,me.jsx)(f,te(te({ref:n},g),{},{className:ae()(l,y,a&&k,o&&"".concat(y,"-").concat(o),s&&"bg-".concat(s),c&&"sticky-".concat(c),u&&"fixed-".concat(u))}))})})}));Kn.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},Kn.displayName="Navbar";var Jn=Object.assign(Kn,{Brand:Ce,Collapse:kt,Offcanvas:Hn,Text:Yn,Toggle:Ct}),Zn=["bsPrefix","fluid","as","className"],Xn=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,a=void 0===i?"div":i,o=e.className,s=re(e,Zn),u=ye(n,"container"),c="string"===typeof r?"-".concat(r):"-fluid";return(0,me.jsx)(a,te(te({ref:t},s),{},{className:ae()(o,r?"".concat(u).concat(c):u)}))}));Xn.displayName="Container",Xn.defaultProps={fluid:!1};var $n=Xn;n(573);function er(){return(0,t.useReducer)((function(e){return!e}),!1)[1]}var tr=t.createContext(null);tr.displayName="NavContext";var nr=tr,rr=t.createContext(null),ir=["as","disabled"];function ar(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},l]}var or=t.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ir),a=c(ar(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,me.jsx)(s,Object.assign({},i,o,{ref:t}))}));or.displayName="Button";var sr=or,ur=["as","active","eventKey"];function cr(e){var n=e.key,r=e.onClick,i=e.active,a=e.id,o=e.role,s=e.disabled,u=(0,t.useContext)(se),c=(0,t.useContext)(nr),l=i,h={role:o};if(c){o||"tablist"!==c.role||(h.role="tab");var f=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);h[Mt("event-key")]=n,h.id=f||a,h["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===h.role&&(s&&(h.tabIndex=-1,h["aria-disabled"]=!0),l?h["aria-selected"]=l:h.tabIndex=-1),h.onClick=bt((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[h,{isActive:l}]}var lr=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?sr:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ur),s=c(cr(Object.assign({key:oe(a,o.href),active:i},o)),2),u=s[0],l=s[1];return u[Mt("active")]=l.isActive,(0,me.jsx)(r,Object.assign({},o,u,{ref:t}))}));lr.displayName="NavItem";var hr=lr,fr=["as","onSelect","activeKey","role","onKeyDown"];var dr=function(){},pr=Mt("event-key"),vr=t.forwardRef((function(e,n){var r,i,a=e.as,o=void 0===a?"div":a,s=e.onSelect,u=e.activeKey,c=e.role,l=e.onKeyDown,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,fr),f=er(),d=(0,t.useRef)(!1),p=(0,t.useContext)(se),v=(0,t.useContext)(rr);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,i=v.getControllerId);var m=(0,t.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=Pn(t,"[".concat(pr,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},y=function(e,t){null!=e&&(null==s||s(e,t),null==p||p(e,t))};(0,t.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(pr,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var A=it(n,m);return(0,me.jsx)(se.Provider,{value:y,children:(0,me.jsx)(nr.Provider,{value:{role:c,activeKey:oe(u),getControlledId:r||dr,getControllerId:i||dr},children:(0,me.jsx)(o,Object.assign({},h,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,f()}},ref:A,role:c}))})})}));vr.displayName="Nav";var mr=Object.assign(vr,{Item:hr}),gr=t.createContext(null);gr.displayName="CardHeaderContext";var yr=gr,Ar=be("nav-item");function kr(){return(0,t.useState)(null)}var wr="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,br="undefined"!==typeof document||wr?t.useLayoutEffect:t.useEffect;new WeakMap;var _r=["onKeyDown"];var Er=t.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,_r),a=c(ar(Object.assign({tagName:"a"},i)),1)[0],o=bt((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,me.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,me.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Er.displayName="Anchor";var Cr=Er,Ir=["bsPrefix","className","as","active","eventKey"],xr=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?Cr:i,o=e.active,s=e.eventKey,u=re(e,Ir);n=ye(n,"nav-link");var l=c(cr(te({key:oe(s,u.href),active:o},u)),2),h=l[0],f=l[1];return(0,me.jsx)(a,te(te(te({},u),h),{},{ref:t,className:ae()(r,n,u.disabled&&"disabled",f.isActive&&"active")}))}));xr.displayName="NavLink",xr.defaultProps={disabled:!1};var Tr=xr,Sr=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Nr=t.forwardRef((function(e,n){var r,i,a,o=he(e,{activeKey:"onSelect"}),s=o.as,u=void 0===s?"div":s,c=o.bsPrefix,l=o.variant,h=o.fill,f=o.justify,d=o.navbar,p=o.navbarScroll,v=o.className,m=o.activeKey,g=re(o,Sr),y=ye(c,"nav"),A=!1,k=(0,t.useContext)(gt),w=(0,t.useContext)(yr);return k?(i=k.bsPrefix,A=null==d||d):w&&(a=w.cardHeaderBsPrefix),(0,me.jsx)(mr,te({as:u,ref:n,activeKey:m,className:ae()(v,(r={},$(r,y,!A),$(r,"".concat(i,"-nav"),A),$(r,"".concat(i,"-nav-scroll"),A&&p),$(r,"".concat(a,"-").concat(l),!!a),$(r,"".concat(y,"-").concat(l),!!l),$(r,"".concat(y,"-fill"),h),$(r,"".concat(y,"-justified"),f),r))},g))}));Nr.displayName="Nav",Nr.defaultProps={justify:!1,fill:!1};var Pr=Object.assign(Nr,{Item:Ar,Link:Tr}),Rr=t.createContext(null);function Or(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=s(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}var Dr=Object.prototype.hasOwnProperty;function Lr(e,t,n){var r,i=Or(e.keys());try{for(i.s();!(r=i.n()).done;)if(Mr(n=r.value,t))return n}catch(a){i.e(a)}finally{i.f()}}function Mr(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Mr(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;var a,o=Or(e);try{for(o.s();!(a=o.n()).done;){if((i=r=a.value)&&"object"===typeof i&&!(i=Lr(t,i)))return!1;if(!t.has(i))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}if(n===Map){if(e.size!==t.size)return!1;var s,u=Or(e);try{for(u.s();!(s=u.n()).done;){if((i=(r=s.value)[0])&&"object"===typeof i&&!(i=Lr(t,i)))return!1;if(!Mr(r[1],t.get(i)))return!1}}catch(c){u.e(c)}finally{u.f()}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Dr.call(e,n)&&++r&&!Dr.call(t,n))return!1;if(!(n in t)||!Mr(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}var jr=function(e){var n=Tt();return[e[0],(0,t.useCallback)((function(t){if(n())return e[1](t)}),[n,e[1]])]};function Br(e){return e.split("-")[0]}function Fr(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ur(e){return e instanceof Fr(e).Element||e instanceof Element}function Qr(e){return e instanceof Fr(e).HTMLElement||e instanceof HTMLElement}function zr(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Fr(e).ShadowRoot||e instanceof ShadowRoot)}var Vr=Math.max,qr=Math.min,Wr=Math.round;function Hr(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(Qr(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=Wr(n.width)/o||1),a>0&&(i=Wr(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Gr(e){var t=Hr(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Yr(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&zr(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Kr(e){return e?(e.nodeName||"").toLowerCase():null}function Jr(e){return Fr(e).getComputedStyle(e)}function Zr(e){return["table","td","th"].indexOf(Kr(e))>=0}function Xr(e){return((Ur(e)?e.ownerDocument:e.document)||window.document).documentElement}function $r(e){return"html"===Kr(e)?e:e.assignedSlot||e.parentNode||(zr(e)?e.host:null)||Xr(e)}function ei(e){return Qr(e)&&"fixed"!==Jr(e).position?e.offsetParent:null}function ti(e){for(var t=Fr(e),n=ei(e);n&&Zr(n)&&"static"===Jr(n).position;)n=ei(n);return n&&("html"===Kr(n)||"body"===Kr(n)&&"static"===Jr(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&Qr(e)&&"fixed"===Jr(e).position)return null;for(var n=$r(e);Qr(n)&&["html","body"].indexOf(Kr(n))<0;){var r=Jr(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ni(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ri(e,t,n){return Vr(e,qr(t,n))}function ii(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ai(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var oi="top",si="bottom",ui="right",ci="left",li="auto",hi=[oi,si,ui,ci],fi="start",di="end",pi="viewport",vi="popper",mi=hi.reduce((function(e,t){return e.concat([t+"-"+fi,t+"-"+di])}),[]),gi=[].concat(hi,[li]).reduce((function(e,t){return e.concat([t,t+"-"+fi,t+"-"+di])}),[]),yi=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];var Ai={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,s=Br(n.placement),u=ni(s),c=[ci,ui].indexOf(s)>=0?"height":"width";if(a&&o){var l=function(e,t){return ii("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ai(e,hi))}(i.padding,n),h=Gr(a),f="y"===u?oi:ci,d="y"===u?si:ui,p=n.rects.reference[c]+n.rects.reference[u]-o[u]-n.rects.popper[c],v=o[u]-n.rects.reference[u],m=ti(a),g=m?"y"===u?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,A=l[f],k=g-h[c]-l[d],w=g/2-h[c]/2+y,b=ri(A,w,k),_=u;n.modifiersData[r]=((t={})[_]=b,t.centerOffset=b-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Yr(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ki(e){return e.split("-")[1]}var wi={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bi(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,s=e.position,u=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,h=e.isFixed,f=o.x,d=void 0===f?0:f,p=o.y,v=void 0===p?0:p,m="function"===typeof l?l({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),A=ci,k=oi,w=window;if(c){var b=ti(n),_="clientHeight",E="clientWidth";if(b===Fr(n)&&"static"!==Jr(b=Xr(n)).position&&"absolute"===s&&(_="scrollHeight",E="scrollWidth"),b=b,i===oi||(i===ci||i===ui)&&a===di)k=si,v-=(h&&w.visualViewport?w.visualViewport.height:b[_])-r.height,v*=u?1:-1;if(i===ci||(i===oi||i===si)&&a===di)A=ui,d-=(h&&w.visualViewport?w.visualViewport.width:b[E])-r.width,d*=u?1:-1}var C,I=Object.assign({position:s},c&&wi),x=!0===l?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:Wr(t*r)/r||0,y:Wr(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=x.x,v=x.y,u?Object.assign({},I,((C={})[k]=y?"0":"",C[A]=g?"0":"",C.transform=(w.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",C)):Object.assign({},I,((t={})[k]=y?v+"px":"",t[A]=g?d+"px":"",t.transform="",t))}var _i={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,s=n.roundOffsets,u=void 0===s||s,c={placement:Br(t.placement),variation:ki(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,bi(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,bi(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Ei={passive:!0};var Ci={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,s=void 0===o||o,u=Fr(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ei)})),s&&u.addEventListener("resize",n.update,Ei),function(){a&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ei)})),s&&u.removeEventListener("resize",n.update,Ei)}},data:{}},Ii={left:"right",right:"left",bottom:"top",top:"bottom"};function xi(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ii[e]}))}var Ti={start:"end",end:"start"};function Si(e){return e.replace(/start|end/g,(function(e){return Ti[e]}))}function Ni(e){var t=Fr(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Pi(e){return Hr(Xr(e)).left+Ni(e).scrollLeft}function Ri(e){var t=Jr(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Oi(e){return["html","body","#document"].indexOf(Kr(e))>=0?e.ownerDocument.body:Qr(e)&&Ri(e)?e:Oi($r(e))}function Di(e,t){var n;void 0===t&&(t=[]);var r=Oi(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Fr(r),o=i?[a].concat(a.visualViewport||[],Ri(r)?r:[]):r,s=t.concat(o);return i?s:s.concat(Di($r(o)))}function Li(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Mi(e,t){return t===pi?Li(function(e){var t=Fr(e),n=Xr(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,s=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,s=r.offsetTop)),{width:i,height:a,x:o+Pi(e),y:s}}(e)):Ur(t)?function(e){var t=Hr(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):Li(function(e){var t,n=Xr(e),r=Ni(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=Vr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Vr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Pi(e),u=-r.scrollTop;return"rtl"===Jr(i||n).direction&&(s+=Vr(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:s,y:u}}(Xr(e)))}function ji(e,t,n){var r="clippingParents"===t?function(e){var t=Di($r(e)),n=["absolute","fixed"].indexOf(Jr(e).position)>=0&&Qr(e)?ti(e):e;return Ur(n)?t.filter((function(e){return Ur(e)&&Yr(e,n)&&"body"!==Kr(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=Mi(e,n);return t.top=Vr(r.top,t.top),t.right=qr(r.right,t.right),t.bottom=qr(r.bottom,t.bottom),t.left=Vr(r.left,t.left),t}),Mi(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Bi(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Br(i):null,o=i?ki(i):null,s=n.x+n.width/2-r.width/2,u=n.y+n.height/2-r.height/2;switch(a){case oi:t={x:s,y:n.y-r.height};break;case si:t={x:s,y:n.y+n.height};break;case ui:t={x:n.x+n.width,y:u};break;case ci:t={x:n.x-r.width,y:u};break;default:t={x:n.x,y:n.y}}var c=a?ni(a):null;if(null!=c){var l="y"===c?"height":"width";switch(o){case fi:t[c]=t[c]-(n[l]/2-r[l]/2);break;case di:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Fi(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,s=n.rootBoundary,u=void 0===s?pi:s,c=n.elementContext,l=void 0===c?vi:c,h=n.altBoundary,f=void 0!==h&&h,d=n.padding,p=void 0===d?0:d,v=ii("number"!==typeof p?p:ai(p,hi)),m=l===vi?"reference":vi,g=e.rects.popper,y=e.elements[f?m:l],A=ji(Ur(y)?y:y.contextElement||Xr(e.elements.popper),o,u),k=Hr(e.elements.reference),w=Bi({reference:k,element:g,strategy:"absolute",placement:i}),b=Li(Object.assign({},g,w)),_=l===vi?b:k,E={top:A.top-_.top+v.top,bottom:_.bottom-A.bottom+v.bottom,left:A.left-_.left+v.left,right:_.right-A.right+v.right},C=e.modifiersData.offset;if(l===vi&&C){var I=C[i];Object.keys(E).forEach((function(e){var t=[ui,si].indexOf(e)>=0?1:-1,n=[oi,si].indexOf(e)>=0?"y":"x";E[e]+=I[n]*t}))}return E}var Ui={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0===o||o,u=n.fallbackPlacements,c=n.padding,l=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=Br(m),y=u||(g===m||!p?[xi(m)]:function(e){if(Br(e)===li)return[];var t=xi(e);return[Si(e),t,Si(t)]}(m)),A=[m].concat(y).reduce((function(e,n){return e.concat(Br(n)===li?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?gi:u,l=ki(r),h=l?s?mi:mi.filter((function(e){return ki(e)===l})):hi,f=h.filter((function(e){return c.indexOf(e)>=0}));0===f.length&&(f=h);var d=f.reduce((function(t,n){return t[n]=Fi(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Br(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:l,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),k=t.rects.reference,w=t.rects.popper,b=new Map,_=!0,E=A[0],C=0;C<A.length;C++){var I=A[C],x=Br(I),T=ki(I)===fi,S=[oi,si].indexOf(x)>=0,N=S?"width":"height",P=Fi(t,{placement:I,boundary:l,rootBoundary:h,altBoundary:f,padding:c}),R=S?T?ui:ci:T?si:oi;k[N]>w[N]&&(R=xi(R));var O=xi(R),D=[];if(a&&D.push(P[x]<=0),s&&D.push(P[R]<=0,P[O]<=0),D.every((function(e){return e}))){E=I,_=!1;break}b.set(I,D)}if(_)for(var L=function(e){var t=A.find((function(t){var n=b.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=p?3:1;M>0;M--){if("break"===L(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Qi(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zi(e){return[oi,ui,si,ci].some((function(t){return e[t]>=0}))}var Vi={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=gi.reduce((function(e,n){return e[n]=function(e,t,n){var r=Br(e),i=[ci,oi].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],s=a[1];return o=o||0,s=(s||0)*i,[ci,ui].indexOf(r)>=0?{x:s,y:o}:{x:o,y:s}}(n,t.rects,a),e}),{}),s=o[t.placement],u=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=o}};var qi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,s=void 0!==o&&o,u=n.boundary,c=n.rootBoundary,l=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,v=void 0===p?0:p,m=Fi(t,{boundary:u,rootBoundary:c,padding:h,altBoundary:l}),g=Br(t.placement),y=ki(t.placement),A=!y,k=ni(g),w="x"===k?"y":"x",b=t.modifiersData.popperOffsets,_=t.rects.reference,E=t.rects.popper,C="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,I="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(b){if(a){var S,N="y"===k?oi:ci,P="y"===k?si:ui,R="y"===k?"height":"width",O=b[k],D=O+m[N],L=O-m[P],M=d?-E[R]/2:0,j=y===fi?_[R]:E[R],B=y===fi?-E[R]:-_[R],F=t.elements.arrow,U=d&&F?Gr(F):{width:0,height:0},Q=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=Q[N],V=Q[P],q=ri(0,_[R],U[R]),W=A?_[R]/2-M-q-z-I.mainAxis:j-q-z-I.mainAxis,H=A?-_[R]/2+M+q+V+I.mainAxis:B+q+V+I.mainAxis,G=t.elements.arrow&&ti(t.elements.arrow),Y=G?"y"===k?G.clientTop||0:G.clientLeft||0:0,K=null!=(S=null==x?void 0:x[k])?S:0,J=O+H-K,Z=ri(d?qr(D,O+W-K-Y):D,O,d?Vr(L,J):L);b[k]=Z,T[k]=Z-O}if(s){var X,$="x"===k?oi:ci,ee="x"===k?si:ui,te=b[w],ne="y"===w?"height":"width",re=te+m[$],ie=te-m[ee],ae=-1!==[oi,ci].indexOf(g),oe=null!=(X=null==x?void 0:x[w])?X:0,se=ae?re:te-_[ne]-E[ne]-oe+I.altAxis,ue=ae?te+_[ne]+E[ne]-oe-I.altAxis:ie,ce=d&&ae?function(e,t,n){var r=ri(e,t,n);return r>n?n:r}(se,te,ue):ri(d?se:re,te,d?ue:ie);b[w]=ce,T[w]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function Wi(e,t,n){void 0===n&&(n=!1);var r=Qr(t),i=Qr(t)&&function(e){var t=e.getBoundingClientRect(),n=Wr(t.width)/e.offsetWidth||1,r=Wr(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Xr(t),o=Hr(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==Kr(t)||Ri(a))&&(s=function(e){return e!==Fr(e)&&Qr(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ni(e);var t}(t)),Qr(t)?((u=Hr(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):a&&(u.x=Pi(a))),{x:o.left+s.scrollLeft-u.x,y:o.top+s.scrollTop-u.y,width:o.width,height:o.height}}function Hi(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Gi(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Yi={placement:"bottom",modifiers:[],strategy:"absolute"};function Ki(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Ji(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Yi:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Yi,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},a,i.options,s),i.scrollParents={reference:Ur(e)?Di(e):e.contextElement?Di(e.contextElement):[],popper:Di(t)};var l=function(e){var t=Hi(e);return yi.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:i,name:t,instance:u,options:r}),c=function(){};o.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(Ki(t,n)){i.rects={reference:Wi(t,ti(n),"fixed"===i.options.strategy),popper:Gr(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,c=a.options,l=void 0===c?{}:c,h=a.name;"function"===typeof o&&(i=o({state:i,options:l,name:h,instance:u})||i)}else i.reset=!1,r=-1}}},update:Gi((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!Ki(e,t))return u;function c(){o.forEach((function(e){return e()})),o=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var Zi=Ji({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=Fi(t,{elementContext:"reference"}),s=Fi(t,{altBoundary:!0}),u=Qi(o,r),c=Qi(s,i,a),l=zi(u),h=zi(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":h})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Bi({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},_i,Ci,Vi,Ui,qi,Ai]}),Xi=["enabled","placement","strategy","modifiers"];function $i(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var ea={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:function(){}},ta={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,a=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===a&&"setAttribute"in i){var o=i.getAttribute("aria-describedby");if(o&&-1!==o.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",o?"".concat(o,",").concat(r.id):r.id)}}},na=[];var ra=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.enabled,a=void 0===i||i,o=r.placement,s=void 0===o?"bottom":o,u=r.strategy,l=void 0===u?"absolute":u,h=r.modifiers,f=void 0===h?na:h,d=$i(r,Xi),p=(0,t.useRef)(f),v=(0,t.useRef)(),m=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.update()}),[]),g=(0,t.useCallback)((function(){var e;null==(e=v.current)||e.forceUpdate()}),[]),y=jr((0,t.useState)({placement:s,update:m,forceUpdate:g,attributes:{},styles:{popper:{},arrow:{}}})),A=c(y,2),k=A[0],w=A[1],b=(0,t.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),w({state:t,styles:n,attributes:r,update:m,forceUpdate:g,placement:t.placement})}}}),[m,g,w]),_=(0,t.useMemo)((function(){return Mr(p.current,f)||(p.current=f),p.current}),[f]);return(0,t.useEffect)((function(){v.current&&a&&v.current.setOptions({placement:s,strategy:l,modifiers:[].concat(Rt(_),[b,ea])})}),[l,s,b,a,_]),(0,t.useEffect)((function(){if(a&&null!=e&&null!=n)return v.current=Zi(e,n,Object.assign({},d,{placement:s,strategy:l,modifiers:[].concat(Rt(_),[ta,b])})),function(){null!=v.current&&(v.current.destroy(),v.current=void 0,w((function(e){return Object.assign({},e,{attributes:{},styles:{popper:{}}})})))}}),[a,e,n]),k},ia=n(391),aa=n.n(ia),oa=function(){};function sa(e){return 0===e.button}function ua(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var ca=function(e){return e&&("current"in e?e.current:e)};var la=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oa,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.disabled,a=r.clickTrigger,o=void 0===a?"click":a,s=(0,t.useRef)(!1),u=(0,t.useCallback)((function(t){var n=ca(e);aa()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),s.current=!n||ua(t)||!sa(t)||!!xt(n,t.target)}),[e]),c=bt((function(e){s.current||n(e)}));(0,t.useEffect)((function(){if(!i&&null!=e){var t=Ie(ca(e)),n=(t.defaultView||window).event,r=Je(t,o,u,!0),a=Je(t,o,(function(e){e!==n?c(e):n=void 0})),s=[];return"ontouchstart"in t.documentElement&&(s=[].slice.call(t.body.children).map((function(e){return Je(e,"mousemove",oa)}))),function(){r(),a(),s.forEach((function(e){return e()}))}}}),[e,i,o,u,c])};function ha(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function fa(e){var t,n,r,i,a=e.enabled,o=e.enableEvents,s=e.placement,u=e.flip,c=e.offset,l=e.fixed,h=e.containerPadding,f=e.arrowElement,d=e.popperConfig,p=void 0===d?{}:d,v=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(p.modifiers);return Object.assign({},p,{placement:s,enabled:a,strategy:l?"fixed":p.strategy,modifiers:ha(Object.assign({},v,{eventListeners:{enabled:o},preventOverflow:Object.assign({},v.preventOverflow,{options:h?Object.assign({padding:h},null==(t=v.preventOverflow)?void 0:t.options):null==(n=v.preventOverflow)?void 0:n.options}),offset:{options:Object.assign({offset:c},null==(r=v.offset)?void 0:r.options)},arrow:Object.assign({},v.arrow,{enabled:!!f,options:Object.assign({},null==(i=v.arrow)?void 0:i.options,{element:f})}),flip:Object.assign({enabled:!!u},v.flip)}))})}var da=["children"];var pa=function(){};function va(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,t.useContext)(Rr),r=kr(),i=c(r,2),a=i[0],o=i[1],s=(0,t.useRef)(!1),u=e.flip,l=e.offset,h=e.rootCloseEvent,f=e.fixed,d=void 0!==f&&f,p=e.placement,v=e.popperConfig,m=void 0===v?{}:v,g=e.enableEventListeners,y=void 0===g||g,A=e.usePopper,k=void 0===A?!!n:A,w=null==(null==n?void 0:n.show)?!!e.show:n.show;w&&!s.current&&(s.current=!0);var b=function(e){null==n||n.toggle(!1,e)},_=n||{},E=_.placement,C=_.setMenu,I=_.menuElement,x=_.toggleElement,T=ra(x,I,fa({placement:p||E||"bottom-start",enabled:k,enableEvents:null==y?w:y,offset:l,flip:u,fixed:d,arrowElement:a,popperConfig:m})),S=Object.assign({ref:C||pa,"aria-labelledby":null==x?void 0:x.id},T.attributes.popper,{style:T.styles.popper}),N={show:w,placement:E,hasShown:s.current,toggle:null==n?void 0:n.toggle,popper:k?T:null,arrowProps:k?Object.assign({ref:o},T.attributes.arrow,{style:T.styles.arrow}):{}};return la(I,b,{clickTrigger:h,disabled:!w}),[S,N]}function ma(e){var t=e.children,n=c(va(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,da)),2),r=n[0],i=n[1];return(0,me.jsx)(me.Fragment,{children:t(r,i)})}ma.displayName="DropdownMenu",ma.defaultProps={usePopper:!0};var ga=ma,ya={prefix:String(Math.round(1e10*Math.random())),current:0},Aa=t.createContext(ya);var ka=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement);var wa=function(e){var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},ba=function(){};function _a(){var e=function(e){var n=(0,t.useContext)(Aa);return n!==ya||ka||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server."),(0,t.useMemo)((function(){return e||"react-aria"+n.prefix+"-"+ ++n.current}),[e])}(),n=(0,t.useContext)(Rr)||{},r=n.show,i=void 0!==r&&r,a=n.toggle,o=void 0===a?ba:a,s=n.setToggle,u=n.menuElement,c=(0,t.useCallback)((function(e){o(!i,e)}),[i,o]),l={id:e,ref:s||ba,onClick:c,"aria-expanded":!!i};return u&&wa(u)&&(l["aria-haspopup"]=!0),[l,{show:i,toggle:o}]}function Ea(e){var t=e.children,n=c(_a(),2),r=n[0],i=n[1];return(0,me.jsx)(me.Fragment,{children:t(r,i)})}Ea.displayName="DropdownToggle";var Ca=Ea,Ia=["eventKey","disabled","onClick","active","as"];function xa(e){var n=e.key,r=e.href,i=e.active,a=e.disabled,o=e.onClick,s=(0,t.useContext)(se),u=((0,t.useContext)(nr)||{}).activeKey,c=oe(n,r),l=null==i&&null!=n?oe(u)===c:i;return[$({onClick:bt((function(e){a||(null==o||o(e),s&&!e.isPropagationStopped()&&s(c,e))})),"aria-disabled":a||void 0,"aria-selected":l},Mt("dropdown-item"),""),{isActive:l}]}var Ta=t.forwardRef((function(e,t){var n=e.eventKey,r=e.disabled,i=e.onClick,a=e.active,o=e.as,s=void 0===o?sr:o,u=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ia),l=c(xa({key:n,href:u.href,disabled:r,onClick:i,active:a}),1)[0];return(0,me.jsx)(s,Object.assign({},u,{ref:t},l))}));Ta.displayName="DropdownItem";var Sa=Ta;function Na(){var e=er(),n=(0,t.useRef)(null),r=(0,t.useCallback)((function(t){n.current=t,e()}),[e]);return[n,r]}function Pa(e){var n=e.defaultShow,r=e.show,i=e.onSelect,a=e.onToggle,o=e.itemSelector,s=void 0===o?"* [".concat(Mt("dropdown-item"),"]"):o,u=e.focusFirstItemOnShow,l=e.placement,h=void 0===l?"bottom-start":l,f=e.children,d=Qt(),p=c(le(r,n,a),2),v=p[0],m=p[1],g=c(Na(),2),y=g[0],A=g[1],k=y.current,w=c(Na(),2),b=w[0],_=w[1],E=b.current,C=Nt(v),I=(0,t.useRef)(null),x=(0,t.useRef)(!1),T=(0,t.useContext)(se),S=(0,t.useCallback)((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;m(e,{originalEvent:t,source:n})}),[m]),N=bt((function(e,t){null==i||i(e,t),S(!1,t,"select"),t.isPropagationStopped()||null==T||T(e,t)})),P=(0,t.useMemo)((function(){return{toggle:S,placement:h,show:v,menuElement:k,toggleElement:E,setMenu:A,setToggle:_}}),[S,h,v,k,E,A,_]);k&&C&&!v&&(x.current=k.contains(k.ownerDocument.activeElement));var R=bt((function(){E&&E.focus&&E.focus()})),O=bt((function(){var e=I.current,t=u;if(null==t&&(t=!(!y.current||!wa(y.current))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Pn(y.current,s)[0];n&&n.focus&&n.focus()}}));(0,t.useEffect)((function(){v?O():x.current&&(x.current=!1,R())}),[v,x,R,O]),(0,t.useEffect)((function(){I.current=null}));var D=function(e,t){if(!y.current)return null;var n=Pn(y.current,s),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return function(e,n,r,i){void 0===i&&(i=!1);var a=bt(r);(0,t.useEffect)((function(){var t="function"===typeof e?e():e;return t.addEventListener(n,a,i),function(){return t.removeEventListener(n,a,i)}}),[e])}((0,t.useCallback)((function(){return d.document}),[d]),"keydown",(function(e){var t,n,r=e.key,i=e.target,a=null==(t=y.current)?void 0:t.contains(i),o=null==(n=b.current)?void 0:n.contains(i);if((!/input|textarea/i.test(i.tagName)||!(" "===r||"Escape"!==r&&a||"Escape"===r&&"search"===i.type))&&(a||o)&&("Tab"!==r||y.current&&v)){I.current=e.type;var s={originalEvent:e,source:e.type};switch(r){case"ArrowUp":var u=D(i,-1);return u&&u.focus&&u.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),v){var c=D(i,1);c&&c.focus&&c.focus()}else m(!0,s);return;case"Tab":Ye(i.ownerDocument,"keyup",(function(e){var t;("Tab"!==e.key||e.target)&&null!=(t=y.current)&&t.contains(e.target)||m(!1,s)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),m(!1,s)}}})),(0,me.jsx)(se.Provider,{value:N,children:(0,me.jsx)(Rr.Provider,{value:P,children:f})})}Pa.displayName="Dropdown",Pa.Menu=ga,Pa.Toggle=Ca,Pa.Item=Sa;var Ra=Pa,Oa=t.createContext({});Oa.displayName="DropdownContext";var Da=Oa,La=["bsPrefix","className","eventKey","disabled","onClick","active","as"],Ma=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.eventKey,a=e.disabled,o=void 0!==a&&a,s=e.onClick,u=e.active,l=e.as,h=void 0===l?Cr:l,f=re(e,La),d=ye(n,"dropdown-item"),p=c(xa({key:i,href:f.href,disabled:o,onClick:s,active:u}),2),v=p[0],m=p[1];return(0,me.jsx)(h,te(te(te({},f),v),{},{ref:t,className:ae()(r,d,m.isActive&&"active",o&&"disabled")}))}));Ma.displayName="DropdownItem";var ja=Ma,Ba=t.createContext(null);Ba.displayName="InputGroupContext";var Fa=Ba;function Ua(e,t){return e}var Qa=["bsPrefix","className","align","rootCloseEvent","flip","show","renderOnMount","as","popperConfig","variant"];function za(e,t,n){var r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t&&(r=e?n?"right-end":"left-end":n?"right-start":"left-start"),r}var Va=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.align,o=e.rootCloseEvent,s=e.flip,u=e.show,l=e.renderOnMount,h=e.as,f=void 0===h?"div":h,d=e.popperConfig,p=e.variant,v=re(e,Qa),m=!1,g=(0,t.useContext)(gt),y=ye(r,"dropdown-menu"),A=(0,t.useContext)(Da),k=A.align,w=A.drop,b=A.isRTL;a=a||k;var _=(0,t.useContext)(Fa),E=[];if(a)if("object"===typeof a){var C=Object.keys(a);if(C.length){var I=C[0],x=a[I];m="start"===x,E.push("".concat(y,"-").concat(I,"-").concat(x))}}else"end"===a&&(m=!0);var T=za(m,w,b),S=c(va({flip:s,rootCloseEvent:o,show:u,usePopper:!g&&0===E.length,offset:[0,2],popperConfig:d,placement:T}),2),N=S[0],P=S[1],R=P.hasShown,O=P.popper,D=P.show,L=P.toggle;if(N.ref=it(Ua(n),N.ref),br((function(){D&&(null==O||O.update())}),[D]),!R&&!l&&!_)return null;"string"!==typeof f&&(N.show=D,N.close=function(){return null==L?void 0:L(!1)},N.align=a);var M=v.style;return null!=O&&O.placement&&(M=te(te({},v.style),N.style),v["x-placement"]=O.placement),(0,me.jsx)(f,te(te(te(te({},v),N),{},{style:M},(E.length||g)&&{"data-bs-popper":"static"}),{},{className:ae().apply(void 0,[i,y,D&&"show",m&&"".concat(y,"-end"),p&&"".concat(y,"-").concat(p)].concat(E))}))}));Va.displayName="DropdownMenu",Va.defaultProps={flip:!0};var qa=Va,Wa=["as","bsPrefix","variant","size","active","className"],Ha=t.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=e.size,o=e.active,s=e.className,u=re(e,Wa),l=ye(r,"btn"),h=c(ar(te({tagName:n},u)),2),f=h[0],d=h[1].tagName;return(0,me.jsx)(d,te(te(te({},u),f),{},{ref:t,className:ae()(s,l,o&&"active",i&&"".concat(l,"-").concat(i),a&&"".concat(l,"-").concat(a),u.href&&u.disabled&&"disabled")}))}));Ha.displayName="Button",Ha.defaultProps={variant:"primary",active:!1,disabled:!1};var Ga=Ha,Ya=["bsPrefix","split","className","childBsPrefix","as"],Ka=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.split,a=e.className,o=e.childBsPrefix,s=e.as,u=void 0===s?Ga:s,l=re(e,Ya),h=ye(r,"dropdown-toggle"),f=(0,t.useContext)(Rr),d=(0,t.useContext)(Fa);void 0!==o&&(l.bsPrefix=o);var p=c(_a(),1)[0];return p.ref=it(p.ref,Ua(n)),(0,me.jsx)(u,te(te({className:ae()(a,h,i&&"".concat(h,"-split"),!!d&&(null==f?void 0:f.show)&&"show")},p),l))}));Ka.displayName="DropdownToggle";var Ja=Ka,Za=["bsPrefix","drop","show","className","align","onSelect","onToggle","focusFirstItemOnShow","as","navbar","autoClose"],Xa=be("dropdown-header",{defaultProps:{role:"heading"}}),$a=be("dropdown-divider",{Component:"hr",defaultProps:{role:"separator"}}),eo=be("dropdown-item-text",{Component:"span"}),to=t.forwardRef((function(e,n){var r=he(e,{show:"onToggle"}),i=r.bsPrefix,a=r.drop,o=r.show,s=r.className,u=r.align,c=r.onSelect,l=r.onToggle,h=r.focusFirstItemOnShow,f=r.as,d=void 0===f?"div":f,p=(r.navbar,r.autoClose),v=re(r,Za),m=(0,t.useContext)(Fa),g=ye(i,"dropdown"),y=Ae(),A=bt((function(e,t){var n;t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),n=t.source,(!1===p?"click"===n:"inside"===p?"rootClose"!==n:"outside"!==p||"select"!==n)&&(null==l||l(e,t))})),k=za("end"===u,a,y),w=(0,t.useMemo)((function(){return{align:u,drop:a,isRTL:y}}),[u,a,y]);return(0,me.jsx)(Da.Provider,{value:w,children:(0,me.jsx)(Ra,{placement:k,show:o,onSelect:c,onToggle:A,focusFirstItemOnShow:h,itemSelector:".".concat(g,"-item:not(.disabled):not(:disabled)"),children:m?v.children:(0,me.jsx)(d,te(te({},v),{},{ref:n,className:ae()(s,o&&"show",(!a||"down"===a)&&g,"up"===a&&"dropup","end"===a&&"dropend","start"===a&&"dropstart")}))})})}));to.displayName="Dropdown",to.defaultProps={navbar:!1,align:"start",autoClose:!0};var no=Object.assign(to,{Toggle:Ja,Menu:qa,Item:ja,ItemText:eo,Divider:$a,Header:Xa}),ro=["id","title","children","bsPrefix","className","rootCloseEvent","menuRole","disabled","active","renderMenuOnMount","menuVariant"],io=t.forwardRef((function(e,t){var n=e.id,r=e.title,i=e.children,a=e.bsPrefix,o=e.className,s=e.rootCloseEvent,u=e.menuRole,c=e.disabled,l=e.active,h=e.renderMenuOnMount,f=e.menuVariant,d=re(e,ro),p=ye(void 0,"nav-item");return(0,me.jsxs)(no,te(te({ref:t},d),{},{className:ae()(o,p),children:[(0,me.jsx)(no.Toggle,{id:n,eventKey:null,active:l,disabled:c,childBsPrefix:a,as:Tr,children:r}),(0,me.jsx)(no.Menu,{role:u,renderOnMount:h,rootCloseEvent:s,variant:f,children:i})]}))}));io.displayName="NavDropdown";var ao,oo=Object.assign(io,{Item:no.Item,ItemText:no.ItemText,Divider:no.Divider,Header:no.Header}),so=function(e){var t=e.id,n=e.color,r=e.width,i=e.height;return(0,me.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:r,height:i,viewBox:"0 0 512.000000 512.000000",id:t,preserveAspectRatio:"xMidYMid meet",children:(0,me.jsxs)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:n,stroke:"none",children:[(0,me.jsx)("path",{d:"M232 4940 c-48 -30 -72 -75 -72 -140 0 -65 24 -110 72 -140 31 -19\r 51 -20 316 -20 155 0 282 -2 282 -5 0 -2 126 -541 280 -1196 154 -656 279\r -1193 278 -1194 -2 -1 -32 -9 -66 -18 -223 -61 -363 -237 -365 -462 -1 -134\r 40 -241 125 -331 63 -67 131 -111 209 -135 58 -18 115 -19 1492 -19 1411 0\r 1432 0 1465 20 95 58 99 216 5 277 -26 17 -100 18 -1438 23 -1400 5 -1410 5\r -1445 26 -107 63 -107 205 0 268 35 21 45 21 1465 26 1573 5 1449 0 1559 65\r 51 30 146 127 170 174 33 63 46 115 222 860 190 810 194 835 159 958 -43 151\r -167 278 -316 324 -59 18 -120 19 -1723 19 l-1663 0 -28 118 c-108 465 -108\r 466 -168 502 -30 19 -53 20 -407 20 -357 0 -377 -1 -408 -20z"}),(0,me.jsx)("path",{d:"M1768 1101 c-145 -47 -269 -174 -312 -320 -21 -71 -21 -211 0 -282\r 43 -148 168 -274 315 -320 82 -26 216 -26 298 0 147 46 272 172 315 320 21 71\r 21 211 0 282 -43 148 -168 274 -315 320 -81 25 -222 25 -301 0z"}),(0,me.jsx)("path",{d:"M3528 1101 c-74 -24 -144 -69 -200 -129 -91 -97 -128 -194 -128 -332\r 0 -138 37 -235 128 -332 95 -101 206 -148 352 -148 146 0 257 47 352 148 91\r 97 128 194 128 332 0 138 -37 235 -128 332 -57 61 -127 105 -203 129 -81 25\r -222 25 -301 0z"})]})})};!function(e){e.Paleta="paletas",e.Recipiente="recipientes",e.Postre="postres"}(ao||(ao={}));var uo,co=ao,lo=t.createContext({items:[],addItem:function(e){},deleteItem:function(e){},deleteAllItems:function(){},isInCart:function(e,t){return!1},amountInCart:function(e){return 0},getNumberOfProducts:function(){return 0},getTotalCost:function(){return 0}}),ho=function(e){var n=e.children,r=c((0,t.useState)([]),2),i=r[0],a=r[1];return(0,me.jsx)(lo.Provider,{value:{items:i,addItem:function(e){if(i.some((function(t){return t.sameProductAs(e)})))throw new Error("Este item ya ha sido agregado previamente!");var t=i;t.push(e),a(t.slice())},deleteItem:function(e){a(i.filter((function(t){return!(t.equals(e)&&t.sameProductAs(e))})))},deleteAllItems:function(){a([])},isInCart:function(e,t){return i.some((function(n){return n.id===e&&n.sameDetails(t)}))},amountInCart:function(e){var t=0;return i.forEach((function(n){n.id===e&&(t+=n.amount)})),t},getNumberOfProducts:function(){var e=0;return i.forEach((function(t){e+=t.amount})),e},getTotalCost:function(){var e=0;return i.forEach((function(t){return e+=t.amount*t.price})),e}},children:n})},fo=function(e){var t=e.color,n=e.width,r=e.height;return(0,me.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:n,height:r,viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",children:(0,me.jsxs)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:t,stroke:"none",children:[(0,me.jsx)("path",{d:"M1765 4674 c-171 -42 -336 -175 -414 -334 -66 -135 -71 -174 -71\r -590 0 -229 4 -379 11 -404 15 -54 83 -119 142 -135 95 -27 195 13 244 97 l28\r 47 5 385 c4 333 7 389 22 415 20 37 52 67 98 91 33 18 83 19 1125 22 803 2\r 1104 0 1144 -8 71 -16 142 -83 159 -152 17 -67 17 -3029 0 -3096 -17 -69 -88\r -136 -159 -152 -40 -8 -341 -10 -1144 -8 -1042 3 -1092 4 -1125 22 -46 24 -78\r 54 -98 91 -15 26 -18 82 -22 416 l-5 386 -30 48 c-44 71 -118 109 -198 102\r -70 -6 -125 -39 -164 -99 l-28 -42 -3 -381 c-3 -438 1 -476 69 -615 56 -114\r 169 -228 279 -282 146 -72 77 -69 1382 -66 l1173 3 65 22 c188 65 333 207 409\r 401 l26 67 0 1635 0 1635 -26 67 c-74 191 -206 323 -397 397 l-67 26 -1185 2\r c-1008 1 -1194 -1 -1245 -13z"}),(0,me.jsx)("path",{d:"M2045 3181 c-74 -34 -125 -111 -125 -187 0 -63 22 -115 73 -170 l49\r -54 -729 0 -730 0 -44 -23 c-24 -13 -57 -43 -74 -66 -27 -39 -30 -50 -30 -120\r 0 -68 3 -82 27 -117 15 -21 44 -50 65 -64 l37 -25 739 -3 739 -2 -49 -54 c-73\r -79 -92 -169 -54 -251 34 -74 111 -125 187 -125 92 0 105 10 362 264 153 152\r 250 256 262 281 26 54 26 136 0 190 -12 25 -109 129 -262 281 -201 198 -250\r 242 -284 252 -59 17 -113 14 -159 -7z"})]})})},po=t.createContext({openLoginModal:function(){},closeLoginModal:function(){},isLoginOpened:!1,openRegisterModal:function(){},closeRegisterModal:function(){},isRegisterOpened:!1}),vo=function(e){var n=e.children,r=c((0,t.useState)(!1),2),i=r[0],a=r[1],o=c((0,t.useState)(!1),2),s=o[0],u=o[1],l=c((0,t.useState)([]),2),h=l[0],f=l[1],d=function(){h.forEach((function(e){e(!1)})),f([])},p=function(e){d(),e(!0),f([].concat(Rt(h),[e]))};return(0,me.jsx)(po.Provider,{value:{openLoginModal:function(){return p(a)},closeLoginModal:function(){return d()},isLoginOpened:i,openRegisterModal:function(){return p(u)},closeRegisterModal:function(){return d()},isRegisterOpened:s},children:n})},mo=t.createContext({loggedUser:null,signup:function(e,t){return new Promise((function(e){}))},login:function(e,t){return new Promise((function(e){}))},logout:function(){return new Promise((function(e){}))}}),go=function(e){var n=e.children,r=c((0,t.useState)(null),2),i=r[0],a=r[1];(0,t.useEffect)((function(){return SM.onAuthStateChanged((function(e){a(e)}))}),[]);return(0,me.jsx)(mo.Provider,{value:{loggedUser:i,signup:function(e,t){return SM.createUserWithEmailAndPassword(e,t)},login:function(e,t){return SM.signInWithEmailAndPassword(e,t)},logout:function(){return SM.signOut()}},children:n})};function yo(e){if((!uo&&0!==uo||e)&&qe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),uo=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return uo}var Ao=be("modal-body"),ko=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],wo=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,a=e.centered,o=e.size,s=e.fullscreen,u=e.children,c=e.scrollable,l=re(e,ko);n=ye(n,"modal");var h="".concat(n,"-dialog"),f="string"===typeof s?"".concat(n,"-fullscreen-").concat(s):"".concat(n,"-fullscreen");return(0,me.jsx)("div",te(te({},l),{},{ref:t,className:ae()(h,r,o&&"".concat(n,"-").concat(o),a&&"".concat(h,"-centered"),c&&"".concat(h,"-scrollable"),s&&f),children:(0,me.jsx)("div",{className:ae()("".concat(n,"-content"),i),children:u})}))}));wo.displayName="ModalDialog";var bo=wo,_o=be("modal-footer"),Eo=["bsPrefix","className"],Co=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=re(e,Eo);return n=ye(n,"modal-header"),(0,me.jsx)(vn,te(te({ref:t},i),{},{className:ae()(r,n)}))}));Co.displayName="ModalHeader",Co.defaultProps={closeLabel:"Close",closeButton:!1};var Io=Co,xo=be("modal-title",{Component:An("h4")}),To=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],So={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:bo};function No(e){return(0,me.jsx)($t,te(te({},e),{},{timeout:null}))}function Po(e){return(0,me.jsx)($t,te(te({},e),{},{timeout:null}))}var Ro=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.style,o=e.dialogClassName,s=e.contentClassName,u=e.children,l=e.dialogAs,h=e["aria-labelledby"],f=e.show,d=e.animation,p=e.backdrop,v=e.keyboard,m=e.onEscapeKeyDown,g=e.onShow,y=e.onHide,A=e.container,k=e.autoFocus,w=e.enforceFocus,b=e.restoreFocus,_=e.restoreFocusOptions,E=e.onEntered,C=e.onExit,I=e.onExiting,x=e.onEnter,T=e.onEntering,S=e.onExited,N=e.backdropClassName,P=e.manager,R=re(e,To),O=c((0,t.useState)({}),2),D=O[0],L=O[1],M=c((0,t.useState)(!1),2),j=M[0],B=M[1],F=(0,t.useRef)(!1),U=(0,t.useRef)(!1),Q=(0,t.useRef)(null),z=c(kr(),2),V=z[0],q=z[1],W=it(n,q),H=bt(y),G=Ae();r=ye(r,"modal");var Y=(0,t.useMemo)((function(){return{onHide:H}}),[H]);function K(){return P||Bn({isRTL:G})}function J(e){if(qe){var t=K().getScrollbarWidth()>0,n=e.scrollHeight>Ie(e).documentElement.clientHeight;L({paddingRight:t&&!n?yo():void 0,paddingLeft:!t&&n?yo():void 0})}}var Z=bt((function(){V&&J(V.dialog)}));St((function(){Ke(window,"resize",Z),null==Q.current||Q.current()}));var X=function(){F.current=!0},$=function(e){F.current&&V&&e.target===V.dialog&&(U.current=!0),F.current=!1},ee=function(){B(!0),Q.current=Xe(V.dialog,(function(){B(!1)}))},ne=function(e){"static"!==p?U.current||e.target!==e.currentTarget?U.current=!1:null==y||y():function(e){e.target===e.currentTarget&&ee()}(e)},ie=(0,t.useCallback)((function(e){return(0,me.jsx)("div",te(te({},e),{},{className:ae()("".concat(r,"-backdrop"),N,!d&&"show")}))}),[d,N,r]),oe=te(te({},a),D);d||(oe.display="block");return(0,me.jsx)(on.Provider,{value:Y,children:(0,me.jsx)(Yt,{show:f,ref:W,backdrop:p,container:A,keyboard:!0,autoFocus:k,enforceFocus:w,restoreFocus:b,restoreFocusOptions:_,onEscapeKeyDown:function(e){v||"static"!==p?v&&m&&m(e):(e.preventDefault(),ee())},onShow:g,onHide:y,onEnter:function(e,t){e&&(e.style.display="block",J(e)),null==x||x(e,t)},onEntering:function(e,t){null==T||T(e,t),Ye(window,"resize",Z)},onEntered:E,onExit:function(e){null==Q.current||Q.current(),null==C||C(e)},onExiting:I,onExited:function(e){e&&(e.style.display=""),null==S||S(e),Ke(window,"resize",Z)},manager:K(),transition:d?No:void 0,backdropTransition:d?Po:void 0,renderBackdrop:ie,renderDialog:function(e){return(0,me.jsx)("div",te(te({role:"dialog"},e),{},{style:oe,className:ae()(i,r,j&&"".concat(r,"-static")),onClick:p?ne:void 0,onMouseUp:$,"aria-labelledby":h,children:(0,me.jsx)(l,te(te({},R),{},{onMouseDown:X,className:o,contentClassName:s,children:u}))}))}})})}));Ro.displayName="Modal",Ro.defaultProps=So;var Oo=Object.assign(Ro,{Body:Ao,Header:Io,Title:xo,Footer:_o,Dialog:bo,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Do=["as","className","type","tooltip"],Lo={type:un().string,tooltip:un().bool,as:un().elementType},Mo=t.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,s=e.tooltip,u=void 0!==s&&s,c=re(e,Do);return(0,me.jsx)(r,te(te({},c),{},{ref:t,className:ae()(i,"".concat(o,"-").concat(u?"tooltip":"feedback"))}))}));Mo.displayName="Feedback",Mo.propTypes=Lo;var jo=Mo,Bo=t.createContext({}),Fo=["id","bsPrefix","className","type","isValid","isInvalid","as"],Uo=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.className,o=e.type,s=void 0===o?"checkbox":o,u=e.isValid,c=void 0!==u&&u,l=e.isInvalid,h=void 0!==l&&l,f=e.as,d=void 0===f?"input":f,p=re(e,Fo),v=(0,t.useContext)(Bo).controlId;return i=ye(i,"form-check-input"),(0,me.jsx)(d,te(te({},p),{},{ref:n,type:s,id:r||v,className:ae()(a,i,c&&"is-valid",h&&"is-invalid")}))}));Uo.displayName="FormCheckInput";var Qo=Uo,zo=["bsPrefix","className","htmlFor"],Vo=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.htmlFor,o=re(e,zo),s=(0,t.useContext)(Bo).controlId;return r=ye(r,"form-check-label"),(0,me.jsx)("label",te(te({},o),{},{ref:n,htmlFor:a||s,className:ae()(i,r)}))}));Vo.displayName="FormCheckLabel";var qo=Vo;var Wo=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],Ho=t.forwardRef((function(e,n){var r=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,s=void 0!==o&&o,u=e.disabled,c=void 0!==u&&u,l=e.isValid,h=void 0!==l&&l,f=e.isInvalid,d=void 0!==f&&f,p=e.feedbackTooltip,v=void 0!==p&&p,m=e.feedback,g=e.feedbackType,y=e.className,A=e.style,k=e.title,w=void 0===k?"":k,b=e.type,_=void 0===b?"checkbox":b,E=e.label,C=e.children,I=e.as,x=void 0===I?"input":I,T=re(e,Wo);i=ye(i,"form-check"),a=ye(a,"form-switch");var S=(0,t.useContext)(Bo).controlId,N=(0,t.useMemo)((function(){return{controlId:r||S}}),[S,r]),P=!C&&null!=E&&!1!==E||function(e,n){return t.Children.toArray(e).some((function(e){return t.isValidElement(e)&&e.type===n}))}(C,qo),R=(0,me.jsx)(Qo,te(te({},T),{},{type:"switch"===_?"checkbox":_,ref:n,isValid:h,isInvalid:d,disabled:c,as:x}));return(0,me.jsx)(Bo.Provider,{value:N,children:(0,me.jsx)("div",{style:A,className:ae()(y,P&&i,s&&"".concat(i,"-inline"),"switch"===_&&a),children:C||(0,me.jsxs)(me.Fragment,{children:[R,P&&(0,me.jsx)(qo,{title:w,children:E}),m&&(0,me.jsx)(jo,{type:g,tooltip:v,children:m})]})})})}));Ho.displayName="FormCheck";var Go=Object.assign(Ho,{Input:Qo,Label:qo}),Yo=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],Ko=t.forwardRef((function(e,n){var r,i,a=e.bsPrefix,o=e.type,s=e.size,u=e.htmlSize,c=e.id,l=e.className,h=e.isValid,f=void 0!==h&&h,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,g=e.as,y=void 0===g?"input":g,A=re(e,Yo),k=(0,t.useContext)(Bo).controlId;(a=ye(a,"form-control"),v)?r=$({},"".concat(a,"-plaintext"),!0):($(i={},a,!0),$(i,"".concat(a,"-").concat(s),s),r=i);return(0,me.jsx)(y,te(te({},A),{},{type:o,size:u,ref:n,readOnly:m,id:c||k,className:ae()(l,r,f&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));Ko.displayName="FormControl";var Jo=Object.assign(Ko,{Feedback:jo}),Zo=be("form-floating"),Xo=["controlId","as"],$o=t.forwardRef((function(e,n){var r=e.controlId,i=e.as,a=void 0===i?"div":i,o=re(e,Xo),s=(0,t.useMemo)((function(){return{controlId:r}}),[r]);return(0,me.jsx)(Bo.Provider,{value:s,children:(0,me.jsx)(a,te(te({},o),{},{ref:n}))})}));$o.displayName="FormGroup";var es=$o,ts=["as","bsPrefix","className"],ns=["className"],rs=["xxl","xl","lg","md","sm","xs"];var is=t.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=re(e,ts);n=ye(n,"col");var a=[],o=[];return rs.forEach((function(e){var t,r,s,u=i[e];delete i[e],"object"===typeof u&&null!=u?(t=u.span,r=u.offset,s=u.order):t=u;var c="xs"!==e?"-".concat(e):"";t&&a.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=s&&o.push("order".concat(c,"-").concat(s)),null!=r&&o.push("offset".concat(c,"-").concat(r))})),[te(te({},i),{},{className:ae().apply(void 0,[r].concat(a,o))}),{as:t,bsPrefix:n,spans:a}]}(e),r=c(n,2),i=r[0],a=i.className,o=re(i,ns),s=r[1],u=s.as,l=void 0===u?"div":u,h=s.bsPrefix,f=s.spans;return(0,me.jsx)(l,te(te({},o),{},{ref:t,className:ae()(a,!f.length&&h)}))}));is.displayName="Col";var as=is,os=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],ss=t.forwardRef((function(e,n){var r=e.as,i=void 0===r?"label":r,a=e.bsPrefix,o=e.column,s=e.visuallyHidden,u=e.className,c=e.htmlFor,l=re(e,os),h=(0,t.useContext)(Bo).controlId;a=ye(a,"form-label");var f="col-form-label";"string"===typeof o&&(f="".concat(f," ").concat(f,"-").concat(o));var d=ae()(u,a,s&&"visually-hidden",o&&f);return c=c||h,o?(0,me.jsx)(as,te({ref:n,as:"label",className:d,htmlFor:c},l)):(0,me.jsx)(i,te({ref:n,className:d,htmlFor:c},l))}));ss.displayName="FormLabel",ss.defaultProps={column:!1,visuallyHidden:!1};var us=ss,cs=["bsPrefix","className","id"],ls=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.id,o=re(e,cs),s=(0,t.useContext)(Bo).controlId;return r=ye(r,"form-range"),(0,me.jsx)("input",te(te({},o),{},{type:"range",ref:n,className:ae()(i,r),id:a||s}))}));ls.displayName="FormRange";var hs=ls,fs=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],ds=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,s=e.isValid,u=void 0!==s&&s,c=e.isInvalid,l=void 0!==c&&c,h=e.id,f=re(e,fs),d=(0,t.useContext)(Bo).controlId;return r=ye(r,"form-select"),(0,me.jsx)("select",te(te({},f),{},{size:a,ref:n,className:ae()(o,r,i&&"".concat(r,"-").concat(i),u&&"is-valid",l&&"is-invalid"),id:h||d}))}));ds.displayName="FormSelect";var ps=ds,vs=["bsPrefix","className","as","muted"],ms=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,s=re(e,vs);return n=ye(n,"form-text"),(0,me.jsx)(a,te(te({},s),{},{ref:t,className:ae()(r,n,o&&"text-muted")}))}));ms.displayName="FormText";var gs=ms,ys=t.forwardRef((function(e,t){return(0,me.jsx)(Go,te(te({},e),{},{ref:t,type:"switch"}))}));ys.displayName="Switch";var As=Object.assign(ys,{Input:Go.Input,Label:Go.Label}),ks=["bsPrefix","className","children","controlId","label"],ws=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,s=re(e,ks);return n=ye(n,"form-floating"),(0,me.jsxs)(es,te(te({ref:t,className:ae()(r,n),controlId:a},s),{},{children:[i,(0,me.jsx)("label",{htmlFor:a,children:o})]}))}));ws.displayName="FloatingLabel";var bs=ws,_s=["className","validated","as"],Es={_ref:un().any,validated:un().bool,as:un().elementType},Cs=t.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=re(e,_s);return(0,me.jsx)(a,te(te({},o),{},{ref:t,className:ae()(n,r&&"was-validated")}))}));Cs.displayName="Form",Cs.propTypes=Es;var Is=Object.assign(Cs,{Group:es,Control:Jo,Floating:Zo,Check:Go,Switch:As,Label:us,Text:gs,Range:hs,Select:ps,FloatingLabel:bs}),xs=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Ts=An("h4");Ts.displayName="DivStyledAsH4";var Ss=be("alert-heading",{Component:Ts}),Ns=be("alert-link",{Component:Cr}),Ps={variant:"primary",show:!0,transition:$t,closeLabel:"Close alert"},Rs=t.forwardRef((function(e,t){var n=he(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=n.closeLabel,o=n.closeVariant,s=n.className,u=n.children,c=n.variant,l=n.onClose,h=n.dismissible,f=n.transition,d=re(n,xs),p=ye(r,"alert"),v=bt((function(e){l&&l(!1,e)})),m=!0===f?$t:f,g=(0,me.jsxs)("div",te(te({role:"alert"},m?void 0:d),{},{ref:t,className:ae()(s,p,c&&"".concat(p,"-").concat(c),h&&"".concat(p,"-dismissible")),children:[h&&(0,me.jsx)(fn,{onClick:v,"aria-label":a,variant:o}),u]}));return m?(0,me.jsx)(m,te(te({unmountOnExit:!0},d),{},{ref:void 0,in:i,children:g})):i?g:null}));Rs.displayName="Alert",Rs.defaultProps=Ps;var Os=Object.assign(Rs,{Link:Ns,Heading:Ss}),Ds=function(e){var n=e.show,r=e.onHide,i=e.login,a=e.openRegister,o=c((0,t.useState)(null),2),s=o[0],u=o[1],l=(0,t.useRef)(null),h=(0,t.useRef)(null);return(0,me.jsxs)(Oo,{id:"modal-login",show:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,me.jsxs)(Oo.Header,{id:"header-login",children:[(0,me.jsx)(Oo.Title,{children:" Iniciar sesion "}),(0,me.jsx)(fn,{variant:"white",onClick:r})]}),(0,me.jsxs)(Oo.Body,{children:[(0,me.jsxs)(Is,{onSubmit:function(e){e.preventDefault();try{var t,n,a=null===l||void 0===l||null===(t=l.current)||void 0===t?void 0:t.value,o=null===(n=h.current)||void 0===n?void 0:n.value;if(void 0===o)throw new Error("El campo de contrase\xf1a debe ser completado");if(void 0===a)throw new Error("El campo de email debe ser completado");i(a,o),r()}catch(s){s instanceof Error&&u({message:s.message,variant:"danger"})}},children:[(0,me.jsxs)(Is.Group,{children:[(0,me.jsx)(Is.Label,{children:" Correo electr\xf3nico "}),(0,me.jsx)(Is.Control,{type:"email",ref:l,required:!0})]}),(0,me.jsxs)(Is.Group,{children:[(0,me.jsx)(Is.Label,{children:" Contrase\xf1a "}),(0,me.jsx)(Is.Control,{type:"password",ref:h,required:!0})]}),(0,me.jsx)(Ga,{className:"button-login-modal w-100 my-4",type:"submit",children:"Iniciar Sesi\xf3n"}),(0,me.jsxs)(Is.Label,{children:["No tienes cuenta? ",(0,me.jsx)("span",{onClick:a,children:"Reg\xedstrate"})]})]}),s&&(0,me.jsx)(Os,{variant:s.variant,children:s.message})]})]})},Ls=function(e){var n=e.children,r=(0,t.useContext)(po),i=(0,t.useContext)(mo),a=r.isLoginOpened,o=r.openRegisterModal,s=i.login;return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{onClick:function(){return r.openLoginModal()},children:n}),(0,me.jsx)(Ds,{show:a,onHide:function(){return r.closeLoginModal()},login:s,openRegister:o})]})},Ms=function(e){var n=e.show,r=e.onHide,i=e.openLogin,a=e.signup,o=c((0,t.useState)(null),2),s=o[0],u=o[1],l=(0,t.useRef)(null),h=(0,t.useRef)(null),f=(0,t.useRef)(null);return(0,me.jsxs)(Oo,{id:"modal-signup",show:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,me.jsxs)(Oo.Header,{id:"header-signup",children:[(0,me.jsx)(Oo.Title,{children:" Registro "}),(0,me.jsx)(fn,{variant:"white",onClick:r})]}),(0,me.jsx)(Oo.Body,{children:(0,me.jsxs)(Is,{onSubmit:function(e){e.preventDefault();try{var t,n,r,i=null===l||void 0===l||null===(t=l.current)||void 0===t?void 0:t.value,o=null===(n=h.current)||void 0===n?void 0:n.value,s=null===(r=f.current)||void 0===r?void 0:r.value;if(void 0===o)throw new Error("El campo de contrase\xf1a debe ser completado");if(void 0===i)throw new Error("El campo de email debe ser completado");if(o!==s)throw new Error("Las contrase\xf1as no coinciden");if(o.length<6)throw new Error("La contrase\xf1a debe tener m\xe1s de 6 d\xedgitos");a(i,o),u({message:"Cuenta creada satisfactoriamente!",variant:"success"})}catch(c){c instanceof Error&&u({message:c.message,variant:"danger"})}},children:[(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Correo electr\xf3nico "}),(0,me.jsx)(Is.Control,{type:"email",ref:l,required:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Contrase\xf1a "}),(0,me.jsx)(Is.Control,{type:"password",ref:h,required:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Confirmar contrase\xf1a "}),(0,me.jsx)(Is.Control,{type:"password",ref:f,required:!0})]}),(0,me.jsx)(Ga,{className:"w-100 my-4 button-signup-modal",type:"submit",children:"Registrarse"}),(0,me.jsxs)(Is.Label,{children:["Ya tienes cuenta? ",(0,me.jsx)("span",{onClick:i,children:"Inicia sesi\xf3n"})]}),s&&(0,me.jsx)(Os,{variant:s.variant,children:s.message})]})})]})},js=function(e){var n=e.children,r=(0,t.useContext)(po),i=(0,t.useContext)(mo),a=r.isRegisterOpened,o=r.openLoginModal;return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("span",{onClick:function(){return r.openRegisterModal()},children:n}),(0,me.jsx)(Ms,{show:a,onHide:function(){return r.closeRegisterModal()},openLogin:o,signup:function(e,t){return i.signup(e,t)}})]})},Bs=function(){var e="white",n=co.Paleta,r=co.Recipiente,i=co.Postre,a=(0,t.useContext)(mo),o=a.loggedUser,s=(0,t.useContext)(lo),u=c((0,t.useState)(0),2),l=u[0],h=u[1];return(0,t.useEffect)((function(){h(s.getNumberOfProducts())}),[s]),(0,me.jsx)("header",{children:(0,me.jsx)(Jn,{id:"navigator",className:"top-0",expand:"lg",variant:"dark",children:(0,me.jsxs)($n,{id:"nav-container",children:[(0,me.jsx)(Jn.Brand,{as:X,to:"/",children:(0,me.jsx)("h2",{id:"logo",children:"SCOOP"})}),(0,me.jsx)(Jn.Toggle,{id:"nav-toggle","aria-controls":"basic-navbar-nav"}),(0,me.jsxs)(Jn.Collapse,{id:"navbarScroll",className:"",children:[(0,me.jsxs)(Pr,{children:[(0,me.jsx)(Pr.Link,{as:X,to:"/",children:"Inicio"}),(0,me.jsxs)(oo,{title:"Productos",id:"basic-nav-dropdown",children:[(0,me.jsx)(oo.Item,{as:X,to:"/",children:"Todos"}),(0,me.jsx)(oo.Item,{as:X,to:"/category/"+n,children:"Paletas"}),(0,me.jsx)(oo.Item,{as:X,to:"/category/"+r,children:"Recipientes"}),(0,me.jsx)(oo.Item,{as:X,to:"/category/"+i,children:"Postres"})]}),!o&&(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(js,{children:(0,me.jsx)(Pr.Link,{children:" Registrarse "})}),(0,me.jsx)(Ls,{children:(0,me.jsx)(Pr.Link,{children:" Iniciar Sesi\xf3n "})})]})]}),o&&(0,me.jsx)(X,{onClick:a.logout,to:"/",id:"profile-navbar",children:(0,me.jsx)(fo,{color:e,width:"35.5px",height:"35.5px"})}),l>0&&(0,me.jsxs)(X,{to:"/cart",id:"link-cart-navbar",children:[(0,me.jsx)(so,{id:"cart",color:e,width:"40px",height:"40px"}),(0,me.jsx)("h1",{id:"cant-items-navbar",children:l})]})]})]})})})},Fs=["bsPrefix","className","as"],Us=["xxl","xl","lg","md","sm","xs"],Qs=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"div":i,o=re(e,Fs),s=ye(n,"row"),u="".concat(s,"-cols"),c=[];return Us.forEach((function(e){var t,n=o[e];delete o[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&c.push("".concat(u).concat(r,"-").concat(t))})),(0,me.jsx)(a,te(te({ref:t},o),{},{className:ae().apply(void 0,[r,s].concat(c))}))}));Qs.displayName="Row";var zs=Qs;function Vs(e,t,n){return Vs=Cn()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Oe(i,n.prototype),i},Vs.apply(null,arguments)}function qs(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(ZS){return void n(ZS)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ws(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){qs(a,r,i,o,s,"next",e)}function s(e){qs(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Hs=n(757),Gs=n.n(Hs);function Ys(e){var t="function"===typeof Map?new Map:void 0;return Ys=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Vs(e,arguments,wn(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Oe(n,e)},Ys(e)}var Ks=!1,Js=!1,Zs="${JSCORE_VERSION}",Xs=function(e,t){if(!e)throw $s(t)},$s=function(e){return new Error("Firebase Database ("+Zs+") INTERNAL ASSERT FAILED: "+e)},eu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},tu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,h=(3&a)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},nu=function(e){var t=eu(e);return tu.encodeByteArray(t,!0)},ru=function(e){return nu(e).replace(/\./g,"")},iu=function(e){try{return tu.decodeString(e,!0)}catch(NM){console.error("base64Decode failed: ",NM)}return null};function au(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=au(e[n],t[n]));return e}var ou=function(){function e(){var t=this;Ot(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Lt(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function su(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ru(JSON.stringify({alg:"none",type:"JWT"})),ru(JSON.stringify(a)),""].join(".")}function uu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function cu(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(uu())}function lu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(NM){return!1}}function hu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function fu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function du(){var e=uu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function pu(){return!0===Ks||!0===Js}function vu(){return"object"===typeof indexedDB}var mu=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(xn(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(xn(a),gu.prototype.create),a}return Lt(n)}(Ys(Error)),gu=function(){function e(t,n,r){Ot(this,e),this.service=t,this.serviceName=n,this.errors=r}return Lt(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?yu(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new mu(n,a,t);return o}}]),e}();function yu(e,t){return e.replace(Au,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Au=/\{\$([^}]+)}/g;function ku(e){return JSON.parse(e)}function wu(e){return JSON.stringify(e)}var bu=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=ku(iu(a[0])||""),n=ku(iu(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(NM){}return{header:t,claims:n,data:r,signature:i}};function _u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Eu(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function Cu(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Iu(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function xu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(Tu(s)&&Tu(u)){if(!xu(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var h=l[c];if(!n.includes(h))return!1}return!0}function Tu(e){return null!==e&&"object"===typeof e}function Su(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Nu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Pu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ru=function(){function e(){Ot(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Lt(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var s,u,c=this.chain_[0],l=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(s=f^l&(h^f),u=1518500249):(s=l^h^f,u=1859775393):p<60?(s=l&h|f&(l|h),u=2400959708):(s=l^h^f,u=3395469782);var v=(c<<5|c>>>27)+s+d+u+n[p]&4294967295;d=f,f=h,h=4294967295&(l<<30|l>>>2),l=c,c=v}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+l&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function Ou(e,t){var n=new Du(e,t);return n.subscribe.bind(n)}var Du=function(){function e(t,n){var r=this;Ot(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Lt(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Or(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Lu),void 0===r.error&&(r.error=Lu),void 0===r.complete&&(r.complete=Lu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(NM){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(NM){"undefined"!==typeof console&&console.error&&console.error(NM)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Lu(){}var Mu=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function ju(e,t){return"".concat(e," failed: ").concat(t," argument ")}function Bu(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(ju(e,t)+"must be a valid function.")}function Fu(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(ju(e,t)+"must be a valid context object.")}var Uu=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Qu(e){return e&&e._delegate?e._delegate:e}var zu=function(){function e(t,n,r){Ot(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Lt(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Vu="[DEFAULT]",qu=function(){function e(t,n){Ot(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Lt(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ou;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(NM){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(NM){if(r)return null;throw NM}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Vu})}catch(NM){}var t,n=Or(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(NM){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ws(Hs.mark((function e(){var t;return Hs.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Rt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Rt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Or(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=c(i.value,2),u=s[0],l=s[1],h=this.normalizeInstanceIdentifier(u);r===h&&l.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Or(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(ek){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Vu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(ek){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vu;return this.component?this.component.multipleInstances?e:Vu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Wu,Hu,Gu=function(){function e(t){Ot(this,e),this.name=t,this.providers=new Map}return Lt(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new qu(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Yu=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hu||(Hu={}));var Ku,Ju,Zu={debug:Hu.DEBUG,verbose:Hu.VERBOSE,info:Hu.INFO,warn:Hu.WARN,error:Hu.ERROR,silent:Hu.SILENT},Xu=Hu.INFO,$u=($(Wu={},Hu.DEBUG,"log"),$(Wu,Hu.VERBOSE,"log"),$(Wu,Hu.INFO,"info"),$(Wu,Hu.WARN,"warn"),$(Wu,Hu.ERROR,"error"),Wu),ec=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=$u[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},tc=function(){function e(t){Ot(this,e),this.name=t,this._logLevel=Xu,this._logHandler=ec,this._userLogHandler=null,Yu.push(this)}return Lt(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Hu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Zu[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Hu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Hu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hu.INFO].concat(t)),this._logHandler.apply(this,[this,Hu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hu.WARN].concat(t)),this._logHandler.apply(this,[this,Hu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hu.ERROR].concat(t)),this._logHandler.apply(this,[this,Hu.ERROR].concat(t))}}]),e}();var nc=function(){function e(t){Ot(this,e),this.container=t}return Lt(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var rc="@firebase/app",ic="0.7.16",ac=new tc("@firebase/app"),oc="[DEFAULT]",sc=($(Ku={},rc,"fire-core"),$(Ku,"@firebase/app-compat","fire-core-compat"),$(Ku,"@firebase/analytics","fire-analytics"),$(Ku,"@firebase/analytics-compat","fire-analytics-compat"),$(Ku,"@firebase/app-check","fire-app-check"),$(Ku,"@firebase/app-check-compat","fire-app-check-compat"),$(Ku,"@firebase/auth","fire-auth"),$(Ku,"@firebase/auth-compat","fire-auth-compat"),$(Ku,"@firebase/database","fire-rtdb"),$(Ku,"@firebase/database-compat","fire-rtdb-compat"),$(Ku,"@firebase/functions","fire-fn"),$(Ku,"@firebase/functions-compat","fire-fn-compat"),$(Ku,"@firebase/installations","fire-iid"),$(Ku,"@firebase/installations-compat","fire-iid-compat"),$(Ku,"@firebase/messaging","fire-fcm"),$(Ku,"@firebase/messaging-compat","fire-fcm-compat"),$(Ku,"@firebase/performance","fire-perf"),$(Ku,"@firebase/performance-compat","fire-perf-compat"),$(Ku,"@firebase/remote-config","fire-rc"),$(Ku,"@firebase/remote-config-compat","fire-rc-compat"),$(Ku,"@firebase/storage","fire-gcs"),$(Ku,"@firebase/storage-compat","fire-gcs-compat"),$(Ku,"@firebase/firestore","fire-fst"),$(Ku,"@firebase/firestore-compat","fire-fst-compat"),$(Ku,"fire-js","fire-js"),$(Ku,"firebase","fire-js-all"),Ku),uc=new Map,cc=new Map;function lc(e,t){try{e.container.addComponent(t)}catch(NM){ac.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),NM)}}function hc(e,t){e.container.addOrOverwriteComponent(t)}function fc(e){var t=e.name;if(cc.has(t))return ac.debug("There were multiple attempts to register component ".concat(t,".")),!1;cc.set(t,e);var n,r=Or(uc.values());try{for(r.s();!(n=r.n()).done;){lc(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function dc(e,t){return e.container.getProvider(t)}function pc(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oc;dc(e,t).clearInstance(n)}function vc(){cc.clear()}var mc,gc=($(Ju={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),$(Ju,"bad-app-name","Illegal App name: '{$appName}"),$(Ju,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),$(Ju,"app-deleted","Firebase App named '{$appName}' already deleted"),$(Ju,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),$(Ju,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ju),yc=new gu("app","Firebase",gc),Ac=function(){function e(t,n,r){var i=this;Ot(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zu("app",(function(){return i}),"PUBLIC"))}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yc.create("app-deleted",{appName:this._name})}}]),e}(),kc="9.6.6";function wc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:oc,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw yc.create("bad-app-name",{appName:String(i)});var a=uc.get(i);if(a){if(xu(e,a.options)&&xu(r,a.config))return a;throw yc.create("duplicate-app",{appName:i})}var o,s=new Gu(i),u=Or(cc.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(h){u.e(h)}finally{u.f()}var l=new Ac(e,r,s);return uc.set(i,l),l}function bc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oc,t=uc.get(e);if(!t)throw yc.create("no-app",{appName:e});return t}function _c(){return Array.from(uc.values())}function Ec(e){return Cc.apply(this,arguments)}function Cc(){return(Cc=Ws(Hs.mark((function e(t){var n;return Hs.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!uc.has(n)){e.next=6;break}return uc.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t,n){var r,i=null!==(r=sc[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ac.warn(s.join(" "))}fc(new zu("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function xc(e,t){if(null!==e&&"function"!==typeof e)throw yc.create("invalid-log-argument");!function(e,t){var n,r=Or(Yu);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Zu[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var s=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Hu[n].toLowerCase(),message:s,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Tc(e){var t;t=e,Yu.forEach((function(e){e.setLogLevel(t)}))}mc="",fc(new zu("platform-logger",(function(e){return new nc(e)}),"PRIVATE")),Ic(rc,ic,mc),Ic(rc,ic,"esm2017"),Ic("fire-js","");var Sc,Nc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Pc={},Rc=Rc||{},Oc=Nc||self;function Dc(){}function Lc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Mc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var jc="closure_uid_"+(1e9*Math.random()>>>0),Bc=0;function Fc(e,t,n){return e.call.apply(e.bind,arguments)}function Uc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Qc(e,t,n){return(Qc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fc:Uc).apply(null,arguments)}function zc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Vc(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function qc(){this.s=this.s,this.o=this.o}var Wc={};qc.prototype.s=!1,qc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,jc)&&e[jc]||(e[jc]=++Bc)}(this);delete Wc[e]}},qc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Hc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Gc=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Yc(e){return Array.prototype.concat.apply([],arguments)}function Kc(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Jc(e){return/^[\s\xa0]*$/.test(e)}var Zc,Xc=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function $c(e,t){return-1!=e.indexOf(t)}function el(e,t){return e<t?-1:e>t?1:0}e:{var tl=Oc.navigator;if(tl){var nl=tl.userAgent;if(nl){Zc=nl;break e}}Zc=""}function rl(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function il(e){var t={};for(var n in e)t[n]=e[n];return t}var al="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ol(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<al.length;a++)n=al[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function sl(e){return sl[" "](e),e}sl[" "]=Dc;var ul,cl=$c(Zc,"Opera"),ll=$c(Zc,"Trident")||$c(Zc,"MSIE"),hl=$c(Zc,"Edge"),fl=hl||ll,dl=$c(Zc,"Gecko")&&!($c(Zc.toLowerCase(),"webkit")&&!$c(Zc,"Edge"))&&!($c(Zc,"Trident")||$c(Zc,"MSIE"))&&!$c(Zc,"Edge"),pl=$c(Zc.toLowerCase(),"webkit")&&!$c(Zc,"Edge");function vl(){var e=Oc.document;return e?e.documentMode:void 0}e:{var ml="",gl=function(){var e=Zc;return dl?/rv:([^\);]+)(\)|;)/.exec(e):hl?/Edge\/([\d\.]+)/.exec(e):ll?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):pl?/WebKit\/(\S+)/.exec(e):cl?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gl&&(ml=gl?gl[1]:""),ll){var yl=vl();if(null!=yl&&yl>parseFloat(ml)){ul=String(yl);break e}}ul=ml}var Al,kl={};function wl(){return function(e){var t=kl;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Xc(String(ul)).split("."),n=Xc("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=el(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||el(0==a[2].length,0==o[2].length)||el(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Oc.document&&ll){var bl=vl();Al=bl||(parseInt(ul,10)||void 0)}else Al=void 0;var _l=Al,El=function(){if(!Oc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Oc.addEventListener("test",Dc,t),Oc.removeEventListener("test",Dc,t)}catch(n){}return e}();function Cl(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Il(e,t){if(Cl.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dl){e:{try{sl(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:xl[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Il.Z.h.call(this)}}Cl.prototype.h=function(){this.defaultPrevented=!0},Vc(Il,Cl);var xl={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tl="closure_listenable_"+(1e6*Math.random()|0),Sl=0;function Nl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Sl,this.ca=this.fa=!1}function Pl(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Rl(e){this.src=e,this.g={},this.h=0}function Ol(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Hc(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Pl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Dl(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Rl.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Dl(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Nl(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Ll="closure_lm_"+(1e6*Math.random()|0),Ml={};function jl(e,t,n,r,i){if(r&&r.once)return Fl(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)jl(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[Tl]?e.N(t,n,Mc(r)?!!r.capture:!!r,i):Bl(e,t,n,!1,r,i)}function Bl(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Mc(i)?!!i.capture:!!i,s=ql(e);if(s||(e[Ll]=s=new Rl(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Vl;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)El||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fl(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fl(e,t[a],n,r,i);return null}return n=Hl(n),e&&e[Tl]?e.O(t,n,Mc(r)?!!r.capture:!!r,i):Bl(e,t,n,!0,r,i)}function Ul(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ul(e,t[a],n,r,i);else r=Mc(r)?!!r.capture:!!r,n=Hl(n),e&&e[Tl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Dl(a=e.g[t],n,r,i))&&(Pl(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=ql(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Dl(t,n,r,i)),(n=-1<e?t[e]:null)&&Ql(n))}function Ql(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Tl])Ol(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=ql(t))?(Ol(n,e),0==n.h&&(n.src=null,t[Ll]=null)):Pl(e)}}}function zl(e){return e in Ml?Ml[e]:Ml[e]="on"+e}function Vl(e,t){if(e.ca)e=!0;else{t=new Il(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ql(e),e=n.call(r,t)}return e}function ql(e){return(e=e[Ll])instanceof Rl?e:null}var Wl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hl(e){return"function"===typeof e?e:(e[Wl]||(e[Wl]=function(t){return e.handleEvent(t)}),e[Wl])}function Gl(){qc.call(this),this.i=new Rl(this),this.P=this,this.I=null}function Yl(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Cl(t,e);else if(t instanceof Cl)t.target=t.target||e;else{var i=t;ol(t=new Cl(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Kl(o,r,!0,t)&&i}if(i=Kl(o=t.g=e,r,!0,t)&&i,i=Kl(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Kl(o=t.g=n[a],r,!1,t)&&i}function Kl(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var s=o.listener,u=o.ia||o.src;o.fa&&Ol(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Vc(Gl,qc),Gl.prototype[Tl]=!0,Gl.prototype.removeEventListener=function(e,t,n,r){Ul(this,e,t,n,r)},Gl.prototype.M=function(){if(Gl.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pl(n[r]);delete t.g[e],t.h--}}this.I=null},Gl.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Gl.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jl=Oc.JSON.stringify;function Zl(){var e=ah,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xl,$l=function(){function e(){Ot(this,e),this.h=this.g=null}return Lt(e,[{key:"add",value:function(e,t){var n=eh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),eh=new(function(){function e(t,n){Ot(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Lt(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new th}),(function(e){return e.reset()})),th=function(){function e(){Ot(this,e),this.next=this.g=this.h=null}return Lt(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nh(e){Oc.setTimeout((function(){throw e}),0)}function rh(e,t){Xl||function(){var e=Oc.Promise.resolve(void 0);Xl=function(){e.then(oh)}}(),ih||(Xl(),ih=!0),ah.add(e,t)}var ih=!1,ah=new $l;function oh(){for(var e;e=Zl();){try{e.h.call(e.g)}catch(n){nh(n)}var t=eh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ih=!1}function sh(e,t){Gl.call(this),this.h=e||1,this.g=t||Oc,this.j=Qc(this.kb,this),this.l=Date.now()}function uh(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function ch(e,t,n){if("function"===typeof e)n&&(e=Qc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Qc(e.handleEvent,e)}return 2147483647<Number(t)?-1:Oc.setTimeout(e,t||0)}function lh(e){e.g=ch((function(){e.g=null,e.i&&(e.i=!1,lh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Vc(sh,Gl),(Sc=sh.prototype).da=!1,Sc.S=null,Sc.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yl(this,"tick"),this.da&&(uh(this),this.start()))}},Sc.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sc.M=function(){sh.Z.M.call(this),uh(this),delete this.g};var hh=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Lt(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:lh(this)}},{key:"M",value:function(){_n(wn(n.prototype),"M",this).call(this),this.g&&(Oc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(qc);function fh(e){qc.call(this),this.h=e,this.g={}}Vc(fh,qc);var dh=[];function ph(e,t,n,r){Array.isArray(n)||(n&&(dh[0]=n.toString()),n=dh);for(var i=0;i<n.length;i++){var a=jl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function vh(e){rl(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ql(e)}),e),e.g={}}function mh(){this.g=!0}function gh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jl(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}fh.prototype.M=function(){fh.Z.M.call(this),vh(this)},fh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mh.prototype.Aa=function(){this.g=!1},mh.prototype.info=function(){};var yh={},Ah=null;function kh(){return Ah=Ah||new Gl}function wh(e){Cl.call(this,yh.Ma,e)}function bh(e){var t=kh();Yl(t,new wh(t,e))}function _h(e,t){Cl.call(this,yh.STAT_EVENT,e),this.stat=t}function Eh(e){var t=kh();Yl(t,new _h(t,e))}function Ch(e,t){Cl.call(this,yh.Na,e),this.size=t}function Ih(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Oc.setTimeout((function(){e()}),t)}yh.Ma="serverreachability",Vc(wh,Cl),yh.STAT_EVENT="statevent",Vc(_h,Cl),yh.Na="timingevent",Vc(Ch,Cl);var xh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Th={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sh(){}function Nh(e){return e.h||(e.h=e.i())}function Ph(){}Sh.prototype.h=null;var Rh,Oh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dh(){Cl.call(this,"d")}function Lh(){Cl.call(this,"c")}function Mh(){}function jh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fh(this),this.P=Fh,e=fl?125:void 0,this.W=new sh(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bh}function Bh(){this.i=null,this.g="",this.h=!1}Vc(Dh,Cl),Vc(Lh,Cl),Vc(Mh,Sh),Mh.prototype.g=function(){return new XMLHttpRequest},Mh.prototype.i=function(){return{}},Rh=new Mh;var Fh=45e3,Uh={},Qh={};function zh(e,t,n){e.K=1,e.v=ff(of(t)),e.s=n,e.U=!0,Vh(e,null)}function Vh(e,t){e.F=Date.now(),Gh(e),e.A=of(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Cf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Bh,e.g=xd(e.l,n?t:null,!e.s),0<e.O&&(e.L=new hh(Qc(e.Ia,e,e.g),e.O)),ph(e.V,e.g,"readystatechange",e.gb),t=e.H?il(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),bh(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function qh(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Wh(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Hh(e,n))==Qh){4==t&&(e.o=4,Eh(14),i=!1),gh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Uh){e.o=4,Eh(15),gh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}gh(e.j,e.m,r,null),Xh(e,r)}qh(e)&&r!=Qh&&r!=Uh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ad(t),t.L=!0,Eh(11))):(gh(e.j,e.m,n,"[Invalid Chunked Response]"),Zh(e),Jh(e))}function Hh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Qh:(n=Number(t.substring(n,r)),isNaN(n)?Uh:(r+=1)+n>t.length?Qh:(t=t.substr(r,n),e.C=r+n,t))}function Gh(e){e.Y=Date.now()+e.P,Yh(e,e.P)}function Yh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ih(Qc(e.eb,e),t)}function Kh(e){e.B&&(Oc.clearTimeout(e.B),e.B=null)}function Jh(e){0==e.l.G||e.I||bd(e.l,e)}function Zh(e){Kh(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,uh(e.W),vh(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xh(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Of(n.i,e)))if(n.I=e.N,!e.J&&Of(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;wd(n),ld(n)}yd(n),Eh(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Ih(Qc(n.ab,n),6e3));if(1>=Rf(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Ed(n,11)}else if((e.J||n.g==e)&&wd(n),!Jc(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var s=a[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&($c(l,"spdy")||$c(l,"quic")||$c(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(Df(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,hf(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Id(r,r.H?r.la:null,r.W),d.J){Lf(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Kh(p),Gh(p)),r.g=d}else gd(r);0<n.l.length&&dd(n)}else"stop"!=a[0]&&"close"!=a[0]||Ed(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Ed(n,7):cd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}bh(4)}catch(a){}}function $h(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Lc(e)||"string"===typeof e)Gc(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Lc(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Lc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ef(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ef)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function tf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];nf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)nf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function nf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Sc=jh.prototype).setTimeout=function(e){this.P=e},Sc.gb=function(e){e=e.target;var t=this.L;t&&3==id(e)?t.l():this.Ia(e)},Sc.Ia=function(e){try{if(e==this.g)e:{var t=id(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||fl||this.g&&(this.h.h||this.g.ga()||ad(this.g)))){this.I||4!=t||7==n||bh(8==n||0>=r?3:2),Kh(this);var i=this.g.ba();this.N=i;t:if(qh(this)){var a=ad(this.g);e="";var o=a.length,s=4==id(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Zh(this),Jh(this);var u="";break t}this.h.i=new Oc.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:s&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jc(c)){var h=c;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,Eh(12),Zh(this),Jh(this);break e}gh(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xh(this,i)}this.U?(Wh(this,t,u),fl&&this.i&&3==t&&(ph(this.V,this.W,"tick",this.fb),this.W.start())):(gh(this.j,this.m,u,null),Xh(this,u)),4==t&&Zh(this),this.i&&!this.I&&(4==t?bd(this.l,this):(this.i=!1,Gh(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,Eh(12)):(this.o=0,Eh(13)),Zh(this),Jh(this)}}}catch(t){}},Sc.fb=function(){if(this.g){var e=id(this.g),t=this.g.ga();this.C<t.length&&(Kh(this),Wh(this,e,t),this.i&&4!=e&&Gh(this))}},Sc.cancel=function(){this.I=!0,Zh(this)},Sc.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(bh(3),Eh(17)),Zh(this),this.o=2,Jh(this)):Yh(this,this.Y-e)},(Sc=ef.prototype).R=function(){tf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Sc.T=function(){return tf(this),this.g.concat()},Sc.get=function(e,t){return nf(this.h,e)?this.h[e]:t},Sc.set=function(e,t){nf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Sc.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var rf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function af(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof af){this.g=void 0!==t?t:e.g,sf(this,e.j),this.s=e.s,uf(this,e.i),cf(this,e.m),this.l=e.l,t=e.h;var n=new wf;n.i=t.i,t.g&&(n.g=new ef(t.g),n.h=t.h),lf(this,n),this.o=e.o}else e&&(n=String(e).match(rf))?(this.g=!!t,sf(this,n[1]||"",!0),this.s=df(n[2]||""),uf(this,n[3]||"",!0),cf(this,n[4]),this.l=df(n[5]||"",!0),lf(this,n[6]||"",!0),this.o=df(n[7]||"")):(this.g=!!t,this.h=new wf(null,this.g))}function of(e){return new af(e)}function sf(e,t,n){e.j=n?df(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uf(e,t,n){e.i=n?df(t,!0):t}function cf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function lf(e,t,n){t instanceof wf?(e.h=t,function(e,t){t&&!e.j&&(bf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_f(this,t),Cf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=pf(t,Af)),e.h=new wf(t,e.g))}function hf(e,t,n){e.h.set(t,n)}function ff(e){return hf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function df(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,vf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function vf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}af.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pf(t,mf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(pf(t,mf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(pf(n,"/"==n.charAt(0)?yf:gf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",pf(n,kf)),e.join("")};var mf=/[#\/\?@]/g,gf=/[#\?:]/g,yf=/[#\?]/g,Af=/[#\?@]/g,kf=/#/g;function wf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bf(e){e.g||(e.g=new ef,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _f(e,t){bf(e),t=If(e,t),nf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,nf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&tf(e)))}function Ef(e,t){return bf(e),t=If(e,t),nf(e.g.h,t)}function Cf(e,t,n){_f(e,t),0<n.length&&(e.i=null,e.g.set(If(e,t),Kc(n)),e.h+=n.length)}function If(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Sc=wf.prototype).add=function(e,t){bf(this),this.i=null,e=If(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Sc.forEach=function(e,t){bf(this),this.g.forEach((function(n,r){Gc(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Sc.T=function(){bf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Sc.R=function(e){bf(this);var t=[];if("string"===typeof e)Ef(this,e)&&(t=Yc(t,this.g.get(If(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Yc(t,e[n])}return t},Sc.set=function(e,t){return bf(this),this.i=null,Ef(this,e=If(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Sc.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Sc.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var xf=Lt((function e(t,n){Ot(this,e),this.h=t,this.g=n}));function Tf(e){this.l=e||Nf,Oc.PerformanceNavigationTiming?e=0<(e=Oc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Oc.g&&Oc.g.Ea&&Oc.g.Ea()&&Oc.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sf,Nf=10;function Pf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Rf(e){return e.h?1:e.g?e.g.size:0}function Of(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Df(e,t){e.g?e.g.add(t):e.h=t}function Lf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Mf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Or(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Kc(e.i)}function jf(){}function Bf(){this.g=new jf}function Ff(e,t,n){var r=n||"";try{$h(e,(function(e,n){var i=e;Mc(e)&&(i=Jl(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(NM){throw t.push(r+"type="+encodeURIComponent("_badmap")),NM}}function Uf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Qf(e){this.l=e.$b||null,this.j=e.ib||!1}function zf(e,t){Gl.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Vf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tf.prototype.cancel=function(){if(this.i=Mf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Or(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},jf.prototype.stringify=function(e){return Oc.JSON.stringify(e,void 0)},jf.prototype.parse=function(e){return Oc.JSON.parse(e,void 0)},Vc(Qf,Sh),Qf.prototype.g=function(){return new zf(this.l,this.j)},Qf.prototype.i=(Sf={},function(){return Sf}),Vc(zf,Gl);var Vf=0;function qf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Wf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Hf(e)}function Hf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Sc=zf.prototype).open=function(e,t){if(this.readyState!=Vf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Hf(this)},Sc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Oc).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Sc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wf(this)),this.readyState=Vf},Sc.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Hf(this)),this.g&&(this.readyState=3,Hf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Oc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Sc.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wf(this):Hf(this),3==this.readyState&&qf(this)}},Sc.Ua=function(e){this.g&&(this.response=this.responseText=e,Wf(this))},Sc.Ta=function(e){this.g&&(this.response=e,Wf(this))},Sc.ha=function(){this.g&&Wf(this)},Sc.setRequestHeader=function(e,t){this.v.append(e,t)},Sc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Sc.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(zf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gf=Oc.JSON.parse;function Yf(e){Gl.call(this),this.headers=new ef,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Kf,this.K=this.L=!1}Vc(Yf,Gl);var Kf="",Jf=/^https?$/i,Zf=["POST","PUT"];function Xf(e){return"content-type"==e.toLowerCase()}function $f(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ed(e),nd(e)}function ed(e){e.D||(e.D=!0,Yl(e,"complete"),Yl(e,"error"))}function td(e){if(e.h&&"undefined"!=typeof Rc&&(!e.C[1]||4!=id(e)||2!=e.ba()))if(e.v&&4==id(e))ch(e.Fa,0,e);else if(Yl(e,"readystatechange"),4==id(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(rf)[1]||null;if(!a&&Oc.self&&Oc.self.location){var o=Oc.self.location.protocol;a=o.substr(0,o.length-1)}i=!Jf.test(a?a.toLowerCase():"")}t=i}if(t)Yl(e,"complete"),Yl(e,"success");else{e.m=6;try{var s=2<id(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",ed(e)}}finally{nd(e)}}}function nd(e,t){if(e.g){rd(e);var n=e.g,r=e.C[0]?Dc:null;e.g=null,e.C=null,t||Yl(e,"ready");try{n.onreadystatechange=r}catch(NM){}}}function rd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Oc.clearTimeout(e.A),e.A=null)}function id(e){return e.g?e.g.readyState:0}function ad(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Kf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function od(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return rl(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):hf(e,t,n))}function sd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ud(e){this.za=0,this.l=[],this.h=new mh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sd("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sd("baseRetryDelayMs",5e3,e),this.$a=sd("retryDelaySeedMs",1e4,e),this.Ya=sd("forwardChannelMaxRetries",2,e),this.ra=sd("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Tf(e&&e.concurrentRequestLimit),this.Ca=new Bf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function cd(e){if(hd(e),3==e.G){var t=e.V++,n=of(e.F);hf(n,"SID",e.J),hf(n,"RID",t),hf(n,"TYPE","terminate"),vd(e,n),(t=new jh(e,e.h,t,void 0)).K=2,t.v=ff(of(n)),n=!1,Oc.navigator&&Oc.navigator.sendBeacon&&(n=Oc.navigator.sendBeacon(t.v.toString(),"")),!n&&Oc.Image&&((new Image).src=t.v,n=!0),n||(t.g=xd(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Gh(t)}Cd(e)}function ld(e){e.g&&(Ad(e),e.g.cancel(),e.g=null)}function hd(e){ld(e),e.u&&(Oc.clearTimeout(e.u),e.u=null),wd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Oc.clearTimeout(e.m),e.m=null)}function fd(e,t){e.l.push(new xf(e.Za++,t)),3==e.G&&dd(e)}function dd(e){Pf(e.i)||e.m||(e.m=!0,rh(e.Ha,e),e.C=0)}function pd(e,t){var n;n=t?t.m:e.V++;var r=of(e.F);hf(r,"SID",e.J),hf(r,"RID",n),hf(r,"AID",e.U),vd(e,r),e.o&&e.s&&od(r,e.o,e.s),n=new jh(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=md(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Df(e.i,n),zh(n,r,t)}function vd(e,t){e.j&&$h({},(function(e,n){hf(t,n,e)}))}function md(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Qc(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Ff(l,o,"req"+c+"_")}catch(ip){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function gd(e){e.g||e.u||(e.Y=1,rh(e.Ga,e),e.A=0)}function yd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Ih(Qc(e.Ga,e),_d(e,e.A)),e.A++,!0)}function Ad(e){null!=e.B&&(Oc.clearTimeout(e.B),e.B=null)}function kd(e){e.g=new jh(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=of(e.oa);hf(t,"RID","rpc"),hf(t,"SID",e.J),hf(t,"CI",e.N?"0":"1"),hf(t,"AID",e.U),vd(e,t),hf(t,"TYPE","xmlhttp"),e.o&&e.s&&od(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ff(of(t)),n.s=null,n.U=!0,Vh(n,e)}function wd(e){null!=e.v&&(Oc.clearTimeout(e.v),e.v=null)}function bd(e,t){var n=null;if(e.g==t){wd(e),Ad(e),e.g=null;var r=2}else{if(!Of(e.i,t))return;n=t.D,Lf(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Yl(r=kh(),new Ch(r,n,t,i)),dd(e)}else gd(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Rf(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Ih(Qc(e.Ha,e,t),_d(e,e.C)),e.C++,!0))}(e,t)||2==r&&yd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Ed(e,5);break;case 4:Ed(e,10);break;case 3:Ed(e,6);break;default:Ed(e,2)}}function _d(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Ed(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Qc(e.jb,e);n||(n=new af("//www.google.com/images/cleardot.gif"),Oc.location&&"http"==Oc.location.protocol||sf(n,"https"),ff(n)),function(e,t){var n=new mh;if(Oc.Image){var r=new Image;r.onload=zc(Uf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=zc(Uf,n,r,"TestLoadImage: error",!1,t),r.onabort=zc(Uf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=zc(Uf,n,r,"TestLoadImage: timeout",!1,t),Oc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Eh(2);e.G=0,e.j&&e.j.va(t),Cd(e),hd(e)}function Cd(e){e.G=0,e.I=-1,e.j&&(0==Mf(e.i).length&&0==e.l.length||(e.i.i.length=0,Kc(e.l),e.l.length=0),e.j.ua())}function Id(e,t,n){var r=function(e){return e instanceof af?of(e):new af(e,void 0)}(n);if(""!=r.i)t&&uf(r,t+"."+r.i),cf(r,r.m);else{var i=Oc.location;r=function(e,t,n,r){var i=new af(null,void 0);return e&&sf(i,e),t&&uf(i,t),n&&cf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&rl(e.aa,(function(e,t){hf(r,t,e)})),t=e.D,n=e.sa,t&&n&&hf(r,t,n),hf(r,"VER",e.ma),vd(e,r),r}function xd(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Yf(new Qf({ib:!0})):new Yf(e.qa)).L=e.H,t}function Td(){}function Sd(){if(ll&&!(10<=Number(_l)))throw Error("Environmental error: no available transport.")}function Nd(e,t){Gl.call(this),this.g=new ud(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Jc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Jc(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Od(this)}function Pd(e){Dh.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Rd(){Lh.call(this),this.status=1}function Od(e){this.g=e}(Sc=Yf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Rh.g(),this.C=this.u?Nh(this.u):Nh(Rh),this.g.onreadystatechange=Qc(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void $f(this,a)}e=n||"";var i=new ef(this.headers);r&&$h(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Xf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Oc.FormData&&e instanceof Oc.FormData,!(0<=Hc(Zf,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{rd(this),0<this.B&&((this.K=function(e){return ll&&wl()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qc(this.pa,this)):this.A=ch(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){$f(this,a)}},Sc.pa=function(){"undefined"!=typeof Rc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yl(this,"timeout"),this.abort(8))},Sc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Yl(this,"complete"),Yl(this,"abort"),nd(this))},Sc.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nd(this,!0)),Yf.Z.M.call(this)},Sc.Fa=function(){this.s||(this.F||this.v||this.l?td(this):this.cb())},Sc.cb=function(){td(this)},Sc.ba=function(){try{return 2<id(this)?this.g.status:-1}catch(Sf){return-1}},Sc.ga=function(){try{return this.g?this.g.responseText:""}catch(Sf){return""}},Sc.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gf(t)}},Sc.Da=function(){return this.m},Sc.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Sc=ud.prototype).ma=8,Sc.G=1,Sc.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Sc.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new jh(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ol(n=il(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=md(this,t,r),hf(i=of(this.F),"RID",e),hf(i,"CVER",22),this.D&&hf(i,"X-HTTP-Session-Id",this.D),vd(this,i),this.o&&n&&od(i,this.o,n),Df(this.i,t),this.Ra&&hf(i,"TYPE","init"),this.ja?(hf(i,"$req",r),hf(i,"SID","null"),t.$=!0,zh(t,i,null)):zh(t,i,r),this.G=2}}else 3==this.G&&(e?pd(this,e):0==this.l.length||Pf(this.i)||pd(this))},Sc.Ga=function(){if(this.u=null,kd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Ih(Qc(this.bb,this),e)}},Sc.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Eh(10),ld(this),kd(this))},Sc.ab=function(){null!=this.v&&(this.v=null,ld(this),yd(this),Eh(19))},Sc.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Eh(2)):(this.h.info("Failed to ping google.com"),Eh(1))},(Sc=Td.prototype).xa=function(){},Sc.wa=function(){},Sc.va=function(){},Sc.ua=function(){},Sc.Oa=function(){},Sd.prototype.g=function(e,t){return new Nd(e,t)},Vc(Nd,Gl),Nd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),rh(Qc(e.hb,e,t))),Eh(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Id(e,null,e.W),dd(e)},Nd.prototype.close=function(){cd(this.g)},Nd.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fd(this.g,t)}else this.v?((t={}).__data__=Jl(e),fd(this.g,t)):fd(this.g,e)},Nd.prototype.M=function(){this.g.j=null,delete this.j,cd(this.g),delete this.g,Nd.Z.M.call(this)},Vc(Pd,Dh),Vc(Rd,Lh),Vc(Od,Td),Od.prototype.xa=function(){Yl(this.g,"a")},Od.prototype.wa=function(e){Yl(this.g,new Pd(e))},Od.prototype.va=function(e){Yl(this.g,new Rd(e))},Od.prototype.ua=function(){Yl(this.g,"b")},Sd.prototype.createWebChannel=Sd.prototype.g,Nd.prototype.send=Nd.prototype.u,Nd.prototype.open=Nd.prototype.m,Nd.prototype.close=Nd.prototype.close,xh.NO_ERROR=0,xh.TIMEOUT=8,xh.HTTP_ERROR=6,Th.COMPLETE="complete",Ph.EventType=Oh,Oh.OPEN="a",Oh.CLOSE="b",Oh.ERROR="c",Oh.MESSAGE="d",Gl.prototype.listen=Gl.prototype.N,Yf.prototype.listenOnce=Yf.prototype.O,Yf.prototype.getLastError=Yf.prototype.La,Yf.prototype.getLastErrorCode=Yf.prototype.Da,Yf.prototype.getStatus=Yf.prototype.ba,Yf.prototype.getResponseJson=Yf.prototype.Qa,Yf.prototype.getResponseText=Yf.prototype.ga,Yf.prototype.send=Yf.prototype.ea;var Dd=Pc.createWebChannelTransport=function(){return new Sd},Ld=Pc.getStatEventTarget=function(){return kh()},Md=Pc.ErrorCode=xh,jd=Pc.EventType=Th,Bd=Pc.Event=yh,Fd=Pc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ud=Pc.FetchXmlHttpFactory=Qf,Qd=Pc.WebChannel=Ph,zd=Pc.XhrIo=Yf,Vd="@firebase/firestore",qd=function(){function e(t){Ot(this,e),this.uid=t}return Lt(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();qd.UNAUTHENTICATED=new qd(null),qd.GOOGLE_CREDENTIALS=new qd("google-credentials-uid"),qd.FIRST_PARTY=new qd("first-party-uid"),qd.MOCK_USER=new qd("mock-user");var Wd="9.6.5",Hd=new tc("@firebase/firestore");function Gd(){return Hd.logLevel}function Yd(e){if(Hd.logLevel<=Hu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zd);Hd.debug.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat(Rt(i)))}}function Kd(e){if(Hd.logLevel<=Hu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zd);Hd.error.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat(Rt(i)))}}function Jd(e){if(Hd.logLevel<=Hu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Zd);Hd.warn.apply(Hd,["Firestore (".concat(Wd,"): ").concat(e)].concat(Rt(i)))}}function Zd(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Wd,") INTERNAL ASSERTION FAILED: ")+e;throw Kd(t),new Error(t)}function $d(e,t){e||Xd()}function ep(e,t){return e}var tp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},np=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Lt(n)}(mu),rp=Lt((function e(){var t=this;Ot(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ip=Lt((function e(t,n){Ot(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ap=function(){function e(){Ot(this,e)}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),op=function(){function e(t){Ot(this,e),this.t=t,this.currentUser=qd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Lt(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new rp;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new rp,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Yd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Yd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new rp)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?($d("string"==typeof n.accessToken),new ip(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return $d(null===e||"string"==typeof e),new qd(e)}}]),e}(),sp=Lt((function e(t,n,r){Ot(this,e),this.type="FirstParty",this.user=qd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),up=function(){function e(t,n,r){Ot(this,e),this.h=t,this.l=n,this.m=r}return Lt(e,[{key:"getToken",value:function(){return Promise.resolve(new sp(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(qd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),cp=Lt((function e(t){Ot(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lp=function(){function e(t){Ot(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null}return Lt(e,[{key:"start",value:function(e,t){var n=this;this.o=function(n){e.enqueueRetryable((function(){return function(e){return null!=e.error&&Yd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message)),t(e.token)}(n)}))};var r=function(e){Yd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return r(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?r(e):Yd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((function(e){return e?($d("string"==typeof e.token),new cp(e.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),hp=function(){function e(t,n){var r=this;Ot(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.p(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Lt(e,[{key:"p",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function fp(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}hp.I=-1;var dp=function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fp(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function pp(e,t){return e<t?-1:e>t?1:0}function vp(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var mp=function(){function e(t,n){if(Ot(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new np(tp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new np(tp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new np(tp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new np(tp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Lt(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?pp(this.nanoseconds,e.nanoseconds):pp(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gp=function(){function e(t){Ot(this,e),this.timestamp=t}return Lt(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new mp(0,0))}}]),e}();function yp(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ap(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function kp(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var wp=function(){function e(t,n,r){Ot(this,e),void 0===n?n=0:n>t.length&&Xd(),void 0===r?r=t.length-n:r>t.length-n&&Xd(),this.segments=t,this.offset=n,this.len=r}return Lt(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),bp=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new np(tp.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,Rt(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wp),_p=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ep=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return _p.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new np(tp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new np(tp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new np(tp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new np(tp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(wp);var Cp=function(e){function t(e){Ot(this,t),this.binaryString=e}return Lt(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return pp(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Cp.EMPTY_BYTE_STRING=new Cp("");var Ip=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xp(e){if($d(!!e),"string"==typeof e){var t=0,n=Ip.exec(e);if($d(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Tp(e.seconds),nanos:Tp(e.nanos)}}function Tp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sp(e){return"string"==typeof e?Cp.fromBase64String(e):Cp.fromUint8Array(e)}function Np(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pp(e){var t=e.mapValue.fields.__previous_value__;return Np(t)?Pp(t):t}function Rp(e){var t=xp(e.mapValue.fields.__local_write_time__.timestampValue);return new mp(t.seconds,t.nanos)}function Op(e){return null==e}function Dp(e){return 0===e&&1/e==-1/0}function Lp(e){return"number"==typeof e&&Number.isInteger(e)&&!Dp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Mp=function(){function e(t){Ot(this,e),this.path=t}return Lt(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===bp.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(bp.fromString(t))}},{key:"fromName",value:function(t){return new e(bp.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return bp.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new bp(t.slice()))}}]),e}();function jp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Np(e)?4:10:Xd()}function Bp(e,t){if(e===t)return!0;var n=jp(e);if(n!==jp(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Rp(e).isEqual(Rp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=xp(e.timestampValue),r=xp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sp(e.bytesValue).isEqual(Sp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tp(e.geoPointValue.latitude)===Tp(t.geoPointValue.latitude)&&Tp(e.geoPointValue.longitude)===Tp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tp(e.integerValue)===Tp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Tp(e.doubleValue),r=Tp(t.doubleValue);return n===r?Dp(n)===Dp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return vp(e.arrayValue.values||[],t.arrayValue.values||[],Bp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(yp(n)!==yp(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Bp(n[i],r[i])))return!1;return!0}(e,t);default:return Xd()}}function Fp(e,t){return void 0!==(e.values||[]).find((function(e){return Bp(e,t)}))}function Up(e,t){if(e===t)return 0;var n=jp(e),r=jp(t);if(n!==r)return pp(n,r);switch(n){case 0:return 0;case 1:return pp(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Tp(e.integerValue||e.doubleValue),r=Tp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qp(e.timestampValue,t.timestampValue);case 4:return Qp(Rp(e),Rp(t));case 5:return pp(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Sp(e),r=Sp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=pp(n[i],r[i]);if(0!==a)return a}return pp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=pp(Tp(e.latitude),Tp(t.latitude));return 0!==n?n:pp(Tp(e.longitude),Tp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Up(n[i],r[i]);if(a)return a}return pp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=pp(r[o],a[o]);if(0!==s)return s;var u=Up(n[r[o]],i[a[o]]);if(0!==u)return u}return pp(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xd()}}function Qp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pp(e,t);var n=xp(e),r=xp(t),i=pp(n.seconds,r.seconds);return 0!==i?i:pp(n.nanos,r.nanos)}function zp(e){return Vp(e)}function Vp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=xp(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Mp.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Or(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Vp(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Or(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Vp(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xd();var t,n}function qp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Wp(e){return!!e&&"integerValue"in e}function Hp(e){return!!e&&"arrayValue"in e}function Gp(e){return!!e&&"nullValue"in e}function Yp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kp(e){return!!e&&"mapValue"in e}function Jp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ap(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Jp(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Jp(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Zp=function(){function e(t){Ot(this,e),this.value=t}return Lt(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Kp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jp(t)}},{key:"setAll",value:function(e){var t=this,n=Ep.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Jp(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Kp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Bp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Kp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ap(t,(function(t,n){return e[t]=n}));var r,i=Or(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Jp(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();var Xp=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.documentType=n,this.version=r,this.data=i,this.documentState=a}return Lt(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gp.min(),Zp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Zp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Zp.empty(),2)}}]),e}(),$p=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ot(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.R=null}));function ev(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new $p(e,t,n,r,i,a,o)}function tv(e){var t=ep(e);if(null===t.R){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+zp(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Op(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=pv(t.startAt)),t.endAt&&(n+="|ub:",n+=pv(t.endAt)),t.R=n}return t.R}function nv(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Bp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yv(e.startAt,t.startAt)&&yv(e.endAt,t.endAt)}function rv(e){return Mp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var iv=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Up(t,this.value)):null!==t&&jp(this.value)===jp(t)&&this.v(Up(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xd()}}},{key:"V",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new av(e,t,r):"array-contains"===t?new cv(e,r):"in"===t?new lv(e,r):"not-in"===t?new hv(e,r):"array-contains-any"===t?new fv(e,r):new n(e,t,r)}},{key:"P",value:function(e,t,n){return"in"===t?new ov(e,n):new sv(e,n)}}]),n}(function(){return Lt((function e(){Ot(this,e)}))}());var av=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,i)).key=Mp.fromName(i.referenceValue),a}return Lt(n,[{key:"matches",value:function(e){var t=Mp.comparator(e.key,this.key);return this.v(t)}}]),n}(iv),ov=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,"in",r)).keys=uv("in",r),i}return Lt(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(iv),sv=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,"not-in",r)).keys=uv("not-in",r),i}return Lt(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(iv);function uv(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Mp.fromName(e.referenceValue)}))}var cv=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"array-contains",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Hp(t)&&Fp(t.arrayValue,this.value)}}]),n}(iv),lv=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"in",r)}return Lt(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Fp(this.value.arrayValue,t)}}]),n}(iv),hv=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"not-in",r)}return Lt(n,[{key:"matches",value:function(e){if(Fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Fp(this.value.arrayValue,t)}}]),n}(iv),fv=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"array-contains-any",r)}return Lt(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Fp(t.value.arrayValue,e)}))}}]),n}(iv),dv=Lt((function e(t,n){Ot(this,e),this.position=t,this.before=n}));function pv(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return zp(e)})).join(","))}var vv=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ot(this,e),this.field=t,this.dir=n}));function mv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function gv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Mp.comparator(Mp.fromName(o.referenceValue),n.key):Up(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function yv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Bp(e.position[n],t.position[n]))return!1;return!0}var Av=Lt((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ot(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.S=null,this.D=null,this.startAt,this.endAt}));function kv(e,t,n,r,i,a,o,s){return new Av(e,t,n,r,i,a,o,s)}function wv(e){return new Av(e)}function bv(e){return!Op(e.limit)&&"F"===e.limitType}function _v(e){return!Op(e.limit)&&"L"===e.limitType}function Ev(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Cv(e){var t,n=Or(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.V())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Iv(e){return null!==e.collectionGroup}function xv(e){var t=ep(e);if(null===t.S){t.S=[];var n=Cv(t),r=Ev(t);if(null!==n&&null===r)n.isKeyField()||t.S.push(new vv(n)),t.S.push(new vv(Ep.keyField(),"asc"));else{var i,a=!1,o=Or(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.S.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.S.push(new vv(Ep.keyField(),u))}}}return t.S}function Tv(e){var t=ep(e);if(!t.D)if("F"===t.limitType)t.D=ev(t.path,t.collectionGroup,xv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Or(xv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new vv(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new dv(t.endAt.position,!t.endAt.before):null,u=t.startAt?new dv(t.startAt.position,!t.startAt.before):null;t.D=ev(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.D}function Sv(e,t,n){return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nv(e,t){return nv(Tv(e),Tv(t))&&e.limitType===t.limitType}function Pv(e){return"".concat(tv(Tv(e)),"|lt:").concat(e.limitType)}function Rv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(zp(t.value));var t})).join(", "),"]")),Op(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+pv(e.startAt)),e.endAt&&(t+=", endAt: "+pv(e.endAt)),"Target(".concat(t,")")}(Tv(e)),"; limitType=").concat(e.limitType,")")}function Ov(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Or(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Or(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!gv(e.startAt,xv(e),t))&&(!e.endAt||!gv(e.endAt,xv(e),t))}(e,t)}function Dv(e){return function(t,n){var r,i=!1,a=Or(xv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=Lv(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function Lv(e,t,n){var r=e.field.isKeyField()?Mp.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Up(r,i):Xd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xd()}}function Mv(e,t){if(e.C){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dp(t)?"-0":t}}function jv(e){return{integerValue:""+e}}function Bv(e,t){return Lp(t)?jv(t):Mv(e,t)}var Fv=Lt((function e(){Ot(this,e),this._=void 0}));function Uv(e,t,n){return e instanceof Vv?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof qv?Wv(e,t):e instanceof Hv?Gv(e,t):function(e,t){var n=zv(e,t),r=Kv(n)+Kv(e.N);return Wp(n)&&Wp(e.N)?jv(r):Mv(e.k,r)}(e,t)}function Qv(e,t,n){return e instanceof qv?Wv(e,t):e instanceof Hv?Gv(e,t):n}function zv(e,t){return e instanceof Yv?Wp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Vv=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n)}(Fv),qv=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(Fv);function Wv(e,t){var n,r=Jv(t),i=Or(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Bp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Hv=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).elements=e,r}return Lt(n)}(Fv);function Gv(e,t){var n,r=Jv(t),i=Or(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Bp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Yv=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).k=e,i.N=r,i}return Lt(n)}(Fv);function Kv(e){return Tp(e.integerValue||e.doubleValue)}function Jv(e){return Hp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Zv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Xv=Lt((function e(){Ot(this,e)}));function $v(e,t,n){e instanceof rm?function(e,t,n){var r=e.value.clone(),i=om(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof im?function(e,t,n){if(Zv(e.precondition,t)){var r=om(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(am(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function em(e,t,n){e instanceof rm?function(e,t,n){if(Zv(e.precondition,t)){var r=e.value.clone(),i=sm(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(nm(t),r).setHasLocalMutations()}}(e,t,n):e instanceof im?function(e,t,n){if(Zv(e.precondition,t)){var r=sm(e.fieldTransforms,n,t),i=t.data;i.setAll(am(e)),i.setAll(r),t.convertToFoundDocument(nm(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Zv(e.precondition,t)&&t.convertToNoDocument(gp.min())}(e,t)}function tm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&vp(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof qv&&t instanceof qv||e instanceof Hv&&t instanceof Hv?vp(e.elements,t.elements,Bp):e instanceof Yv&&t instanceof Yv?Bp(e.N,t.N):e instanceof Vv&&t instanceof Vv}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function nm(e){return e.isFoundDocument()?e.version:gp.min()}var rm=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ot(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Lt(n)}(Xv),im=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ot(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return Lt(n)}(Xv);function am(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function om(e,t,n){var r=new Map;$d(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Qv(o,s,n[i]))}return r}function sm(e,t,n){var r,i=new Map,a=Or(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Uv(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var um,cm,lm=Lt((function e(t){Ot(this,e),this.count=t}));function hm(e){if(void 0===e)return Kd("GRPC error has no .code"),tp.UNKNOWN;switch(e){case um.OK:return tp.OK;case um.CANCELLED:return tp.CANCELLED;case um.UNKNOWN:return tp.UNKNOWN;case um.DEADLINE_EXCEEDED:return tp.DEADLINE_EXCEEDED;case um.RESOURCE_EXHAUSTED:return tp.RESOURCE_EXHAUSTED;case um.INTERNAL:return tp.INTERNAL;case um.UNAVAILABLE:return tp.UNAVAILABLE;case um.UNAUTHENTICATED:return tp.UNAUTHENTICATED;case um.INVALID_ARGUMENT:return tp.INVALID_ARGUMENT;case um.NOT_FOUND:return tp.NOT_FOUND;case um.ALREADY_EXISTS:return tp.ALREADY_EXISTS;case um.PERMISSION_DENIED:return tp.PERMISSION_DENIED;case um.FAILED_PRECONDITION:return tp.FAILED_PRECONDITION;case um.ABORTED:return tp.ABORTED;case um.OUT_OF_RANGE:return tp.OUT_OF_RANGE;case um.UNIMPLEMENTED:return tp.UNIMPLEMENTED;case um.DATA_LOSS:return tp.DATA_LOSS;default:return Xd()}}(cm=um||(um={}))[cm.OK=0]="OK",cm[cm.CANCELLED=1]="CANCELLED",cm[cm.UNKNOWN=2]="UNKNOWN",cm[cm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cm[cm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cm[cm.NOT_FOUND=5]="NOT_FOUND",cm[cm.ALREADY_EXISTS=6]="ALREADY_EXISTS",cm[cm.PERMISSION_DENIED=7]="PERMISSION_DENIED",cm[cm.UNAUTHENTICATED=16]="UNAUTHENTICATED",cm[cm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cm[cm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cm[cm.ABORTED=10]="ABORTED",cm[cm.OUT_OF_RANGE=11]="OUT_OF_RANGE",cm[cm.UNIMPLEMENTED=12]="UNIMPLEMENTED",cm[cm.INTERNAL=13]="INTERNAL",cm[cm.UNAVAILABLE=14]="UNAVAILABLE",cm[cm.DATA_LOSS=15]="DATA_LOSS";var fm=function(){function e(t,n){Ot(this,e),this.comparator=t,this.root=n||pm.EMPTY}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,pm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new dm(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new dm(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new dm(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new dm(this.root,e,this.comparator,!0)}}]),e}(),dm=function(){function e(t,n,r,i){Ot(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),pm=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xd();if(this.right.isRed())throw Xd();var e=this.left.check();if(e!==this.right.check())throw Xd();return e+(this.isRed()?0:1)}}]),e}();pm.EMPTY=null,pm.RED=!0,pm.BLACK=!1,pm.EMPTY=new(function(){function e(){Ot(this,e),this.size=0}return Lt(e,[{key:"key",get:function(){throw Xd()}},{key:"value",get:function(){throw Xd()}},{key:"color",get:function(){throw Xd()}},{key:"left",get:function(){throw Xd()}},{key:"right",get:function(){throw Xd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new pm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var vm=function(){function e(t){Ot(this,e),this.comparator=t,this.data=new fm(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new mm(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new mm(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),mm=function(){function e(t){Ot(this,e),this.iter=t}return Lt(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),gm=new fm(Mp.comparator);function ym(){return gm}var Am=new fm(Mp.comparator);function km(){return Am}new fm(Mp.comparator);var wm=new vm(Mp.comparator);function bm(){for(var e=wm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var _m=new vm(pp);function Em(){return _m}var Cm=function(){function e(t,n,r,i,a){Ot(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Lt(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Im.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gp.min(),r,Em(),ym(),bm())}}]),e}(),Im=function(){function e(t,n,r,i,a){Ot(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Lt(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Cp.EMPTY_BYTE_STRING,n,bm(),bm(),bm())}}]),e}(),xm=Lt((function e(t,n,r,i){Ot(this,e),this.$=t,this.removedTargetIds=n,this.key=r,this.O=i})),Tm=Lt((function e(t,n){Ot(this,e),this.targetId=t,this.M=n})),Sm=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cp.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ot(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Nm=function(){function e(){Ot(this,e),this.F=0,this.L=Om(),this.B=Cp.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}return Lt(e,[{key:"current",get:function(){return this.U}},{key:"resumeToken",get:function(){return this.B}},{key:"K",get:function(){return 0!==this.F}},{key:"j",get:function(){return this.q}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}},{key:"G",value:function(){var e=bm(),t=bm(),n=bm();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xd()}})),new Im(this.B,this.U,e,t,n)}},{key:"H",value:function(){this.q=!1,this.L=Om()}},{key:"J",value:function(e,t){this.q=!0,this.L=this.L.insert(e,t)}},{key:"Y",value:function(e){this.q=!0,this.L=this.L.remove(e)}},{key:"X",value:function(){this.F+=1}},{key:"Z",value:function(){this.F-=1}},{key:"tt",value:function(){this.q=!0,this.U=!0}}]),e}(),Pm=function(){function e(t){Ot(this,e),this.et=t,this.nt=new Map,this.st=ym(),this.it=Rm(),this.rt=new vm(pp)}return Lt(e,[{key:"ot",value:function(e){var t,n=Or(e.$);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.O&&e.O.isFoundDocument()?this.ct(r,e.O):this.at(r,e.key,e.O)}}catch(s){n.e(s)}finally{n.f()}var i,a=Or(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.O)}}catch(s){a.e(s)}finally{a.f()}}},{key:"ut",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ht(n);switch(e.state){case 0:t.lt(n)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||t.removeTarget(n);break;case 3:t.lt(n)&&(r.tt(),r.W(e.resumeToken));break;case 4:t.lt(n)&&(t.ft(n),r.W(e.resumeToken));break;default:Xd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((function(e,r){n.lt(r)&&t(r)}))}},{key:"dt",value:function(e){var t=e.targetId,n=e.M.count,r=this.wt(t);if(r){var i=r.target;if(rv(i))if(0===n){var a=new Mp(i.path);this.at(t,a,Xp.newNoDocument(a,gp.min()))}else $d(1===n);else this._t(t)!==n&&(this.ft(t),this.rt=this.rt.add(t))}}},{key:"gt",value:function(e){var t=this,n=new Map;this.nt.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&rv(a.target)){var o=new Mp(a.target.path);null!==t.st.get(o)||t.yt(i,o)||t.at(i,o,Xp.newNoDocument(o,e))}r.j&&(n.set(i,r.G()),r.H())}}));var r=bm();this.it.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new Cm(e,n,this.rt,this.st,r);return this.st=ym(),this.it=Rm(),this.rt=new vm(pp),i}},{key:"ct",value:function(e,t){if(this.lt(e)){var n=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,n),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.lt(e)){var r=this.ht(e);this.yt(e,t)?r.J(t,1):r.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),n&&(this.st=this.st.insert(t,n))}}},{key:"removeTarget",value:function(e){this.nt.delete(e)}},{key:"_t",value:function(e){var t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"X",value:function(e){this.ht(e).X()}},{key:"ht",value:function(e){var t=this.nt.get(e);return t||(t=new Nm,this.nt.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.it.get(e);return t||(t=new vm(pp),this.it=this.it.insert(e,t)),t}},{key:"lt",value:function(e){var t=null!==this.wt(e);return t||Yd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}},{key:"ft",value:function(e){var t=this;this.nt.set(e,new Nm),this.et.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"yt",value:function(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}]),e}();function Rm(){return new fm(Mp.comparator)}function Om(){return new fm(Mp.comparator)}var Dm={asc:"ASCENDING",desc:"DESCENDING"},Lm={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mm=Lt((function e(t,n){Ot(this,e),this.databaseId=t,this.C=n}));function jm(e,t){return e.C?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Bm(e,t){return e.C?t.toBase64():t.toUint8Array()}function Fm(e){return $d(!!e),gp.fromTimestamp(function(e){var t=xp(e);return new mp(t.seconds,t.nanos)}(e))}function Um(e,t){return function(e){return new bp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Qm(e){var t=bp.fromString(e);return $d(ag(t)),t}function zm(e,t){var n=Qm(t);if(n.get(1)!==e.databaseId.projectId)throw new np(tp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new np(tp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mp(Hm(n))}function Vm(e,t){return Um(e.databaseId,t)}function qm(e){var t=Qm(e);return 4===t.length?bp.emptyPath():Hm(t)}function Wm(e){return new bp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Hm(e){return $d(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Gm(e,t){return{documents:[Vm(e,t.path)]}}function Ym(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Yp(e.value))return{unaryFilter:{field:tg(e.field),op:"IS_NAN"}};if(Gp(e.value))return{unaryFilter:{field:tg(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Yp(e.value))return{unaryFilter:{field:tg(e.field),op:"IS_NOT_NAN"}};if(Gp(e.value))return{unaryFilter:{field:tg(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tg(e.field),op:eg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:tg(e.field),direction:$m(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o=function(e,t){return e.C||Op(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Zm(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Zm(t.endAt)),n}function Km(e){var t=qm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){$d(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Jm(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new vv(ng(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Op(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=Xm(n.startAt));var l=null;return n.endAt&&(l=Xm(n.endAt)),kv(t,i,s,o,u,"F",c,l)}function Jm(e){return e?void 0!==e.unaryFilter?[ig(e)]:void 0!==e.fieldFilter?[rg(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Jm(e)})).reduce((function(e,t){return e.concat(t)})):Xd():[]}function Zm(e){return{before:e.before,values:e.position}}function Xm(e){var t=!!e.before,n=e.values||[];return new dv(n,t)}function $m(e){return Dm[e]}function eg(e){return Lm[e]}function tg(e){return{fieldPath:e.canonicalString()}}function ng(e){return Ep.fromServerFormat(e.fieldPath)}function rg(e){return iv.create(ng(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xd()}}(e.fieldFilter.op),e.fieldFilter.value)}function ig(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ng(e.unaryFilter.field);return iv.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ng(e.unaryFilter.field);return iv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ng(e.unaryFilter.field);return iv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ng(e.unaryFilter.field);return iv.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xd()}}function ag(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function og(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ug(t)),t=sg(e.get(n),t);return ug(t)}function sg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function ug(e){return e+"\x01\x01"}var cg=Lt((function e(t,n,r){Ot(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));cg.store="owner",cg.key="owner";var lg=Lt((function e(t,n,r){Ot(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));lg.store="mutationQueues",lg.keyPath="userId";var hg=Lt((function e(t,n,r,i,a){Ot(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));hg.store="mutations",hg.keyPath="batchId",hg.userMutationsIndex="userMutationsIndex",hg.userMutationsKeyPath=["userId","batchId"];var fg=function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,og(t)]}},{key:"key",value:function(e,t,n){return[e,og(t),n]}}]),e}();fg.store="documentMutations",fg.PLACEHOLDER=new fg;var dg=Lt((function e(t,n,r,i,a,o){Ot(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));dg.store="remoteDocuments",dg.readTimeIndex="readTimeIndex",dg.readTimeIndexPath="readTime",dg.collectionReadTimeIndex="collectionReadTimeIndex",dg.collectionReadTimeIndexPath=["parentPath","readTime"];var pg=Lt((function e(t){Ot(this,e),this.byteSize=t}));pg.store="remoteDocumentGlobal",pg.key="remoteDocumentGlobalKey";var vg=Lt((function e(t,n,r,i,a,o,s){Ot(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=s}));vg.store="targets",vg.keyPath="targetId",vg.queryTargetsIndexName="queryTargetsIndex",vg.queryTargetsKeyPath=["canonicalId","targetId"];var mg=Lt((function e(t,n,r){Ot(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));mg.store="targetDocuments",mg.keyPath=["targetId","path"],mg.documentTargetsIndex="documentTargetsIndex",mg.documentTargetsKeyPath=["path","targetId"];var gg=Lt((function e(t,n,r,i){Ot(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));gg.key="targetGlobalKey",gg.store="targetGlobal";var yg=Lt((function e(t,n){Ot(this,e),this.collectionId=t,this.parent=n}));yg.store="collectionParents",yg.keyPath=["collectionId","parent"];var Ag=Lt((function e(t,n,r,i){Ot(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Ag.store="clientMetadata",Ag.keyPath="clientId";var kg=Lt((function e(t,n,r){Ot(this,e),this.bundleId=t,this.createTime=n,this.version=r}));kg.store="bundles",kg.keyPath="bundleId";var wg=Lt((function e(t,n,r){Ot(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));wg.store="namedQueries",wg.keyPath="name";[lg.store,hg.store,fg.store,dg.store,vg.store,cg.store,gg.store,mg.store].concat([Ag.store]).concat([pg.store]).concat([yg.store]).concat([kg.store,wg.store]);var bg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_g=function(){function e(){Ot(this,e),this.onCommittedListeners=[]}return Lt(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Eg=function(){function e(t){var n=this;Ot(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Lt(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Or(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}();function Cg(e){return"IndexedDbTransactionError"===e.name}var Ig=function(){function e(t,n,r,i){Ot(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Lt(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&$v(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Or(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&em(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var i,a=Or(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&em(o,e,this.localWriteTime)}}catch(s){a.e(s)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(gp.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),bm())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&vp(this.mutations,e.mutations,(function(e,t){return tm(e,t)}))&&vp(this.baseMutations,e.baseMutations,(function(e,t){return tm(e,t)}))}}]),e}(),xg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gp.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gp.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cp.EMPTY_BYTE_STRING;Ot(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return Lt(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Tg=Lt((function e(t){Ot(this,e),this.Gt=t}));function Sg(e){var t=Km({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Sv(t,t.limit,"L"):t}var Ng=function(){function e(){Ot(this,e),this.zt=new Pg}return Lt(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.zt.add(t),Eg.resolve()}},{key:"getCollectionParents",value:function(e,t){return Eg.resolve(this.zt.getEntries(t))}}]),e}(),Pg=function(){function e(){Ot(this,e),this.index={}}return Lt(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new vm(bp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new vm(bp.comparator)).toArray()}}]),e}();var Rg=function(){function e(t,n,r){Ot(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Lt(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Rg.DEFAULT_COLLECTION_PERCENTILE=10,Rg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rg.DEFAULT=new Rg(41943040,Rg.DEFAULT_COLLECTION_PERCENTILE,Rg.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rg.DISABLED=new Rg(-1,0,0);var Og=function(){function e(t){Ot(this,e),this.se=t}return Lt(e,[{key:"next",value:function(){return this.se+=2,this.se}}],[{key:"ie",value:function(){return new e(0)}},{key:"re",value:function(){return new e(-1)}}]),e}();function Dg(e){return Lg.apply(this,arguments)}function Lg(){return Lg=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===tp.FAILED_PRECONDITION&&t.message===bg){e.next=2;break}throw t;case 2:Yd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Lg.apply(this,arguments)}var Mg=function(){function e(t,n){Ot(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Lt(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Or(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Ap(this.inner,(function(t,n){var r,i=Or(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return kp(this.inner)}}]),e}(),jg=function(){function e(){Ot(this,e),this.changes=new Mg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Lt(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:gp.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:Xp.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Eg.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Bg=function(){function e(t,n,r){Ot(this,e),this.Je=t,this.An=n,this.Jt=r}return Lt(e,[{key:"Rn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.bn(e,t,r)}))}},{key:"bn",value:function(e,t,n){return this.Je.getEntry(e,t).next((function(e){var t,r=Or(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Pn",value:function(e,t){e.forEach((function(e,n){var r,i=Or(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"vn",value:function(e,t){var n=this;return this.Je.getEntries(e,t).next((function(t){return n.Vn(e,t).next((function(){return t}))}))}},{key:"Vn",value:function(e,t){var n=this;return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Pn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Mp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Sn(e,t.path):Iv(t)?this.Dn(e,t,n):this.Cn(e,t,n)}},{key:"Sn",value:function(e,t){return this.Rn(e,new Mp(t)).next((function(e){var t=km();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Dn",value:function(e,t,n){var r=this,i=t.collectionGroup,a=km();return this.Jt.getCollectionParents(e,i).next((function(o){return Eg.forEach(o,(function(o){var s=function(e,t){return new Av(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.Cn(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"Cn",value:function(e,t,n){var r,i,a=this;return this.Je.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,a.An.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,a.Nn(e,i,r).next((function(e){r=e;var t,n=Or(i);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,s=Or(o.mutations);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u.key,l=r.get(c);null==l&&(l=Xp.newInvalidDocument(c),r=r.insert(c,l)),em(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){Ov(t,n)||(r=r.remove(e))})),r}))}},{key:"Nn",value:function(e,t,n){var r,i=bm(),a=Or(t);try{for(a.s();!(r=a.n()).done;){var o,s=Or(r.value.mutations);try{for(s.s();!(o=s.n()).done;){var u=o.value;u instanceof im&&null===n.get(u.key)&&(i=i.add(u.key))}}catch(l){s.e(l)}finally{s.f()}}}catch(l){a.e(l)}finally{a.f()}var c=n;return this.Je.getEntries(e,i).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))}}]),e}(),Fg=function(){function e(t,n,r,i){Ot(this,e),this.targetId=t,this.fromCache=n,this.kn=r,this.xn=i}return Lt(e,null,[{key:"$n",value:function(t,n){var r,i=bm(),a=bm(),o=Or(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Ug=function(){function e(){Ot(this,e)}return Lt(e,[{key:"On",value:function(e){this.Mn=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(gp.min())?this.Fn(e,t):this.Mn.vn(e,r).next((function(a){var o=i.Ln(t,a);return(bv(t)||_v(t))&&i.Bn(t.limitType,o,r,n)?i.Fn(e,t):(Gd()<=Hu.DEBUG&&Yd("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Rv(t)),i.Mn.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Ln",value:function(e,t){var n=new vm(Dv(e));return t.forEach((function(t,r){Ov(e,r)&&(n=n.add(r))})),n}},{key:"Bn",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return Gd()<=Hu.DEBUG&&Yd("QueryEngine","Using full collection scan to execute query:",Rv(t)),this.Mn.getDocumentsMatchingQuery(e,t,gp.min())}}]),e}(),Qg=function(){function e(t,n,r,i){Ot(this,e),this.persistence=t,this.Un=n,this.k=i,this.qn=new fm(pp),this.Kn=new Mg((function(e){return tv(e)}),nv),this.jn=gp.min(),this.An=t.getMutationQueue(r),this.Qn=t.getRemoteDocumentCache(),this.He=t.getTargetCache(),this.Wn=new Bg(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=t.getBundleCache(),this.Un.On(this.Wn)}return Lt(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.qn)}))}}]),e}();function zg(e,t,n,r){return new Qg(e,t,n,r)}function Vg(e,t){return qg.apply(this,arguments)}function qg(){return qg=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),i=r.An,a=r.Wn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.An.getAllMutationBatches(e).next((function(o){return t=o,i=r.persistence.getMutationQueue(n),a=new Bg(r.Qn,i,r.persistence.getIndexManager()),i.getAllMutationBatches(e)})).next((function(n){var r,i=[],o=[],s=bm(),u=Or(t);try{for(u.s();!(r=u.n()).done;){var c=r.value;i.push(c.batchId);var l,h=Or(c.mutations);try{for(h.s();!(l=h.n()).done;){var f=l.value;s=s.add(f.key)}}catch(A){h.e(A)}finally{h.f()}}}catch(A){u.e(A)}finally{u.f()}var d,p=Or(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,g=Or(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(A){g.e(A)}finally{g.f()}}}catch(A){p.e(A)}finally{p.f()}return a.vn(e,s).next((function(e){return{Gn:e,removedBatchIds:i,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.An=i,r.Wn=a,r.Un.On(r.Wn),o));case 6:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Wg(e){var t=ep(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.He.getLastRemoteSnapshotVersion(e)}))}function Hg(e,t){var n=ep(e),r=t.snapshotVersion,i=n.qn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Qn.newChangeBuffer({trackRemovals:!0});i=n.qn;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.He.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.He.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(Cp.EMPTY_BYTE_STRING,gp.min()).withLastLimboFreeSnapshotVersion(gp.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.He.updateTargetData(e,c))}}));var s=ym();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Gg(e,a,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(gp.min())){var u=n.He.getLastRemoteSnapshotVersion(e).next((function(t){return n.He.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(u)}return Eg.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Wn.Vn(e,s)})).next((function(){return s}))})).then((function(e){return n.qn=i,e}))}function Gg(e,t,n,r,i){var a=bm();return n.forEach((function(e){return a=a.add(e)})),t.getEntries(e,a).next((function(e){var a=ym();return n.forEach((function(n,o){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(gp.min())?(t.removeEntry(n,u),a=a.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o,u),a=a.insert(n,o)):Yd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),a}))}function Yg(e,t){var n=ep(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.He.getTargetData(e,t).next((function(i){return i?(r=i,Eg.resolve(r)):n.He.allocateTargetId(e).next((function(i){return r=new xg(t,i,0,e.currentSequenceNumber),n.He.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.qn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qn=n.qn.insert(e.targetId,e),n.Kn.set(t,e.targetId)),e}))}function Kg(e,t,n){return Jg.apply(this,arguments)}function Jg(){return Jg=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ep(t),a=i.qn.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Cg(e.t1)){e.next=12;break}throw e.t1;case 12:Yd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.qn=i.qn.remove(n),i.Kn.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Jg.apply(this,arguments)}function Zg(e,t,n){var r=ep(e),i=gp.min(),a=bm();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ep(e),i=r.Kn.get(n);return void 0!==i?Eg.resolve(r.qn.get(i)):r.He.getTargetData(t,n)}(r,e,Tv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Un.getDocumentsMatchingQuery(e,t,n?i:gp.min(),n?a:bm())})).next((function(e){return{documents:e,zn:a}}))}))}var Xg=function(){function e(t){Ot(this,e),this.k=t,this.Xn=new Map,this.Zn=new Map}return Lt(e,[{key:"getBundleMetadata",value:function(e,t){return Eg.resolve(this.Xn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Xn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fm(n.createTime)}),Eg.resolve()}},{key:"getNamedQuery",value:function(e,t){return Eg.resolve(this.Zn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Zn.set(t.name,function(e){return{name:e.name,query:Sg(e.bundledQuery),readTime:Fm(e.readTime)}}(t)),Eg.resolve()}}]),e}(),$g=function(){function e(){Ot(this,e),this.ts=new vm(ey.es),this.ns=new vm(ey.ss)}return Lt(e,[{key:"isEmpty",value:function(){return this.ts.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ey(e,t);this.ts=this.ts.add(n),this.ns=this.ns.add(n)}},{key:"rs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.os(new ey(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new Mp(new bp([])),r=new ey(n,e),i=new ey(n,e+1),a=[];return this.ns.forEachInRange([r,i],(function(e){t.os(e),a.push(e.key)})),a}},{key:"hs",value:function(){var e=this;this.ts.forEach((function(t){return e.os(t)}))}},{key:"os",value:function(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}},{key:"ls",value:function(e){var t=new Mp(new bp([])),n=new ey(t,e),r=new ey(t,e+1),i=bm();return this.ns.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ey(e,0),n=this.ts.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ey=function(){function e(t,n){Ot(this,e),this.key=t,this.fs=n}return Lt(e,null,[{key:"es",value:function(e,t){return Mp.comparator(e.key,t.key)||pp(e.fs,t.fs)}},{key:"ss",value:function(e,t){return pp(e.fs,t.fs)||Mp.comparator(e.key,t.key)}}]),e}(),ty=function(){function e(t,n){Ot(this,e),this.Jt=t,this.referenceDelegate=n,this.An=[],this.ds=1,this.ws=new vm(ey.es)}return Lt(e,[{key:"checkEmpty",value:function(e){return Eg.resolve(0===this.An.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ds;this.ds++,this.An.length>0&&this.An[this.An.length-1];var a=new Ig(i,t,n,r);this.An.push(a);var o,s=Or(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.ws=this.ws.add(new ey(u.key,i)),this.Jt.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Eg.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Eg.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.gs(n),i=r<0?0:r;return Eg.resolve(this.An.length>i?this.An[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Eg.resolve(0===this.An.length?-1:this.ds-1)}},{key:"getAllMutationBatches",value:function(e){return Eg.resolve(this.An.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ey(t,0),i=new ey(t,Number.POSITIVE_INFINITY),a=[];return this.ws.forEachInRange([r,i],(function(e){var t=n._s(e.fs);a.push(t)})),Eg.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new vm(pp);return t.forEach((function(e){var t=new ey(e,0),i=new ey(e,Number.POSITIVE_INFINITY);n.ws.forEachInRange([t,i],(function(e){r=r.add(e.fs)}))})),Eg.resolve(this.ys(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Mp.isDocumentKey(i)||(i=i.child(""));var a=new ey(new Mp(i),0),o=new vm(pp);return this.ws.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.fs)),!0)}),a),Eg.resolve(this.ys(o))}},{key:"ys",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;$d(0===this.ps(t.batchId,"removed")),this.An.shift();var r=this.ws;return Eg.forEach(t.mutations,(function(i){var a=new ey(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ws=r}))}},{key:"ee",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ey(t,0),r=this.ws.firstAfterOrEqual(n);return Eg.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.An.length,Eg.resolve()}},{key:"ps",value:function(e,t){return this.gs(e)}},{key:"gs",value:function(e){return 0===this.An.length?0:e-this.An[0].batchId}},{key:"_s",value:function(e){var t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}]),e}(),ny=function(){function e(t,n){Ot(this,e),this.Jt=t,this.Ts=n,this.docs=new fm(Mp.comparator),this.size=0}return Lt(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,i=this.docs.get(r),a=i?i.size:0,o=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o,readTime:n}),this.size+=o-a,this.Jt.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Eg.resolve(n?n.document.mutableCopy():Xp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ym();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xp.newInvalidDocument(e))})),Eg.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=ym(),i=new Mp(t.path.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),s=o.key,u=o.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Ov(t,c)&&(r=r.insert(c.key,c.mutableCopy()))}return Eg.resolve(r)}},{key:"Es",value:function(e,t){return Eg.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ry(this)}},{key:"getSize",value:function(e){return Eg.resolve(this.size)}}]),e}(),ry=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).De=e,r}return Lt(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.De.addEntry(e,i.document,t.getReadTime(r))):t.De.removeEntry(r)})),Eg.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.De.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.De.getEntries(e,t)}}]),n}(jg),iy=function(){function e(t){Ot(this,e),this.persistence=t,this.Is=new Mg((function(e){return tv(e)}),nv),this.lastRemoteSnapshotVersion=gp.min(),this.highestTargetId=0,this.As=0,this.Rs=new $g,this.targetCount=0,this.bs=Og.ie()}return Lt(e,[{key:"forEachTarget",value:function(e,t){return this.Is.forEach((function(e,n){return t(n)})),Eg.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Eg.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Eg.resolve(this.As)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Eg.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.As&&(this.As=t),Eg.resolve()}},{key:"ae",value:function(e){this.Is.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new Og(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ae(t),this.targetCount+=1,Eg.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ae(t),Eg.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Eg.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Is.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Is.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Eg.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Eg.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Is.get(t)||null;return Eg.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Rs.rs(t,n),Eg.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Rs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Eg.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Rs.us(t),Eg.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Rs.ls(t);return Eg.resolve(n)}},{key:"containsKey",value:function(e,t){return Eg.resolve(this.Rs.containsKey(t))}}]),e}(),ay=function(){function e(t,n){var r=this;Ot(this,e),this.Ps={},this.Be=new hp(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=t(this),this.He=new iy(this),this.Jt=new Ng,this.Je=function(e,t){return new ny(e,(function(e){return r.referenceDelegate.vs(e)}))}(this.Jt),this.k=new Tg(n),this.Ye=new Xg(this.k)}return Lt(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ue=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ue}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Jt}},{key:"getMutationQueue",value:function(e){var t=this.Ps[e.toKey()];return t||(t=new ty(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.He}},{key:"getRemoteDocumentCache",value:function(){return this.Je}},{key:"getBundleCache",value:function(){return this.Ye}},{key:"runTransaction",value:function(e,t,n){var r=this;Yd("MemoryPersistence","Starting transaction:",e);var i=new oy(this.Be.next());return this.referenceDelegate.Vs(),n(i).next((function(e){return r.referenceDelegate.Ss(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ds",value:function(e,t){return Eg.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),oy=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Lt(n)}(_g),sy=function(){function e(t){Ot(this,e),this.persistence=t,this.Cs=new $g,this.Ns=null}return Lt(e,[{key:"xs",get:function(){if(this.Ns)return this.Ns;throw Xd()}},{key:"addReference",value:function(e,t,n){return this.Cs.addReference(n,t),this.xs.delete(n.toString()),Eg.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Cs.removeReference(n,t),this.xs.add(n.toString()),Eg.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Eg.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Cs.us(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Vs",value:function(){this.Ns=new Set}},{key:"Ss",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Eg.forEach(this.xs,(function(r){var i=Mp.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Ns=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"vs",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Eg.or([function(){return Eg.resolve(n.Cs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ds(e,t)}])}}],[{key:"ks",value:function(t){return new e(t)}}]),e}();var uy=function(){function e(){Ot(this,e),this.activeTargetIds=Em()}return Lt(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ls",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Ms",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),cy=function(){function e(){Ot(this,e),this.pi=new uy,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Lt(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ti[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.pi.Ls(e)}},{key:"isLocalQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ti[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.pi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.pi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.pi=new uy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),ly=function(){function e(){Ot(this,e)}return Lt(e,[{key:"Ei",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),hy=function(){function e(){var t=this;Ot(this,e),this.Ii=function(){return t.Ai()},this.Ri=function(){return t.bi()},this.Pi=[],this.vi()}return Lt(e,[{key:"Ei",value:function(e){this.Pi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}},{key:"vi",value:function(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}},{key:"Ai",value:function(){Yd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Or(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"bi",value:function(){Yd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Or(this.Pi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Pt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),fy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},dy=function(){function e(t){Ot(this,e),this.Vi=t.Vi,this.Si=t.Si}return Lt(e,[{key:"Di",value:function(e){this.Ci=e}},{key:"Ni",value:function(e){this.ki=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Si()}},{key:"send",value:function(e){this.Vi(e)}},{key:"$i",value:function(){this.Ci()}},{key:"Oi",value:function(e){this.ki(e)}},{key:"Mi",value:function(e){this.xi(e)}}]),e}(),py=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Lt(n,[{key:"Ki",value:function(e,t,n,r){return new Promise((function(i,a){var o=new zd;o.listenOnce(jd.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Md.NO_ERROR:var t=o.getResponseJson();Yd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Md.TIMEOUT:Yd("Connection",'RPC "'+e+'" timed out'),a(new np(tp.DEADLINE_EXCEEDED,"Request time out"));break;case Md.HTTP_ERROR:var n=o.getStatus();if(Yd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(tp).indexOf(t)>=0?t:tp.UNKNOWN}(r.status);a(new np(s,r.message))}else a(new np(tp.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new np(tp.UNAVAILABLE,"Connection failed."));break;default:Xd()}}finally{Yd("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);o.send(t,"POST",s,n,15)}))}},{key:"Qi",value:function(e,t,n){var r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Dd(),a=Ld(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ud({})),this.qi(o.initMessageHeaders,t,n),cu()||fu()||uu().indexOf("Electron/")>=0||du()||uu().indexOf("MSAppHost/")>=0||hu()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=r.join("");Yd("Connection","Creating WebChannel: "+s,o);var u=i.createWebChannel(s,o),c=!1,l=!1,h=new dy({Vi:function(e){l?Yd("Connection","Not sending because WebChannel is closed:",e):(c||(Yd("Connection","Opening WebChannel transport."),u.open(),c=!0),Yd("Connection","WebChannel sending:",e),u.send(e))},Si:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,Qd.EventType.OPEN,(function(){l||Yd("Connection","WebChannel transport opened.")})),f(u,Qd.EventType.CLOSE,(function(){l||(l=!0,Yd("Connection","WebChannel transport closed"),h.Oi())})),f(u,Qd.EventType.ERROR,(function(e){l||(l=!0,Jd("Connection","WebChannel transport errored:",e),h.Oi(new np(tp.UNAVAILABLE,"The operation could not be completed")))})),f(u,Qd.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];$d(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Yd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=um[e];if(void 0!==t)return hm(t)}(a),s=i.message;void 0===o&&(o=tp.INTERNAL,s="Unknown error status: "+a+" with message "+i.message),l=!0,h.Oi(new np(o,s)),u.close()}else Yd("Connection","WebChannel received:",n),h.Mi(n)}})),f(a,Bd.STAT_EVENT,(function(e){e.stat===Fd.PROXY?Yd("Connection","Detected buffering proxy"):e.stat===Fd.NOPROXY&&Yd("Connection","Detected no buffering proxy")})),setTimeout((function(){h.$i()}),0),h}}]),n}(function(){function e(t){Ot(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Lt(e,[{key:"Bi",value:function(e,t,n,r,i){var a=this.Ui(e,t);Yd("RestConnection","Sending: ",a,n);var o={};return this.qi(o,r,i),this.Ki(e,a,o,n).then((function(e){return Yd("RestConnection","Received: ",e),e}),(function(t){throw Jd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ji",value:function(e,t,n,r,i){return this.Bi(e,t,n,r,i)}},{key:"qi",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"Ui",value:function(e,t){var n=fy[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function vy(){return"undefined"!=typeof document?document:null}function my(e){return new Mm(e,!0)}var gy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ot(this,e),this.Me=t,this.timerId=n,this.Wi=r,this.Gi=i,this.zi=a,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}return Lt(e,[{key:"reset",value:function(){this.Hi=0}},{key:"Xi",value:function(){this.Hi=this.zi}},{key:"Zi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,n-r);i>0&&Yd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Hi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,(function(){return t.Yi=Date.now(),e()})),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}},{key:"er",value:function(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}},{key:"cancel",value:function(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}},{key:"tr",value:function(){return(Math.random()-.5)*this.Hi}}]),e}(),yy=function(){function e(t,n,r,i,a,o,s,u){Ot(this,e),this.Me=t,this.nr=r,this.sr=i,this.ir=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new gy(t,n)}return Lt(e,[{key:"hr",value:function(){return 1===this.state||5===this.state||this.lr()}},{key:"lr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.dr()}},{key:"stop",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.hr(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"wr",value:function(){this.state=0,this.ur.reset()}},{key:"_r",value:function(){var e=this;this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,(function(){return e.mr()})))}},{key:"gr",value:function(e){this.yr(),this.stream.send(e)}},{key:"mr",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.lr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"pr",value:function(){this.ar&&(this.ar.cancel(),this.ar=null)}},{key:"close",value:function(){var e=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.yr(),this.pr(),this.ur.cancel(),this.rr++,4!==t?this.ur.reset():n&&n.code===tp.RESOURCE_EXHAUSTED?(Kd(n.toString()),Kd("Using maximum backoff delay to prevent overloading the backend."),this.ur.Xi()):n&&n.code===tp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Tr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ni(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Tr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Er(this.rr),n=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.rr===n&&e.Ir(i,a)}),(function(n){t((function(){var t=new np(tp.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ar(t)}))}))}},{key:"Ir",value:function(e,t){var n=this,r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di((function(){r((function(){return n.state=2,n.ar=n.Me.enqueueAfterDelay(n.sr,1e4,(function(){return n.lr()&&(n.state=3),Promise.resolve()})),n.listener.Di()}))})),this.stream.Ni((function(e){r((function(){return n.Ar(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"dr",value:function(){var e=this;this.state=5,this.ur.Zi(Ws(Gs().mark((function t(){return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ar",value:function(e){return Yd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Er",value:function(e){var t=this;return function(n){t.Me.enqueueAndForget((function(){return t.rr===e?n():(Yd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ay=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).k=o,u}return Lt(n,[{key:"Rr",value:function(e,t){return this.ir.Qi("Listen",e,t)}},{key:"onMessage",value:function(e){this.ur.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.C?($d(void 0===t||"string"==typeof t),Cp.fromBase64String(t||"")):($d(void 0===t||t instanceof Uint8Array),Cp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?tp.UNKNOWN:hm(e.code);return new np(t,e.message||"")}(o);n=new Sm(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=zm(e,u.document.name),l=Fm(u.document.updateTime),h=new Zp({mapValue:{fields:u.document.fields}}),f=Xp.newFoundDocument(c,l,h),d=u.targetIds||[],p=u.removedTargetIds||[];n=new xm(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=zm(e,v.document),g=v.readTime?Fm(v.readTime):gp.min(),y=Xp.newNoDocument(m,g),A=v.removedTargetIds||[];n=new xm([],A,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=zm(e,k.document),b=k.removedTargetIds||[];n=new xm([],b,w,null)}else{if(!("filter"in t))return Xd();t.filter;var _=t.filter;_.targetId;var E=_.count||0,C=new lm(E),I=_.targetId;n=new Tm(I,C)}return n}(this.k,e),n=function(e){if(!("targetChange"in e))return gp.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gp.min():t.readTime?Fm(t.readTime):gp.min()}(e);return this.listener.br(t,n)}},{key:"Pr",value:function(e){var t={};t.database=Wm(this.k),t.addTarget=function(e,t){var n,r=t.target;return(n=rv(r)?{documents:Gm(e,r)}:{query:Ym(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Bm(e,t.resumeToken):t.snapshotVersion.compareTo(gp.min())>0&&(n.readTime=jm(e,t.snapshotVersion.toTimestamp())),n}(this.k,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.k,e);n&&(t.labels=n),this.gr(t)}},{key:"vr",value:function(e){var t={};t.database=Wm(this.k),t.removeTarget=e,this.gr(t)}}]),n}(yy),ky=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.ir=i,o.k=a,o.$r=!1,o}return Lt(n,[{key:"Or",value:function(){if(this.$r)throw new np(tp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Bi",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.ir.Bi(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new np(tp.UNKNOWN,e.toString())}))}},{key:"ji",value:function(e,t,n){var r=this;return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],s=a[1];return r.ir.ji(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===tp.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new np(tp.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.$r=!0}}]),n}(function(){return Lt((function e(){Ot(this,e)}))}()),wy=function(){function e(t,n){Ot(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}return Lt(e,[{key:"Br",value:function(){var e=this;0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.qr("Backend didn't respond within 10 seconds."),e.Ur("Offline"),Promise.resolve()})))}},{key:"Kr",value:function(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Ur("Offline")))}},{key:"set",value:function(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}},{key:"Ur",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"qr",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Lr?(Kd(t),this.Lr=!1):Yd("OnlineStateTracker",t)}},{key:"jr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),by=Lt((function e(t,n,r,i,a){var o=this;Ot(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=a,this.Hr.Ei((function(e){r.enqueueAndForget(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Oy(o),!e.t0){e.next=5;break}return Yd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ep(t)).Gr.add(4),e.next=4,Cy(n);case 4:return n.Jr.set("Unknown"),n.Gr.delete(4),e.next=8,_y(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Jr=new wy(r,i)}));function _y(e){return Ey.apply(this,arguments)}function Ey(){return Ey=Ws(Gs().mark((function e(t){var n,r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Oy(t)){e.next=18;break}n=Or(t.zr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),Ey.apply(this,arguments)}function Cy(e){return Iy.apply(this,arguments)}function Iy(){return Iy=Ws(Gs().mark((function e(t){var n,r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Or(t.zr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Iy.apply(this,arguments)}function xy(e,t){var n=ep(e);n.Wr.has(t.targetId)||(n.Wr.set(t.targetId,t),Ry(n)?Py(n):Gy(n).lr()&&Sy(n,t))}function Ty(e,t){var n=ep(e),r=Gy(n);n.Wr.delete(t),r.lr()&&Ny(n,t),0===n.Wr.size&&(r.lr()?r._r():Oy(n)&&n.Jr.set("Unknown"))}function Sy(e,t){e.Yr.X(t.targetId),Gy(e).Pr(t)}function Ny(e,t){e.Yr.X(t),Gy(e).vr(t)}function Py(e){e.Yr=new Pm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.Wr.get(t)||null}}),Gy(e).start(),e.Jr.Br()}function Ry(e){return Oy(e)&&!Gy(e).hr()&&e.Wr.size>0}function Oy(e){return 0===ep(e).Gr.size}function Dy(e){e.Yr=void 0}function Ly(e){return My.apply(this,arguments)}function My(){return My=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Wr.forEach((function(e,n){Sy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),My.apply(this,arguments)}function jy(e,t){return By.apply(this,arguments)}function By(){return By=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Dy(t),Ry(t)?(t.Jr.Kr(n),Py(t)):t.Jr.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),By.apply(this,arguments)}function Fy(e,t,n){return Uy.apply(this,arguments)}function Uy(){return Uy=Ws(Gs().mark((function e(t,n,r){var i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Jr.set("Online"),!(n instanceof Sm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Or(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Wr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Wr.delete(o),t.Yr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Qy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof xm?t.Yr.ot(n):n instanceof Tm?t.Yr.dt(n):t.Yr.ut(n),r.isEqual(gp.min())){e.next=29;break}return e.prev=14,e.next=17,Wg(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Yr.gt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Wr.get(r);i&&e.Wr.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Wr.get(t);if(n){e.Wr.set(t,n.withResumeToken(Cp.EMPTY_BYTE_STRING,n.snapshotVersion)),Ny(e,t);var r=new xg(n.target,t,1,n.sequenceNumber);Sy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Qy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Uy.apply(this,arguments)}function Qy(e,t,n){return zy.apply(this,arguments)}function zy(){return zy=Ws(Gs().mark((function e(t,n,r){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Cg(n)){e.next=2;break}throw n;case 2:return t.Gr.add(1),e.next=5,Cy(t);case 5:t.Jr.set("Offline"),r||(r=function(){return Wg(t.localStore)}),t.asyncQueue.enqueueRetryable(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Gr.delete(1),e.next=6,_y(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),zy.apply(this,arguments)}function Vy(e,t){return qy.apply(this,arguments)}function qy(){return qy=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ep(t)).asyncQueue.verifyOperationInProgress(),Yd("RemoteStore","RemoteStore received new credentials"),i=Oy(r),r.Gr.add(3),e.next=6,Cy(r);case 6:return i&&r.Jr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Gr.delete(3),e.next=12,_y(r);case 12:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function Wy(e,t){return Hy.apply(this,arguments)}function Hy(){return Hy=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),!n){e.next=7;break}return r.Gr.delete(2),e.next=5,_y(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Gr.add(2),e.next=12,Cy(r);case 12:r.Jr.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}function Gy(e){return e.Xr||(e.Xr=function(e,t,n){var r=ep(e);return r.Or(),new Ay(t,r.ir,r.authCredentials,r.appCheckCredentials,r.k,n)}(e.datastore,e.asyncQueue,{Di:Ly.bind(null,e),Ni:jy.bind(null,e),br:Fy.bind(null,e)}),e.zr.push(function(){var t=Ws(Gs().mark((function t(n){return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Xr.wr(),Ry(e)?Py(e):e.Jr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Xr.stop();case 6:Dy(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}var Yy=function(){function e(t,n,r,i,a){Ot(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new rp,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Lt(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new np(tp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Ky(e,t){if(Kd("AsyncQueue","".concat(t,": ").concat(e)),Cg(e))return new np(tp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Jy=function(){function e(t){Ot(this,e),this.comparator=t?function(e,n){return t(e,n)||Mp.comparator(e.key,n.key)}:function(e,t){return Mp.comparator(e.key,t.key)},this.keyedMap=km(),this.sortedSet=new fm(this.comparator)}return Lt(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Zy=function(){function e(){Ot(this,e),this.eo=new fm(Mp.comparator)}return Lt(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.eo.get(t);n?0!==e.type&&3===n.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==n.type?this.eo=this.eo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.eo=this.eo.remove(t):1===e.type&&2===n.type?this.eo=this.eo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):Xd():this.eo=this.eo.insert(t,e)}},{key:"no",value:function(){var e=[];return this.eo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Xy=function(){function e(t,n,r,i,a,o,s,u){Ot(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u}return Lt(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,Jy.emptySet(n),a,r,i,!0,!1)}}]),e}(),$y=Lt((function e(){Ot(this,e),this.so=void 0,this.listeners=[]})),eA=Lt((function e(){Ot(this,e),this.queries=new Mg((function(e){return Pv(e)}),Nv),this.onlineState="Unknown",this.io=new Set}));function tA(e,t){return nA.apply(this,arguments)}function nA(){return nA=Ws(Gs().mark((function e(t,n){var r,i,a,o,s;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new $y),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.so=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Ky(e.t0,"Initialization of query '".concat(Rv(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.ro(r.onlineState),o.so&&n.oo(o.so)&&sA(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),nA.apply(this,arguments)}function rA(e,t){return iA.apply(this,arguments)}function iA(){return iA=Ws(Gs().mark((function e(t,n){var r,i,a,o,s;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),iA.apply(this,arguments)}function aA(e,t){var n,r=ep(e),i=!1,a=Or(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=Or(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.oo(o)&&(i=!0)}}catch(h){l.e(h)}finally{l.f()}u.so=o}}}catch(h){a.e(h)}finally{a.f()}i&&sA(r)}function oA(e,t,n){var r=ep(e),i=r.queries.get(t);if(i){var a,o=Or(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function sA(e){e.io.forEach((function(e){e.next()}))}var uA=function(){function e(t,n,r){Ot(this,e),this.query=t,this.co=n,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}return Lt(e,[{key:"oo",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Or(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new Xy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.ao?this.ho(e)&&(this.co.next(e),a=!0):this.lo(e,this.onlineState)&&(this.fo(e),a=!0),this.uo=e,a}},{key:"onError",value:function(e){this.co.error(e)}},{key:"ro",value:function(e){this.onlineState=e;var t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}},{key:"lo",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.wo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"ho",value:function(e){if(e.docChanges.length>0)return!0;var t=this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"fo",value:function(e){e=Xy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}]),e}();var cA=Lt((function e(t){Ot(this,e),this.key=t})),lA=Lt((function e(t){Ot(this,e),this.key=t})),hA=function(){function e(t,n){Ot(this,e),this.query=t,this.To=n,this.Eo=null,this.current=!1,this.Io=bm(),this.mutatedKeys=bm(),this.Ao=Dv(t),this.Ro=new Jy(this.Ao)}return Lt(e,[{key:"bo",get:function(){return this.To}},{key:"Po",value:function(e,t){var n=this,r=t?t.vo:new Zy,i=t?t.Ro:this.Ro,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u=bv(this.query)&&i.size===this.query.limit?i.last():null,c=_v(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),h=Ov(n.query,t)?t:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Vo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.Ao(h,u)>0||c&&n.Ao(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),bv(this.query)||_v(this.query))for(;o.size>this.query.limit;){var l=bv(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Ro:o,vo:r,Bn:s,mutatedKeys:a}}},{key:"Vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;var a=e.vo.no();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xd()}};return n(e)-n(t)}(e.type,t.type)||r.Ao(e.doc,t.doc)})),this.So(n);var o=t?this.Do():[],s=0===this.Io.size&&this.current?1:0,u=s!==this.Eo;return this.Eo=s,0!==a.length||u?{snapshot:new Xy(this.query,e.Ro,i,a,e.mutatedKeys,0===s,u,!1),Co:o}:{Co:o}}},{key:"ro",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new Zy,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}},{key:"No",value:function(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}},{key:"So",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.To=t.To.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.To=t.To.delete(e)})),this.current=e.current)}},{key:"Do",value:function(){var e=this;if(!this.current)return[];var t=this.Io;this.Io=bm(),this.Ro.forEach((function(t){e.No(t.key)&&(e.Io=e.Io.add(t.key))}));var n=[];return t.forEach((function(t){e.Io.has(t)||n.push(new lA(t))})),this.Io.forEach((function(e){t.has(e)||n.push(new cA(e))})),n}},{key:"ko",value:function(e){this.To=e.zn,this.Io=bm();var t=this.Po(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Xy.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}]),e}(),fA=Lt((function e(t,n,r){Ot(this,e),this.query=t,this.targetId=n,this.view=r})),dA=Lt((function e(t){Ot(this,e),this.key=t,this.$o=!1})),pA=function(){function e(t,n,r,i,a,o){Ot(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Oo={},this.Mo=new Mg((function(e){return Pv(e)}),Nv),this.Fo=new Map,this.Lo=new Set,this.Bo=new fm(Mp.comparator),this.Uo=new Map,this.qo=new $g,this.Ko={},this.jo=new Map,this.Qo=Og.re(),this.onlineState="Unknown",this.Wo=void 0}return Lt(e,[{key:"isPrimaryClient",get:function(){return!0===this.Wo}}]),e}();function vA(e,t){return mA.apply(this,arguments)}function mA(){return mA=Ws(Gs().mark((function e(t,n){var r,i,a,o,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=MA(t),!(o=r.Mo.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.xo(),e.next=15;break;case 6:return e.next=8,Yg(r.localStore,Tv(n));case 8:return s=e.sent,u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,gA(r,n,i,"current"===u);case 13:a=e.sent,r.isPrimaryClient&&xy(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),mA.apply(this,arguments)}function gA(e,t,n,r){return yA.apply(this,arguments)}function yA(){return yA=Ws(Gs().mark((function e(t,n,r,i){var a,o,s,u,c,l;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Go=function(e,n,r){return function(){var e=Ws(Gs().mark((function e(t,n,r,i){var a,o,s;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Po(r),e.t0=a.Bn,!e.t0){e.next=6;break}return e.next=5,Zg(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Po(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(TA(t,n.targetId,s.Co),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Zg(t.localStore,n,!0);case 3:return a=e.sent,o=new hA(n,a.zn),s=o.Po(a.documents),u=Im.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(s,t.isPrimaryClient,u),TA(t,r,c.Co),l=new fA(n,r,o),e.abrupt("return",(t.Mo.set(n,l),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),yA.apply(this,arguments)}function AA(e,t){return kA.apply(this,arguments)}function kA(){return kA=Ws(Gs().mark((function e(t,n){var r,i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ep(t),i=r.Mo.get(n),!((a=r.Fo.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(i.targetId,a.filter((function(e){return!Nv(e,n)}))),void r.Mo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Kg(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ty(r.remoteStore,i.targetId),IA(r,i.targetId)})).catch(Dg);case 9:e.next=14;break;case 11:return IA(r,i.targetId),e.next=14,Kg(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),kA.apply(this,arguments)}function wA(e,t){return bA.apply(this,arguments)}function bA(){return bA=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),e.prev=1,e.next=4,Hg(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Uo.get(t);n&&($d(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.$o=!0:e.modifiedDocuments.size>0?$d(n.$o):e.removedDocuments.size>0&&($d(n.$o),n.$o=!1))})),e.next=8,PA(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dg(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),bA.apply(this,arguments)}function _A(e,t,n){var r=ep(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Mo.forEach((function(e,n){var r=n.view.ro(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ep(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Or(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.ro(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&sA(n)}(r.eventManager,t),i.length&&r.Oo.br(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function EA(e,t,n){return CA.apply(this,arguments)}function CA(){return CA=Ws(Gs().mark((function e(t,n,r){var i,a,o,s,u,c;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ep(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Uo.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new fm(Mp.comparator)).insert(o,Xp.newNoDocument(o,gp.min())),u=bm().add(o),c=new Cm(gp.min(),new Map,new vm(pp),s,u),e.next=9,wA(i,c);case 9:i.Bo=i.Bo.remove(o),i.Uo.delete(n),NA(i),e.next=16;break;case 14:return e.next=16,Kg(i.localStore,n,!1).then((function(){return IA(i,n,r)})).catch(Dg);case 16:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function IA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Or(e.Fo.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Mo.delete(a),n&&e.Oo.zo(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Fo.delete(t),e.isPrimaryClient&&e.qo.us(t).forEach((function(t){e.qo.containsKey(t)||xA(e,t)}))}function xA(e,t){e.Lo.delete(t.path.canonicalString());var n=e.Bo.get(t);null!==n&&(Ty(e.remoteStore,n),e.Bo=e.Bo.remove(t),e.Uo.delete(n),NA(e))}function TA(e,t,n){var r,i=Or(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof cA?(e.qo.addReference(a.key,t),SA(e,a)):a instanceof lA?(Yd("SyncEngine","Document no longer in limbo: "+a.key),e.qo.removeReference(a.key,t),e.qo.containsKey(a.key)||xA(e,a.key)):Xd()}}catch(o){i.e(o)}finally{i.f()}}function SA(e,t){var n=t.key,r=n.path.canonicalString();e.Bo.get(n)||e.Lo.has(r)||(Yd("SyncEngine","New document in limbo: "+n),e.Lo.add(r),NA(e))}function NA(e){for(;e.Lo.size>0&&e.Bo.size<e.maxConcurrentLimboResolutions;){var t=e.Lo.values().next().value;e.Lo.delete(t);var n=new Mp(bp.fromString(t)),r=e.Qo.next();e.Uo.set(r,new dA(n)),e.Bo=e.Bo.insert(n,r),xy(e.remoteStore,new xg(Tv(wv(n.path)),r,2,hp.I))}}function PA(e,t,n){return RA.apply(this,arguments)}function RA(){return RA=Ws(Gs().mark((function e(t,n,r){var i,a,o,s;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ep(t),a=[],o=[],s=[],e.t0=i.Mo.isEmpty(),e.t0){e.next=9;break}return i.Mo.forEach((function(e,t){s.push(i.Go(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Fg.$n(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.Oo.br(a),e.next=9,function(){var e=Ws(Gs().mark((function e(t,n){var r,i,a,o,s,u,c,l;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ep(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Eg.forEach(n,(function(t){return Eg.forEach(t.kn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Eg.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Cg(e.t0)){e.next=10;break}throw e.t0;case 10:Yd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Or(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.qn.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.qn=r.qn.insert(s,l))}catch(h){i.e(h)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function OA(e,t){return DA.apply(this,arguments)}function DA(){return DA=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ep(t)).currentUser.isEqual(n)){e.next=11;break}return Yd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Vg(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.jo.forEach((function(e){e.forEach((function(e){e.reject(new np(tp.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.jo.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,PA(r,i.Gn);case 11:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function LA(e,t){var n=ep(e),r=n.Uo.get(t);if(r&&r.$o)return bm().add(r.key);var i=bm(),a=n.Fo.get(t);if(!a)return i;var o,s=Or(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.Mo.get(u);i=i.unionWith(c.view.bo)}}catch(l){s.e(l)}finally{s.f()}return i}function MA(e){var t=ep(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=EA.bind(null,t),t.Oo.br=aA.bind(null,t.eventManager),t.Oo.zo=oA.bind(null,t.eventManager),t}var jA=function(){function e(){Ot(this,e),this.synchronizeTabs=!1}return Lt(e,[{key:"initialize",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.k=my(t.databaseInfo.databaseId),this.sharedClientState=this.Jo(t),this.persistence=this.Yo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Xo(t),this.localStore=this.Zo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return null}},{key:"Zo",value:function(e){return zg(this.persistence,new Ug,e.initialUser,this.k)}},{key:"Yo",value:function(e){return new ay(sy.ks,this.k)}},{key:"Jo",value:function(e){return new cy}},{key:"terminate",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),BA=function(){function e(){Ot(this,e)}return Lt(e,[{key:"initialize",value:function(){var e=Ws(Gs().mark((function e(t,n){var r=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return _A(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=OA.bind(null,this.syncEngine),e.next=12,Wy(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new eA}},{key:"createDatastore",value:function(e){var t,n=my(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new py(t));return function(e,t,n,r){return new ky(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return _A(o.syncEngine,e,0)},a=hy.Pt()?new hy:new ly,new by(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new pA(e,t,n,r,i,a);return o&&(s.Wo=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ep(t),Yd("RemoteStore","RemoteStore shutting down."),n.Gr.add(5),e.next=5,Cy(n);case 5:n.Hr.shutdown(),n.Jr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var FA=function(){function e(t){Ot(this,e),this.observer=t,this.muted=!1}return Lt(e,[{key:"next",value:function(e){this.observer.next&&this.ec(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"nc",value:function(){this.muted=!0}},{key:"ec",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),UA=function(){function e(t,n,r,i){var a=this;Ot(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qd.UNAUTHENTICATED,this.clientId=dp.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Lt(e,[{key:"getConfiguration",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new np(tp.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rp;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ws(Gs().mark((function n(){var r;return Gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Ky(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function QA(e,t){return zA.apply(this,arguments)}function zA(){return zA=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Vg(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),zA.apply(this,arguments)}function VA(e,t){return qA.apply(this,arguments)}function qA(){return qA=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,WA(t);case 3:return r=e.sent,Yd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Vy(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Vy(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),qA.apply(this,arguments)}function WA(e){return HA.apply(this,arguments)}function HA(){return HA=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Yd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,QA(t,new jA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),HA.apply(this,arguments)}function GA(e){return YA.apply(this,arguments)}function YA(){return YA=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Yd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,VA(t,new BA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),YA.apply(this,arguments)}function KA(e){return JA.apply(this,arguments)}function JA(){return JA=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,GA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=vA.bind(null,n.syncEngine),r.onUnlisten=AA.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),JA.apply(this,arguments)}function ZA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rp;return e.asyncQueue.enqueueAndForget(Ws(Gs().mark((function i(){return Gs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FA({next:function(a){t.enqueueAndForget((function(){return rA(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new np(tp.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new np(tp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new uA(wv(n.path),a,{includeMetadataChanges:!0,wo:!0});return tA(e,o)},i.next=3,KA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function XA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new rp;return e.asyncQueue.enqueueAndForget(Ws(Gs().mark((function i(){return Gs().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new FA({next:function(n){t.enqueueAndForget((function(){return rA(e,o)})),n.fromCache&&"server"===r.source?i.reject(new np(tp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new uA(n,a,{includeMetadataChanges:!0,wo:!0});return tA(e,o)},i.next=3,KA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var $A=Lt((function e(t,n,r,i,a,o,s,u){Ot(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),ek=function(){function e(t,n){Ot(this,e),this.projectId=t,this.database=n||"(default)"}return Lt(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),tk=new Map;function nk(e,t,n){if(!n)throw new np(tp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function rk(e){if(!Mp.isDocumentKey(e))throw new np(tp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ik(e){if(Mp.isDocumentKey(e))throw new np(tp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function ak(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xd()}function ok(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new np(tp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ak(e);throw new np(tp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function sk(e,t){if(t<=0)throw new np(tp.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uk=function(){function e(t){var n;if(Ot(this,e),void 0===t.host){if(void 0!==t.ssl)throw new np(tp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new np(tp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new np(tp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Lt(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),ck=function(){function e(t,n,r){Ot(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uk({}),this._settingsFrozen=!1,t instanceof ek?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new np(tp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ek(e.options.projectId)}(t))}return Lt(e,[{key:"app",get:function(){if(!this._app)throw new np(tp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new np(tp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ap;switch(e.type){case"gapi":var t=e.client;return $d(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new up(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new np(tp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=tk.get(e);t&&(Yd("ComponentProvider","Removing Datastore"),tk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var lk=function(){function e(t,n,r){Ot(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Lt(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new fk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),hk=function(){function e(t,n,r){Ot(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Lt(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),fk=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,wv(i)))._path=i,a.type="collection",a}return Lt(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new lk(this.firestore,null,new Mp(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(hk);function dk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qu(e),nk("collection","path",t),e instanceof ck){var a=bp.fromString.apply(bp,[t].concat(r));return ik(a),new fk(e,null,a)}if(!(e instanceof lk||e instanceof fk))throw new np(tp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(bp.fromString.apply(bp,[t].concat(r)));return ik(o),new fk(e.firestore,null,o)}function pk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Qu(e),1===arguments.length&&(t=dp.A()),nk("doc","path",t),e instanceof ck){var a=bp.fromString.apply(bp,[t].concat(r));return rk(a),new lk(e,null,new Mp(a))}if(!(e instanceof lk||e instanceof fk))throw new np(tp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(bp.fromString.apply(bp,[t].concat(r)));return rk(o),new lk(e.firestore,e instanceof fk?e.converter:null,new Mp(o))}var vk=function(){function e(){var t=this;Ot(this,e),this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new gy(this,"async_queue_retry"),this.bc=function(){var e=vy();e&&Yd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ur.er()};var n=vy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.bc)}return Lt(e,[{key:"isShuttingDown",get:function(){return this.yc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Pc(),this.vc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;var t=vy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Pc(),this.yc)return new Promise((function(){}));var n=new rp;return this.vc((function(){return t.yc&&t.Ac?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.gc.push(e),t.Vc()}))}},{key:"Vc",value:function(){var e=Ws(Gs().mark((function e(){var t=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.gc.length){e.next=14;break}return e.prev=1,e.next=4,this.gc[0]();case 4:this.gc.shift(),this.ur.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Cg(e.t0)){e.next=12;break}throw e.t0;case 12:Yd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.gc.length>0&&this.ur.Zi((function(){return t.Vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(e){var t=this,n=this.mc.then((function(){return t.Ic=!0,e().catch((function(e){t.Ec=e,t.Ic=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Kd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ic=!1,e}))}));return this.mc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);var i=Yy.createAndSchedule(this,e,t,n,(function(e){return r.Sc(e)}));return this.Tc.push(i),i}},{key:"Pc",value:function(){this.Ec&&Xd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Dc",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.mc,e.next=3,t;case 3:if(t!==this.mc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Cc",value:function(e){var t,n=Or(this.Tc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Nc",value:function(e){var t=this;return this.Dc().then((function(){t.Tc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Or(t.Tc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Dc()}))}},{key:"kc",value:function(e){this.Rc.push(e)}},{key:"Sc",value:function(e){var t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}]),e}();var mk=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new vk,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Lt(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ak(this),this._firestoreClient.terminate()}}]),n}(ck);function gk(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bc();return dc(e,"firestore").getImmediate()}function yk(e){return e._firestoreClient||Ak(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ak(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new $A(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new UA(e._authCredentials,e._appCheckCredentials,e._queue,r)}var kk=function(){function e(){Ot(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new np(tp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ep(n)}return Lt(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var wk=function(){function e(t){Ot(this,e),this._byteString=t}return Lt(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Cp.fromBase64String(t))}catch(t){throw new np(tp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Cp.fromUint8Array(t))}}]),e}(),bk=Lt((function e(t){Ot(this,e),this._methodName=t})),_k=function(){function e(t,n){if(Ot(this,e),!isFinite(t)||t<-90||t>90)throw new np(tp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new np(tp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Lt(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return pp(this._lat,e._lat)||pp(this._long,e._long)}}]),e}(),Ek=/^__.*__$/;function Ck(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xd()}}var Ik=function(){function e(t,n,r,i,a,o){Ot(this,e),this.settings=t,this.databaseId=n,this.k=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Lt(e,[{key:"path",get:function(){return this.settings.path}},{key:"$c",get:function(){return this.settings.$c}},{key:"Oc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Mc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.Lc(e),r}},{key:"Bc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Oc({path:n,Fc:!1});return r.xc(),r}},{key:"Uc",value:function(e){return this.Oc({path:void 0,Fc:!0})}},{key:"qc",value:function(e){return Mk(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}},{key:"Lc",value:function(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(Ck(this.$c)&&Ek.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}]),e}(),xk=function(){function e(t,n,r){Ot(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.k=r||my(t)}return Lt(e,[{key:"Qc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ik({$c:e,methodName:t,jc:n,path:Ep.emptyPath(),Fc:!1,Kc:r},this.databaseId,this.k,this.ignoreUndefinedProperties)}}]),e}();function Tk(e){var t=e._freezeSettings(),n=my(e._databaseId);return new xk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Sk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Nk(n,e.Qc(r?4:3,t))}function Nk(e,t){if(Rk(e=Qu(e)))return Ok("Unsupported field value:",t,e),Pk(e,t);if(e instanceof bk)return function(e,t){if(!Ck(t.$c))throw t.qc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.qc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.$c)throw t.qc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Or(e);try{for(a.s();!(n=a.n()).done;){var o=Nk(n.value,t.Uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Qu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bv(t.k,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=mp.fromDate(e);return{timestampValue:jm(t.k,n)}}if(e instanceof mp){var r=new mp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jm(t.k,r)}}if(e instanceof _k)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wk)return{bytesValue:Bm(t.k,e._byteString)};if(e instanceof lk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.qc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Um(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.qc("Unsupported field value: ".concat(ak(e)))}(e,t)}function Pk(e,t){var n={};return kp(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ap(e,(function(e,r){var i=Nk(r,t.Mc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Rk(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mp||e instanceof _k||e instanceof wk||e instanceof lk||e instanceof bk)}function Ok(e,t,n){if(!Rk(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=ak(n);throw"an object"===r?t.qc(e+" a custom object"):t.qc(e+" "+r)}}var Dk=new RegExp("[~\\*/\\[\\]]");function Lk(e,t,n){if(t.search(Dk)>=0)throw Mk("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Vs(kk,Rt(t.split(".")))._internalPath}catch(r){throw Mk("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Mk(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new np(tp.INVALID_ARGUMENT,s+e+u)}var jk=function(){function e(t,n,r,i,a){Ot(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Lt(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new lk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new Bk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Fk("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),Bk=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){return _n(wn(n.prototype),"data",this).call(this)}}]),n}(jk);function Fk(e,t){return"string"==typeof t?Lk(e,t):t instanceof kk?t._internalPath:t._delegate._internalPath}var Uk=function(){function e(t,n){Ot(this,e),this.hasPendingWrites=t,this.fromCache=n}return Lt(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Qk=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a,o,s){var u;return Ot(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return Lt(n,[{key:"exists",value:function(){return _n(wn(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new zk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Fk("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(jk),zk=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _n(wn(n.prototype),"data",this).call(this,e)}}]),n}(Qk),Vk=function(){function e(t,n,r,i){Ot(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Uk(i.hasPendingWrites,i.fromCache),this.query=r}return Lt(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new zk(n._firestore,n._userDataWriter,r.key,r,new Uk(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new np(tp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new zk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Uk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new zk(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Uk(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qk(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function qk(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xd()}}function Wk(e){if(_v(e)&&0===e.explicitOrderBy.length)throw new np(tp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Hk=Lt((function e(){Ot(this,e)}));function Gk(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var Yk=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this)).zc=e,a.Hc=r,a.Jc=i,a.type="where",a}return Lt(n,[{key:"_apply",value:function(e){var t=Tk(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new np(tp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ew(o,a);var u,c=[],l=Or(o);try{for(l.s();!(u=l.n()).done;){var h=u.value;c.push($k(r,e,h))}}catch(d){l.e(d)}finally{l.f()}s={arrayValue:{values:c}}}else s=$k(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ew(o,a),s=Sk(n,"where",o,"in"===a||"not-in"===a);var f=iv.create(i,a,s);return function(e,t){if(t.V()){var n=Cv(e);if(null!==n&&!n.isEqual(t.field))throw new np(tp.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Ev(e);null!==r&&tw(e,t.field,r)}var i=function(e,t){var n,r=Or(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new np(tp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new np(tp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,f),f}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new hk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Av(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Hk);function Kk(e,t,n){var r=t,i=Fk("where",e);return new Yk(i,r,n)}var Jk=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this)).zc=e,i.Yc=r,i.type="orderBy",i}return Lt(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new np(tp.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new np(tp.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vv(t,n);return function(e,t){if(null===Ev(e)){var n=Cv(e);null!==n&&tw(e,n,t.field)}}(e,r),r}(e._query,this.zc,this.Yc);return new hk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Av(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Hk);function Zk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Fk("orderBy",e);return new Jk(r,n)}var Xk=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a;return Ot(this,n),(a=t.call(this)).type=e,a.Xc=r,a.Zc=i,a}return Lt(n,[{key:"_apply",value:function(e){return new hk(e.firestore,e.converter,Sv(e._query,this.Xc,this.Zc))}}]),n}(Hk);function $k(e,t,n){if("string"==typeof(n=Qu(n))){if(""===n)throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Iv(t)&&-1!==n.indexOf("/"))throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(bp.fromString(n));if(!Mp.isDocumentKey(r))throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return qp(e,new Mp(r))}if(n instanceof lk)return qp(e,n._key);throw new np(tp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(ak(n),"."))}function ew(e,t){if(!Array.isArray(e)||0===e.length)throw new np(tp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new np(tp.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function tw(e,t,n){if(!n.isEqual(t))throw new np(tp.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var nw=function(){function e(){Ot(this,e)}return Lt(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(jp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Ap(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new _k(Tp(e.latitude),Tp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Pp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Rp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=xp(e);return new mp(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=bp.fromString(e);$d(ag(n));var r=new ek(n.get(1),n.get(3)),i=new Mp(n.popFirst(5));return r.isEqual(t)||Kd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();var rw=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).firestore=e,r}return Lt(n,[{key:"convertBytes",value:function(e){return new wk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lk(this.firestore,null,t)}}]),n}(nw);function iw(e){e=ok(e,hk);var t=ok(e.firestore,mk),n=yk(t),r=new rw(t);return Wk(e._query),XA(n,e._query).then((function(n){return new Vk(t,r,e,n)}))}function aw(e,t,n){var r=n.docs.get(t._key),i=new rw(e);return new Qk(e,i,t._key,r,new Uk(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Wd=e}(kc),fc(new zu("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new mk(i,new op(e.getProvider("auth-internal")),new lp(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ic(Vd,"3.4.4",e),Ic(Vd,"3.4.4","esm2017")}();var ow=Lt((function e(t,n,r){Ot(this,e),this.id=void 0,this.title=void 0,this.pictureUrl=void 0,this.id=t,this.title=n,this.pictureUrl=r})),sw=ow,uw=function(e){iw(Gk(dk(gk(),"flavors"))).then((function(t){var n=t.docs.map((function(e){return function(e){var t=[e.id,e.get("title"),e.get("pictureUrl")],n=t[0],r=t[1],i=t[2];if(void 0===r||void 0===i)throw new Error("Par\xe1metros de items de base de datos err\xf3neos");return new sw(n,r,i)}(e)}));e(n)}))},cw=function(e,t){var n=Gk(dk(gk(),"numberOfFlavors"),Kk("recipienteID","==",t),function(e){return sk("limit",e),new Xk("limit",e,"F")}(1));iw(n).then((function(t){var n,r=null===(n=t.docs[0])||void 0===n?void 0:n.get("amount");if(void 0===r)throw new Error("Este documento no presenta campo 'amount'");e(r)}))},lw=function(){function e(){Ot(this,e)}return Lt(e,[{key:"getTicketTitle",value:function(e){return e}}]),e}(),hw=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).flavors=void 0,r.flavors=e,r}return Lt(n,[{key:"equals",value:function(e){var t=!1;return e instanceof n&&(t=!this.flavors.some((function(t,n){return e.flavors[n].id!==t.id}))),t}},{key:"getTicketTitle",value:function(e){var t=e;return this.flavors.forEach((function(e){return t+=" - "+e.title})),t}}]),n}(lw),fw=hw,dw=["bsPrefix","className","variant","as"],pw=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,s=re(e,dw),u=ye(n,"card-img");return(0,me.jsx)(o,te({ref:t,className:ae()(i?"".concat(u,"-").concat(i):u,r)},s))}));pw.displayName="CardImg";var vw=pw,mw=["bsPrefix","className","as"],gw=t.forwardRef((function(e,n){var r=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,s=re(e,mw),u=ye(r,"card-header"),c=(0,t.useMemo)((function(){return{cardHeaderBsPrefix:u}}),[u]);return(0,me.jsx)(yr.Provider,{value:c,children:(0,me.jsx)(o,te(te({ref:n},s),{},{className:ae()(i,u)}))})}));gw.displayName="CardHeader";var yw=gw,Aw=["bsPrefix","className","bg","text","border","body","children","as"],kw=An("h5"),ww=An("h6"),bw=be("card-body"),_w=be("card-title",{Component:kw}),Ew=be("card-subtitle",{Component:ww}),Cw=be("card-link",{Component:"a"}),Iw=be("card-text",{Component:"p"}),xw=be("card-footer"),Tw=be("card-img-overlay"),Sw=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,s=e.body,u=e.children,c=e.as,l=void 0===c?"div":c,h=re(e,Aw),f=ye(n,"card");return(0,me.jsx)(l,te(te({ref:t},h),{},{className:ae()(r,f,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,me.jsx)(bw,{children:u}):u}))}));Sw.displayName="Card",Sw.defaultProps={body:!1};var Nw=Object.assign(Sw,{Img:vw,Title:_w,Subtitle:Ew,Body:bw,Link:Cw,Text:Iw,Header:yw,Footer:xw,ImgOverlay:Tw}),Pw=function(e){var t=e.items,n=e.show,r=e.onHide,i=e.selectItemById;return(0,me.jsxs)(Oo,{id:"modal-choser-modal",onHide:r,show:n,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,me.jsxs)(Oo.Header,{id:"header-choser-modal",children:[(0,me.jsx)(Oo.Title,{id:"contained-modal-title-vcenter",children:"Elige un sabor"}),(0,me.jsx)(fn,{variant:"white",onClick:r})]}),(0,me.jsx)(Oo.Body,{children:(0,me.jsx)(zs,{className:"item-container-choser-modal justify-content-evenly",children:t.map((function(e){return(0,me.jsx)("div",{className:"card-img-modal",children:(0,me.jsxs)(Nw,{className:"item-card",children:[(0,me.jsx)(Nw.Img,{width:"100px",variant:"top",src:e.pictureUrl}),(0,me.jsx)(Nw.Body,{className:"body-choser-modal",children:(0,me.jsx)(Nw.Title,{className:"title-choser-modal btn stretched-link",onClick:function(){i(e.id),r()},children:e.title})})]})},e.id)}))})})]})},Rw=function(e){var n=e.imgWidth,r=e.imgHeight,i=(e.itemId,e.maxFlavors),a=e.flavors,o=e.selectedFlavors,s=e.setSelectedFlavors,u=c((0,t.useState)(!1),2),l=u[0],h=u[1],f=c((0,t.useState)(0),2),d=f[0],p=f[1],v=(0,t.useCallback)((function(){0===o.length&&s(a.slice(0,i))}),[o.length,s,a,i]);(0,t.useEffect)((function(){v()}),[v]);return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(Pw,{items:a,show:l,onHide:function(){return h(!1)},selectItemById:function(e){var t=o,n=a.find((function(t){return t.id===e}));n instanceof sw?(t[d]=n,s(t.slice())):console.warn("El item cambiado no pudo ser hallado")}}),(0,me.jsx)("div",{id:"images-container-item-choser",style:{width:n,height:r,maxHeight:r},children:o.map((function(e,t){var n=[e.pictureUrl,e.title],r=n[0],a=n[1];return(0,me.jsx)("div",{className:"img-container-item-choser",style:{width:100/i+"%",left:"".concat(100*t/i,"%")},children:(0,me.jsx)("span",{onClick:function(){h(!0),p(t)},children:(0,me.jsx)("img",{className:"img-item-choser",style:{objectPosition:100*t/(i-1)+"% 0"},src:r,alt:a})})},t)}))})]})},Ow=function(e){var n=e.id,r=e.setProductDetail,i=c((0,t.useState)([]),2),a=i[0],o=i[1],s=c((0,t.useState)([]),2),u=s[0],l=s[1],h=c((0,t.useState)(0),2),f=h[0],d=h[1];return(0,t.useEffect)((function(){var e=!0;try{cw((function(t){e&&d(t)}),n),uw((function(t){e&&o(t)}))}catch(t){t instanceof Error&&console.warn(t)}return function(){e=!1}}),[n]),(0,t.useEffect)((function(){r(new fw(u.slice()))}),[u,r]),(0,me.jsx)(Rw,{maxFlavors:f,imgWidth:500,imgHeight:1e3/3,itemId:n,flavors:a,selectedFlavors:u,setSelectedFlavors:l})},Dw=function(e){var n=e.stock,r=e.initial,i=e.increase,a=e.decrease,o=e.onAdd,s=c((0,t.useState)(r),2),u=s[0],l=s[1];return(0,me.jsxs)(me.Fragment,{children:[" ",(0,me.jsxs)("div",{className:"item-count input-group",children:[(0,me.jsx)("span",{className:"item-count-span",onClick:function(){return a(u,l)},children:(0,me.jsx)(Ga,{className:"item-count-btn item-count-element",children:"-"})}),(0,me.jsx)("input",{type:"text",name:"cantItems",className:"item-count-element form-control input-number",readOnly:!0,value:u,min:"0",max:n}),(0,me.jsx)("span",{className:"item-count-span",onClick:function(){return i(u,l)},children:(0,me.jsx)(Ga,{className:"item-count-btn item-count-element",children:"+"})})]}),(0,me.jsx)("div",{className:"add-cart-container input-group py-2 display-content-center",children:(0,me.jsx)(Ga,{className:"add-cart",variant:"primary",onClick:function(){return o(u)},children:"Agregar al carro"})})]})},Lw=function(){function e(t,n,r,i,a){Ot(this,e),this.id=void 0,this.title=void 0,this.price=void 0,this.pictureUrl=void 0,this.category=void 0,this.id=t,this.title=n,this.price=r,this.pictureUrl=i,this.category=a}return Lt(e,[{key:"equals",value:function(e){return e.id===this.id}}]),e}(),Mw=Lw,jw=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a,o,s,u){var c;return Ot(this,n),(c=t.call(this,e,r,i,a,o)).amount=void 0,c.productDetail=void 0,c.productDetail=s,c.amount=u,c}return Lt(n,[{key:"sameDetails",value:function(e){return e.equals(this.productDetail)}},{key:"sameProductAs",value:function(e){return e.equals(this)&&e.sameDetails(this.productDetail)}}]),n}(Mw),Bw=jw,Fw=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"equals",value:function(e){return e instanceof n}},{key:"getTicketTitle",value:function(e){return e}}]),n}(lw),Uw=Fw,Qw=function(e){var n=e.item,r=(0,t.useContext)(lo),i=[n.id,n.title,n.description,n.price,n.pictureUrl,n.stock,n.category],a=i[0],o=i[1],s=i[2],u=i[3],l=i[4],h=i[5],f=i[6],d=(0,t.useState)(function(e){var t;t=e===co.Recipiente?new fw([]):new Uw;return t}(f)),p=c(d,2),v=p[0],m=p[1],g=c((0,t.useState)(!1),2),y=g[0],A=g[1],k=c((0,t.useState)(r.amountInCart(a)),2),w=k[0],b=k[1],_=c((0,t.useState)("Producto agregado al carrito!"),2),E=_[0],C=_[1];(0,t.useEffect)((function(){A(r.isInCart(a,v)),w>=h&&(A(!0),C("No queda stock para este producto!"))}),[v,w,r,a,h]);var I=new Map([[co.Paleta,"450px"],[co.Recipiente,"575px"],[co.Postre,"600px"]]);return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{id:"item-detail",children:(0,me.jsxs)(zs,{id:"info-item-detail",className:"align-items-center",children:[(0,me.jsx)(as,{xl:"6",id:"img-container-item-detail",className:"justify-content-center",children:(0,me.jsx)(me.Fragment,{children:f!==co.Recipiente?(0,me.jsx)("img",{id:"img-item-detail",width:I.get(f),src:l,alt:"Imagen "+o}):(0,me.jsxs)(zs,{className:"justify-content-center",children:[(0,me.jsx)("div",{id:"title-item-choser",children:(0,me.jsx)("h3",{children:"Personaliza tu helado:"})}),(0,me.jsx)(Ow,{id:a,setProductDetail:m})]})})}),(0,me.jsx)(as,{xl:"6",id:"text-info-item-detail",className:"d-flex justify-content-center",children:(0,me.jsxs)("div",{id:"text-info-inner-item-detail",children:[(0,me.jsx)("div",{id:"title-item-detail",children:(0,me.jsx)("h3",{children:o})}),(0,me.jsx)("p",{id:"description-item-detail",children:s}),(0,me.jsxs)("h1",{id:"price-item-detail",children:[u," US$"]}),(0,me.jsxs)("div",{id:"bottom-info-item-detail",children:[(0,me.jsxs)("div",{id:"cart-stock-item-detail",children:[(0,me.jsxs)("p",{id:"stock-item-detail",children:[(0,me.jsx)("strong",{children:"Stock:"})," ",h]}),(0,me.jsxs)("small",{id:"in-cart-item-detail",children:["(",w," en carrito)"]})]}),(0,me.jsx)(zs,{className:"item-count-container",children:y?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)("div",{style:{fontStyle:"italic"},children:(0,me.jsxs)("p",{style:{marginBottom:"0px"},children:[" ",E," "]})}),(0,me.jsx)(X,{to:"/cart",children:(0,me.jsx)("div",{className:"py-2",children:(0,me.jsx)(Ga,{className:"add-cart",variant:"primary",children:"Terminar mi compra"})})})]}):(0,me.jsx)(Dw,{stock:h,initial:0,increase:function(e,t){e<h&&w+e<h&&t(e+1)},decrease:function(e,t){e>0&&t(e-1)},onAdd:function(e){if(e>0)try{var t=function(e,t,n){var r=e;if(!(e instanceof Bw)){var i=[e.id,e.title,e.price,e.pictureUrl,e.category],a=i[1],o=i[2],s=i[3],u=i[4];r=new Bw(i[0],t.getTicketTitle(a),o,s,u,t,n)}if(!(r instanceof Bw))throw new Error("El item creado no es de tipo ItemTicket!");return r}(n,v,e);if(r.addItem(t),A(r.isInCart(a,v)),b(r.amountInCart(a)),w>h)throw new Error("La cantidad de items en el carrito supera al stock")}catch(i){i instanceof Error&&(console.warn(i.message),C(i.message),A(!0))}}})})]})]})})]})})})},zw=n(541),Vw=function(){return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)("div",{id:"waiting",children:(0,me.jsxs)("div",{id:"waiting-inner",children:[(0,me.jsx)("img",{id:"waiting---",src:zw,width:"150px",alt:"waiting..."}),(0,me.jsx)("h1",{id:"waiting-text",children:"Cargando..."})]})})})},qw=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a,o,s,u){var c;return Ot(this,n),(c=t.call(this,e,r,a,o,s)).description=void 0,c.stock=void 0,c.description=i,c.stock=u,c}return Lt(n)}(Mw),Ww=qw,Hw=function(e){var t=[e.id,e.get("title"),e.get("description"),e.get("price"),e.get("pictureUrl"),e.get("type"),e.get("stock")],n=t[0],r=t[1],i=t[2],a=t[3],o=t[4],s=t[5],u=t[6];if(void 0===r||void 0===i||void 0===a||void 0===o||void 0===s||void 0===u)throw new Error("Par\xe1metros de items de base de datos err\xf3neos");return new Ww(n,r,i,a,o,s,u)},Gw=function(e,t){(function(e){e=ok(e,lk);var t=ok(e.firestore,mk);return ZA(yk(t),e._key).then((function(n){return aw(t,e,n)}))})(pk(gk(),"items",e)).then((function(e){if(!e.exists())throw new Error("El item buscado no existe en la base de datos");var n=Hw(e);t(n)}))},Yw=function(){var e=R().id,n=c((0,t.useState)(null),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=!0;try{e&&Gw(e,(function(e){t&&i(e)}))}catch(n){n instanceof Error&&console.warn(n.message)}return function(){t=!1}}),[e]),(0,me.jsxs)("div",{children:[(0,me.jsx)(zs,{id:"routes-item-detail",children:(0,me.jsx)(Jn,{className:"routes-nav-item-detail",variant:"light",children:(0,me.jsx)($n,{id:"routes-container-item-detail",className:"justify-content-center",children:(0,me.jsxs)(Pr,{children:[(0,me.jsx)(Pr.Link,{as:X,to:"/",children:"Volver al listado"}),(0,me.jsx)(Jn.Text,{children:"|"}),(0,me.jsx)(Pr.Link,{as:X,to:"/",children:"Home"}),(0,me.jsx)(Jn.Text,{children:" > "}),(0,me.jsx)(Pr.Link,{as:X,to:"/",children:"Listado"}),(0,me.jsx)(Jn.Text,{children:" > "}),(0,me.jsx)(Pr.Link,{as:X,to:"",children:"Producto"})]})})})}),r?(0,me.jsx)(Qw,{item:r}):(0,me.jsx)(Vw,{})]})},Kw=function(e){var t=e.item,n=e.setSelectedItem,r=[t.title,t.description,t.price,t.pictureUrl],i=r[0],a=r[1],o=r[2],s=r[3];return(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)(Nw,{className:"item-card",children:[(0,me.jsx)(Nw.Img,{className:"item-img",variant:"top",src:s}),(0,me.jsxs)(Nw.Body,{className:"body-card",children:[(0,me.jsx)(X,{to:"/item/"+t.id,children:(0,me.jsx)(Nw.Title,{className:"item-title btn stretched-link",onClick:function(){n&&n(t)},children:(0,me.jsx)("strong",{children:i})})}),(0,me.jsx)("hr",{}),(0,me.jsx)(Nw.Text,{className:"item-desc item-text",children:a}),(0,me.jsx)(Nw.Text,{className:"item-price item-text",children:(0,me.jsxs)("strong",{children:[o," US$"]})})]})]})})},Jw=function(e){var t=e.items;return(0,me.jsxs)(me.Fragment,{children:[" ",t.map((function(e){return(0,me.jsx)(Kw,{item:e,setSelectedItem:null},e.id)}))]})},Zw=function(){var e=R().id,n=c((0,t.useState)([]),2),r=n[0],i=n[1];return(0,t.useEffect)((function(){var t=!0,n=function(e){t&&i(e)};try{void 0!==e?function(e,t){iw(Gk(dk(gk(),"items"),Kk("type","==",e),Zk("price"))).then((function(e){var n=e.docs.map((function(e){return Hw(e)}));t(n)}))}(e,n):function(e){iw(Gk(dk(gk(),"items"),Zk("type"),Zk("title"))).then((function(t){var n=t.docs.map((function(e){return Hw(e)}));e(n)}))}(n)}catch(r){console.warn("No se ha podido encontrar el item")}return function(){t=!1}}),[e]),(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{id:"item-list-container",children:[(0,me.jsx)("div",{id:"store-title",children:(0,me.jsx)("h2",{id:"greeting",children:"Pide tus helados antes de que se derritan!"})}),(0,me.jsx)("div",{id:"product-list",children:(0,me.jsxs)("div",{className:"row justify-content-center",children:[(0,me.jsx)("h1",{className:"py-5",children:"Tienda"}),r.length?(0,me.jsx)(Jw,{items:r}):(0,me.jsx)(Vw,{})]})})]})})},Xw=n(689),$w=function(e){var n=e.setHasNavbar;return(0,t.useEffect)((function(){return n(!1),function(){n(!0)}}),[n]),(0,me.jsxs)("div",{id:"error",children:[(0,me.jsx)("img",{id:"error-logo",src:Xw,alt:"logo"}),(0,me.jsx)("h1",{children:"Error 404"}),(0,me.jsx)("p",{children:"P\xe1gina no encontrada."}),(0,me.jsx)(X,{id:"home-link",to:"/",children:"P\xe1gina principal"})]})},eb=["bsPrefix","active","disabled","eventKey","className","variant","action","as"],tb=t.forwardRef((function(e,t){var n=e.bsPrefix,r=e.active,i=e.disabled,a=e.eventKey,o=e.className,s=e.variant,u=e.action,l=e.as,h=re(e,eb);n=ye(n,"list-group-item");var f=c(cr(te({key:oe(a,h.href),active:r},h)),2),d=f[0],p=f[1],v=bt((function(e){if(i)return e.preventDefault(),void e.stopPropagation();d.onClick(e)}));i&&void 0===h.tabIndex&&(h.tabIndex=-1,h["aria-disabled"]=!0);var m=l||(u?h.href?"a":"button":"div");return(0,me.jsx)(m,te(te(te({ref:t},h),d),{},{onClick:v,className:ae()(o,n,p.isActive&&"active",i&&"disabled",s&&"".concat(n,"-").concat(s),u&&"".concat(n,"-action"))}))}));tb.displayName="ListGroupItem";var nb=tb,rb=["className","bsPrefix","variant","horizontal","numbered","as"],ib=t.forwardRef((function(e,t){var n,r=he(e,{activeKey:"onSelect"}),i=r.className,a=r.bsPrefix,o=r.variant,s=r.horizontal,u=r.numbered,c=r.as,l=void 0===c?"div":c,h=re(r,rb),f=ye(a,"list-group");return s&&(n=!0===s?"horizontal":"horizontal-".concat(s)),(0,me.jsx)(mr,te(te({ref:t},h),{},{as:l,className:ae()(i,f,o&&"".concat(f,"-").concat(o),n&&"".concat(f,"-").concat(n),u&&"".concat(f,"-numbered"))}))}));ib.displayName="ListGroup";var ab=Object.assign(ib,{Item:nb}),ob=function(e){var n=e.show,r=e.onHide,i=e.confirmPurchase,a=c((0,t.useState)(null),2),o=a[0],s=a[1],u=(0,t.useRef)(null),l=(0,t.useRef)(null),h=(0,t.useRef)(null),f=(0,t.useRef)(null),d=(0,t.useRef)(null),p=(0,t.useContext)(lo),v=p.items;return(0,me.jsxs)(Oo,{id:"modal-purchase",show:n,"aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,me.jsxs)(Oo.Header,{id:"header-purchase",children:[(0,me.jsx)(Oo.Title,{children:" Confirmar compra "}),(0,me.jsx)(fn,{variant:"white",onClick:function(){s(null),r()}})]}),(0,me.jsx)(Oo.Body,{children:(0,me.jsxs)(Is,{onSubmit:function(e){e.preventDefault();try{var t,n,r,i,a,o=null===u||void 0===u||null===(t=u.current)||void 0===t?void 0:t.value,c=null===(n=l.current)||void 0===n?void 0:n.value,p=null===(r=h.current)||void 0===r?void 0:r.value,v=null===(i=f.current)||void 0===i?void 0:i.value,m=null===(a=d.current)||void 0===a?void 0:a.value;if(void 0===o)throw new Error("El campo de Tel\xe9fono debe ser completado.");if(void 0===c)throw new Error("El campo de Pa\xeds debe ser completado.");if(void 0===p)throw new Error("El campo de Ciudad debe ser completado.");if(void 0===v)throw new Error("El campo de C\xf3digo Postal debe ser completado.");if(void 0===m)throw new Error("El campo de M\xe9todo de pago debe ser completado.");s({message:"Compra realizada! Su pedido llegar\xe1 en menos de 30 minutos a la direci\xf3n indicada.",variant:"success"})}catch(g){g instanceof Error&&s({message:g.message,variant:"danger"})}},children:[(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Tel\xe9fono "}),(0,me.jsx)(Is.Control,{type:"number",ref:u,required:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Pa\xeds "}),(0,me.jsx)(Is.Control,{type:"text",ref:l,required:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Ciudad "}),(0,me.jsx)(Is.Control,{type:"text",ref:h,required:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" C\xf3digo postal "}),(0,me.jsx)(Is.Control,{type:"number",ref:f,required:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Forma de pago "}),(0,me.jsx)(Is.Control,{type:"text",ref:d,value:"Efectivo",required:!0,disabled:!0})]}),(0,me.jsxs)(Is.Group,{className:"my-2",children:[(0,me.jsx)(Is.Label,{children:" Productos agregados: "}),(0,me.jsx)(ab,{className:"my-2 product-list-purchase-modal",children:v.map((function(e){return(0,me.jsxs)(ab.Item,{className:"item-purchase-modal justify-content-between",children:[(0,me.jsxs)("p",{children:[e.amount," x"]}),(0,me.jsx)("h6",{children:e.title}),(0,me.jsxs)("p",{className:"item-price-purchase-modal",children:[e.price,"US$"]})]},e.id+e.title)}))}),(0,me.jsxs)(Is.Label,{className:"w-100 my-3 justify-content-center",style:{display:"inline-flex"},children:["Total: ",(0,me.jsxs)("h5",{id:"total-cost-purchase-modal",className:"mx-1",children:[p.getTotalCost(),"US$"]})]})]}),o&&(0,me.jsx)(Os,{variant:o.variant,children:o.message}),(0,me.jsx)(Ga,{className:"button-purchase-modal w-100",type:"submit",onClick:i,children:"Confirmar compra"})]})})]})},sb=n(651),ub=function(){var e=(0,t.useContext)(lo),n=e.items,r=c((0,t.useState)({itemAmount:0,subtotal:0,discount:0,shipping:0,total:0}),2),i=r[0],a=r[1],o=(0,t.useContext)(mo),s=(0,t.useContext)(po),u=c((0,t.useState)(!1),2),l=u[0],h=u[1];(0,t.useEffect)((function(){var t={itemAmount:e.getNumberOfProducts(),subtotal:e.getTotalCost(),discount:0,shipping:0,total:e.getTotalCost()};a(t)}),[e]);var f=i.itemAmount,d=i.subtotal,p=i.discount,v=i.shipping,m=i.total;return(0,me.jsxs)(me.Fragment,{children:[(0,me.jsx)(ob,{show:l,onHide:function(){return h(!1)},confirmPurchase:function(){}}),(0,me.jsxs)(zs,{className:"justify-content-center",children:[(0,me.jsx)(as,{md:"7",sm:"12",id:"items-cart-container",children:(0,me.jsxs)(as,{id:"items-inner-cart",children:[f>0?(0,me.jsxs)(me.Fragment,{children:[(0,me.jsxs)(zs,{id:"footer-cart",className:"py-3",children:[(0,me.jsxs)(as,{sm:"4",id:"go-back-cart",className:" justify-content-center px-5",children:[" ",(0,me.jsx)(X,{to:"/",children:"Volver"})," "]}),(0,me.jsx)(as,{sm:"4",className:"d-flex justify-content-center px-5",children:(0,me.jsx)("h2",{children:"Carrito"})})]}),(0,me.jsx)(zs,{id:"items-row-cart",className:"d-flex justify-content-center",children:n.map((function(t){var n=[t.id,t.title,t.pictureUrl,t.price,t.amount],r=n[0],i=n[1],a=n[2],o=n[3],s=n[4];return(0,me.jsx)("div",{className:"item-container-cart",children:(0,me.jsxs)(zs,{className:"item-cart justify-content-start",children:[(0,me.jsxs)(as,{md:"6",className:"col-item-cart col-item-img-cart justify-content-center",children:[" ",(0,me.jsx)(X,{to:"/item/"+r,children:(0,me.jsx)("img",{className:"img-item-cart",src:a,alt:"Item"})})," "]}),(0,me.jsxs)(as,{md:"5",className:"item-info-container-cart",children:[(0,me.jsxs)(zs,{className:"col-item-cart",children:[" ",(0,me.jsxs)("h5",{className:"item-title-cart",children:[" ",i," "]})]}),(0,me.jsxs)(zs,{className:"col-item-cart",children:[" ",(0,me.jsxs)("p",{className:"item-amount-cart",children:[" Cantidad: ",s," "]})," "]}),(0,me.jsxs)(zs,{className:"col-item-cart",children:[" ",(0,me.jsxs)("h5",{className:"item-price-cart",children:[o*s,"US$"]})]})]}),(0,me.jsx)(as,{md:"1",className:"delete-icon-col-cart  justify-content-end",children:(0,me.jsxs)(zs,{className:"col-item-cart",children:[" ",(0,me.jsx)("span",{className:"delete-icon-cart",onClick:function(){return e.deleteItem(t)},children:(0,me.jsx)("img",{src:sb,alt:"Borrar"})})," "]})})]})},r+i)}))})]}):(0,me.jsx)(me.Fragment,{children:(0,me.jsxs)("div",{id:"no-items-cart",children:[(0,me.jsx)("h1",{children:"No hay items en tu carrito!"}),(0,me.jsx)(X,{to:"/",children:(0,me.jsx)(Ga,{className:"button-cart",children:"Compra un item"})})]})})," "]})}),(0,me.jsxs)(as,{md:"5",sm:"12",id:"container-cart",children:[(0,me.jsxs)(zs,{id:"products-info-cart",className:"justify-content-center",children:[(0,me.jsx)(zs,{id:"title-cart",children:(0,me.jsxs)(as,{className:"d-flex justify-content-start px-4",children:[" ",(0,me.jsx)("h1",{children:"Resumen"})," "]})}),(0,me.jsxs)(zs,{id:"column-names-cart",children:[(0,me.jsxs)(zs,{className:"buy-info-cart",children:[(0,me.jsx)(as,{className:"items-buy-info-cart",children:(0,me.jsx)("p",{children:"Items:"})}),(0,me.jsxs)(as,{className:"amount-items-buy-info-cart",children:[(0,me.jsx)("p",{children:f})," "]})]}),(0,me.jsxs)(zs,{className:"buy-info-cart",children:[(0,me.jsx)(as,{className:"title-buy-info-cart",children:(0,me.jsx)("p",{children:"Subtotal"})}),(0,me.jsxs)(as,{className:"result-buy-info-cart",children:[(0,me.jsxs)("p",{children:[d,"US$"]})," "]})]}),(0,me.jsxs)(zs,{className:"buy-info-cart",children:[(0,me.jsx)(as,{className:"title-buy-info-cart",children:(0,me.jsx)("p",{children:"Descuento"})}),(0,me.jsxs)(as,{className:"result-buy-info-cart",children:[" ",(0,me.jsxs)("p",{children:[p,"US$"]})," "]})]}),(0,me.jsxs)(zs,{className:"buy-info-cart",children:[(0,me.jsx)(as,{className:"title-buy-info-cart",children:(0,me.jsx)("p",{children:"Env\xedo"})}),(0,me.jsxs)(as,{className:"result-buy-info-cart",children:[" ",(0,me.jsx)("p",{children:v>0?v:"Gratis"})," "]})]}),(0,me.jsx)("hr",{}),(0,me.jsxs)(zs,{className:"buy-info-cart",children:[(0,me.jsx)(as,{className:"title-buy-info-cart",children:(0,me.jsx)("p",{children:"Total"})}),(0,me.jsxs)(as,{className:"result-buy-info-cart",children:[" ",(0,me.jsxs)("p",{children:[m,"US$"]})," "]})]})]})]}),(0,me.jsxs)(zs,{id:"button-container-cart",className:"justify-content-around",children:[(0,me.jsx)(as,{md:"6",className:"summary-button-cart",children:(0,me.jsx)(Ga,{className:"button-cart",onClick:function(){o.loggedUser?h(!0):s.openLoginModal()},children:"Finalizar Compra"})}),(0,me.jsx)(as,{md:"6",className:"summary-button-cart",children:(0,me.jsx)(Ga,{className:"button-cart",onClick:e.deleteAllItems,children:"Borrar Todo"})})]})]})]})]})},cb=function(){return(0,me.jsx)(me.Fragment,{children:(0,me.jsx)(ub,{})})},lb=function(){var e=c((0,t.useState)(!0),2),n=e[0],r=e[1];return(0,me.jsx)("div",{children:(0,me.jsxs)(Z,{children:[n?(0,me.jsx)(Bs,{}):null,(0,me.jsxs)(I,{children:[(0,me.jsx)(E,{path:"/",element:(0,me.jsx)(Zw,{})}),(0,me.jsx)(E,{path:"/category/:id",element:(0,me.jsx)(Zw,{})}),(0,me.jsx)(E,{path:"/item/:id",element:(0,me.jsx)(Yw,{})}),(0,me.jsx)(E,{path:"/cart",element:(0,me.jsx)(cb,{})}),(0,me.jsx)(E,{path:"*",element:(0,me.jsx)($w,{setHasNavbar:r})})]})]})})};var hb,fb=function(){return(0,me.jsx)("div",{id:"app",children:(0,me.jsx)(go,{children:(0,me.jsx)(vo,{children:(0,me.jsx)(ho,{children:(0,me.jsx)(lb,{})})})})})},db=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},pb=function(){function e(t,n){var r=this;Ot(this,e),this._delegate=t,this.firebase=n,lc(t,new zu("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Lt(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ec(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oc;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oc;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){lc(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){hc(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),vb=($(hb={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),$(hb,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),hb),mb=new gu("app-compat","Firebase",vb);var gb=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_u(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ic,setLogLevel:Tc,onLog:xc,apps:null,SDK_VERSION:kc,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(fc(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw mb.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&au(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_u(n,e=e||oc))throw mb.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(pb);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){au(n,e)},createSubscribe:Ou,ErrorFactory:gu,deepExtend:au}),n}(),yb=new tc("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){yb.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ab=self.firebase.SDK_VERSION;Ab&&Ab.indexOf("LITE")>=0&&yb.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var kb=gb;!function(e){Ic("@firebase/app-compat","0.1.17",e)}();kb.registerVersion("firebase","9.6.6","app-compat");function wb(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var bb;Object.create;var _b="facebook.com",Eb="github.com",Cb="google.com",Ib="password",xb="twitter.com",Tb="EMAIL_SIGNIN",Sb="PASSWORD_RESET",Nb="RECOVER_EMAIL",Pb="REVERT_SECOND_FACTOR_ADDITION",Rb="VERIFY_AND_CHANGE_EMAIL",Ob="VERIFY_EMAIL";function Db(){return $({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Lb=function(){var e;return $(e={},"admin-restricted-operation","This operation is restricted to administrators only."),$(e,"argument-error",""),$(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),$(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),$(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),$(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),$(e,"cordova-not-ready","Cordova framework is not ready."),$(e,"cors-unsupported","This browser is not supported."),$(e,"credential-already-in-use","This credential is already associated with a different user account."),$(e,"custom-token-mismatch","The custom token corresponds to a different audience."),$(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),$(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),$(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),$(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),$(e,"email-already-in-use","The email address is already in use by another account."),$(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),$(e,"expired-action-code","The action code has expired."),$(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),$(e,"internal-error","An internal AuthError has occurred."),$(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),$(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),$(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),$(e,"invalid-auth-event","An internal AuthError has occurred."),$(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),$(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),$(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),$(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),$(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),$(e,"invalid-email","The email address is badly formatted."),$(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),$(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),$(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),$(e,"invalid-credential","The supplied auth credential is malformed or has expired."),$(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),$(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),$(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),$(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),$(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),$(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),$(e,"wrong-password","The password is invalid or the user does not have a password."),$(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),$(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),$(e,"invalid-provider-id","The specified provider ID is invalid."),$(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),$(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),$(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),$(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),$(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),$(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),$(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),$(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),$(e,"missing-continue-uri","A continue URL must be provided in the request."),$(e,"missing-iframe-start","An internal AuthError has occurred."),$(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),$(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),$(e,"missing-multi-factor-info","No second factor identifier is provided."),$(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),$(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),$(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),$(e,"app-deleted","This instance of FirebaseApp has been deleted."),$(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),$(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),$(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),$(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),$(e,"no-auth-event","An internal AuthError has occurred."),$(e,"no-such-provider","User was not linked to an account with the given provider."),$(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),$(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),$(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),$(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),$(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),$(e,"provider-already-linked","User can only be linked to one identity for the given provider."),$(e,"quota-exceeded","The project's quota for this operation has been exceeded."),$(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),$(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),$(e,"rejected-credential","The request contains malformed or mismatching credentials."),$(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),$(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),$(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),$(e,"timeout","The operation has timed out."),$(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),$(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),$(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),$(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),$(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),$(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),$(e,"unverified-email","The operation requires a verified email."),$(e,"user-cancelled","The user did not grant your application the permissions it requested."),$(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),$(e,"user-disabled","The user account has been disabled by an administrator."),$(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),$(e,"user-signed-out",""),$(e,"weak-password","The password must be 6 characters long or more."),$(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),$(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Mb=Db,jb=new gu("auth","Firebase",Db()),Bb=new tc("@firebase/auth");function Fb(e){if(Bb.logLevel<=Hu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Bb.error.apply(Bb,["Auth (".concat(kc,"): ").concat(e)].concat(n))}}function Ub(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qb.apply(void 0,[e].concat(n))}function Qb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qb.apply(void 0,[e].concat(n))}function zb(e,t,n){var r=Object.assign(Object.assign({},Mb()),$({},t,n));return new gu("auth","Firebase",r).create(t,{appName:e.name})}function Vb(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ub(e,"argument-error"),zb(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function qb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Rt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Rt(o)))}return jb.create.apply(jb,[e].concat(n))}function Wb(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qb.apply(void 0,[t].concat(r))}}function Hb(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Fb(t),new Error(t)}function Gb(e,t){e||Hb(t)}var Yb=new Map;function Kb(e){Gb(e instanceof Function,"Expected a class definition");var t=Yb.get(e);return t?(Gb(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yb.set(e,t),t)}function Jb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zb(){return"http:"===Xb()||"https:"===Xb()}function Xb(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var $b=function(){function e(t,n){Ot(this,e),this.shortDelay=t,this.longDelay=n,Gb(n>t,"Short delay should be less than long delay!"),this.isMobile=cu()||fu()}return Lt(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zb()||hu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function e_(e,t){Gb(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var t_=function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Hb("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Hb("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Hb("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),n_=($(bb={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),$(bb,"MISSING_CUSTOM_TOKEN","internal-error"),$(bb,"INVALID_IDENTIFIER","invalid-email"),$(bb,"MISSING_CONTINUE_URI","internal-error"),$(bb,"INVALID_PASSWORD","wrong-password"),$(bb,"MISSING_PASSWORD","internal-error"),$(bb,"EMAIL_EXISTS","email-already-in-use"),$(bb,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),$(bb,"INVALID_IDP_RESPONSE","invalid-credential"),$(bb,"INVALID_PENDING_TOKEN","invalid-credential"),$(bb,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),$(bb,"MISSING_REQ_TYPE","internal-error"),$(bb,"EMAIL_NOT_FOUND","user-not-found"),$(bb,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),$(bb,"EXPIRED_OOB_CODE","expired-action-code"),$(bb,"INVALID_OOB_CODE","invalid-action-code"),$(bb,"MISSING_OOB_CODE","internal-error"),$(bb,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),$(bb,"INVALID_ID_TOKEN","invalid-user-token"),$(bb,"TOKEN_EXPIRED","user-token-expired"),$(bb,"USER_NOT_FOUND","user-token-expired"),$(bb,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),$(bb,"INVALID_CODE","invalid-verification-code"),$(bb,"INVALID_SESSION_INFO","invalid-verification-id"),$(bb,"INVALID_TEMPORARY_PROOF","invalid-credential"),$(bb,"MISSING_SESSION_INFO","missing-verification-id"),$(bb,"SESSION_EXPIRED","code-expired"),$(bb,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),$(bb,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),$(bb,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),$(bb,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),$(bb,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),$(bb,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),$(bb,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),$(bb,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),$(bb,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),$(bb,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),$(bb,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),bb),r_=new $b(3e4,6e4);function i_(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function a_(e,t,n,r){return o_.apply(this,arguments)}function o_(){return o_=Ws(Gs().mark((function e(t,n,r,i){var a,o=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",s_(t,a,Ws(Gs().mark((function e(){var a,o,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Su(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",t_.fetch()(h_(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),o_.apply(this,arguments)}function s_(e,t,n){return u_.apply(this,arguments)}function u_(){return u_=Ws(Gs().mark((function e(t,n,r){var i,a,o,s,u,l,h,f,d,p;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},n_),n),e.prev=2,a=new f_(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw d_(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,l=u.split(" : "),h=c(l,2),f=h[0],d=h[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw d_(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw d_(t,"email-already-in-use",s);case 25:if(p=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw zb(t,p,d);case 30:Ub(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof mu)){e.next=37;break}throw e.t0;case 37:Ub(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),u_.apply(this,arguments)}function c_(e,t,n,r){return l_.apply(this,arguments)}function l_(){return l_=Ws(Gs().mark((function e(t,n,r,i){var a,o,s=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,a_(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Ub(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),l_.apply(this,arguments)}function h_(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?e_(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var f_=function(){function e(t){var n=this;Ot(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Qb(n.auth,"network-request-failed"))}),r_.get())}))}return Lt(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function d_(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Qb(e,t,r);return i.customData._tokenResponse=n,i}function p_(e,t){return v_.apply(this,arguments)}function v_(){return v_=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),v_.apply(this,arguments)}function m_(e,t){return g_.apply(this,arguments)}function g_(){return g_=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function y_(e,t){return A_.apply(this,arguments)}function A_(){return A_=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function k_(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(NM){}}function w_(){return w_=Ws(Gs().mark((function e(t){var n,r,i,a,o,s,u=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Qu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Wb((a=__(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:k_(b_(a.auth_time)),issuedAtTime:k_(b_(a.iat)),expirationTime:k_(b_(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),w_.apply(this,arguments)}function b_(e){return 1e3*Number(e)}function __(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Fb("JWT malformed, contained fewer than 3 sections"),null;try{var a=iu(r);return a?JSON.parse(a):(Fb("Failed to decode base64 JWT payload"),null)}catch(NM){return Fb("Caught error parsing JWT payload as JSON",NM),null}}function E_(e,t){return C_.apply(this,arguments)}function C_(){return C_=Ws(Gs().mark((function e(t,n){var r=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof mu&&I_(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),C_.apply(this,arguments)}function I_(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var x_=function(){function e(t){Ot(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Lt(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ws(Gs().mark((function t(){return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),T_=function(){function e(t,n){Ot(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Lt(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=k_(this.lastLoginAt),this.creationTime=k_(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function S_(e){return N_.apply(this,arguments)}function N_(){return N_=Ws(Gs().mark((function e(t){var n,r,i,a,o,s,u,c,l,h,f;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,E_(t,y_(r,{idToken:i}));case 6:Wb(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?O_(o.providerUserInfo):[],u=R_(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),h=!!c&&l,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new T_(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,f);case 17:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function P_(){return(P_=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qu(t),e.next=3,S_(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Rt(n),Rt(t))}function O_(e){return e.map((function(e){var t=e.providerId,n=wb(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s_(t,{},Ws(Gs().mark((function e(){var r,i,a,o,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Su({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=h_(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",t_.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}var M_=function(){function e(){Ot(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Lt(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Wb(e.idToken,"internal-error"),Wb("undefined"!==typeof e.idToken,"internal-error"),Wb("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=__(e);return Wb(t,"internal-error"),Wb("undefined"!==typeof t.exp,"internal-error"),Wb("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ws(Gs().mark((function e(t){var n,r=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Wb(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D_(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Hb("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Wb("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Wb("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Wb("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function j_(e,t){Wb("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var B_=function(){function e(t){Ot(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=wb(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Rt(a.providerData):[],this.metadata=new T_(a.createdAt||void 0,a.lastLoginAt||void 0)}return Lt(e,[{key:"getIdToken",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E_(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Wb(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return w_.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return P_.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Wb(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Wb(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ws(Gs().mark((function e(t){var n,r,i=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,S_(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,E_(this,p_(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,h=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,A=n.uid,k=n.emailVerified,w=n.isAnonymous,b=n.providerData,_=n.stsTokenManager;Wb(A&&_,t,"internal-error");var E=M_.fromJSON(this.name,_);Wb("string"===typeof A,t,"internal-error"),j_(h,t.name),j_(f,t.name),Wb("boolean"===typeof k,t,"internal-error"),Wb("boolean"===typeof w,t,"internal-error"),j_(d,t.name),j_(p,t.name),j_(v,t.name),j_(m,t.name),j_(g,t.name),j_(y,t.name);var C=new e({uid:A,auth:t,email:f,emailVerified:k,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:g,lastLoginAt:y});return b&&Array.isArray(b)&&(C.providerData=b.map((function(e){return Object.assign({},e)}))),m&&(C._redirectEventId=m),C}},{key:"_fromIdTokenResponse",value:function(){var t=Ws(Gs().mark((function t(n,r){var i,a,o,s=arguments;return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new M_).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,S_(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),F_=function(){function e(){Ot(this,e),this.type="NONE",this.storage={}}return Lt(e,[{key:"_isAvailable",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();F_.type="NONE";var U_=F_;function Q_(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var z_=function(){function e(t,n,r){Ot(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Q_(this.userKey,a.apiKey,o),this.fullPersistenceKey=Q_("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Lt(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?B_._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ws(Gs().mark((function t(n,r){var i,a,o,s,u,c,l,h,f,d,p,v=arguments;return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Kb(U_),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Kb(U_),s=Q_(i,n.config.apiKey,n.name),u=null,c=Or(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return h=l.value,t.prev=14,t.next=17,h._get(s);case 17:if(!(f=t.sent)){t.next=23;break}return d=B_._fromJSON(n,f),h!==o&&(u=d),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function V_(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(G_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(K_(t))return"Blackberry";if(J_(t))return"Webos";if(W_(t))return"Safari";if((t.includes("chrome/")||H_(t))&&!t.includes("edge/"))return"Chrome";if(Y_(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function q_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/firefox\//i.test(e)}function W_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/crios\//i.test(e)}function G_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/iemobile/i.test(e)}function Y_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/android/i.test(e)}function K_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/blackberry/i.test(e)}function J_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/webos/i.test(e)}function Z_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/iphone|ipad|ipod/i.test(e)}function X_(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return Z_(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function $_(){return du()&&10===document.documentMode}function eE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return Z_(e)||Y_(e)||J_(e)||K_(e)||/windows phone/i.test(e)||G_(e)}function tE(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=V_(uu());break;case"Worker":t="".concat(V_(uu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(kc,"/").concat(r)}var nE=function(){function e(t,n){Ot(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jb,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Lt(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Kb(t)),this._initializationPromise=this.queue(Ws(Gs().mark((function r(){var i,a;return Gs().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,z_.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ws(Gs().mark((function e(t){var n,r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Wb(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S_(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Qu(t):null)&&Wb(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ws(Gs().mark((function e(t){var n=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Wb(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ws(Gs().mark((function n(){return Gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Kb(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gu("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Wb(n=t&&Kb(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,z_.create(this,[Kb(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ws(Gs().mark((function e(t){var n=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Wb(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Wb(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tE(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=$({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function rE(e){return Qu(e)}var iE=function(){function e(t){var n=this;Ot(this,e),this.auth=t,this.observer=null,this.addObserver=Ou((function(e){return n.observer=e}))}return Lt(e,[{key:"next",get:function(){return Wb(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function aE(e,t,n){var r=rE(e);Wb(r._canInitEmulator,r,"emulator-config-failed"),Wb(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=oE(t),o=function(e){var t=oE(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:sE(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:sE(o[1])}}(t),s=o.host,u=o.port,l=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function oE(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sE(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var uE=function(){function e(t,n){Ot(this,e),this.providerId=t,this.signInMethod=n}return Lt(e,[{key:"toJSON",value:function(){return Hb("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Hb("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Hb("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Hb("not implemented")}}]),e}();function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:resetPassword",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function hE(e,t){return fE.apply(this,arguments)}function fE(){return fE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),fE.apply(this,arguments)}function dE(e,t){return pE.apply(this,arguments)}function pE(){return pE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:update",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return mE.apply(this,arguments)}function mE(){return mE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithPassword",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function gE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:sendOobCode",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function AE(e,t){return kE.apply(this,arguments)}function kE(){return kE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gE(t,n));case 1:case"end":return e.stop()}}),e)}))),kE.apply(this,arguments)}function wE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gE(t,n));case 1:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function _E(e,t){return EE.apply(this,arguments)}function EE(){return EE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gE(t,n));case 1:case"end":return e.stop()}}),e)}))),EE.apply(this,arguments)}function CE(e,t){return IE.apply(this,arguments)}function IE(){return IE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gE(t,n));case 1:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function xE(e,t){return TE.apply(this,arguments)}function TE(){return TE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithEmailLink",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}function SE(e,t){return NE.apply(this,arguments)}function NE(){return NE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithEmailLink",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),NE.apply(this,arguments)}var PE=function(e){En(n,e);var t=Sn(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ot(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Lt(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",vE(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xE(t,{email:this._email,oobCode:this._password}));case 5:Ub(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",hE(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",SE(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Ub(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(uE);function RE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithIdp",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}var DE=function(e){En(n,e);var t=Sn(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Lt(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return RE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,RE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,RE(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Su(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ub("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=wb(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(uE);function LE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:sendVerificationCode",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function jE(){return jE=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithPhoneNumber",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function BE(){return BE=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c_(t,"POST","/v1/accounts:signInWithPhoneNumber",i_(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw d_(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}var FE=$({},"USER_NOT_FOUND","user-not-found");function UE(){return UE=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithPhoneNumber",i_(t,r),FE));case 2:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}var QE=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return jE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return BE.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return UE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(uE);var zE=function(){function e(t){var n,r,i,a,o,s;Ot(this,e);var u=Nu(Pu(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Wb(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return Lt(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Nu(Pu(e)).link,n=t?Nu(Pu(t)).deep_link_id:null,r=Nu(Pu(e)).deep_link_id;return(r?Nu(Pu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(ek){return null}}}]),e}();var VE=function(){function e(){Ot(this,e),this.providerId=e.PROVIDER_ID}return Lt(e,null,[{key:"credential",value:function(e,t){return PE._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=zE.parseLink(t);return Wb(n,"argument-error"),PE._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();VE.PROVIDER_ID="password",VE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",VE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var qE=function(){function e(t){Ot(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Lt(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),WE=function(e){En(n,e);var t=Sn(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Lt(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Rt(this.scopes)}}]),n}(qE),HE=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Wb(e.idToken||e.accessToken,"argument-error"),DE._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Wb("providerId"in t&&"signInMethod"in t,"argument-error"),DE._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,s=t.nonce,u=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!u)return null;try{return new n(u)._credential({idToken:r,accessToken:i,nonce:s,pendingToken:o})}catch(NM){return null}}}]),n}(WE),GE=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.call(this,"facebook.com")}return Lt(n,null,[{key:"credential",value:function(e){return DE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ek){return null}}}]),n}(WE);GE.FACEBOOK_SIGN_IN_METHOD="facebook.com",GE.PROVIDER_ID="facebook.com";var YE=function(e){En(n,e);var t=Sn(n);function n(){var e;return Ot(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Lt(n,null,[{key:"credential",value:function(e,t){return DE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(ek){return null}}}]),n}(WE);YE.GOOGLE_SIGN_IN_METHOD="google.com",YE.PROVIDER_ID="google.com";var KE=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.call(this,"github.com")}return Lt(n,null,[{key:"credential",value:function(e){return DE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(ek){return null}}}]),n}(WE);KE.GITHUB_SIGN_IN_METHOD="github.com",KE.PROVIDER_ID="github.com";var JE=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return RE(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,RE(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,RE(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uE),ZE=function(e){En(n,e);var t=Sn(n);function n(e){return Ot(this,n),Wb(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Lt(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=JE.fromJSON(e);return Wb(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return JE._create(r,n)}catch(NM){return null}}}]),n}(qE),XE=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.call(this,"twitter.com")}return Lt(n,null,[{key:"credential",value:function(e,t){return DE._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(ek){return null}}}]),n}(WE);function $E(e,t){return eC.apply(this,arguments)}function eC(){return eC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signUp",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),eC.apply(this,arguments)}XE.TWITTER_SIGN_IN_METHOD="twitter.com",XE.PROVIDER_ID="twitter.com";var tC=function(){function e(t){Ot(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Lt(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ws(Gs().mark((function t(n,r,i){var a,o,s,u,c=arguments;return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,B_._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=nC(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ws(Gs().mark((function t(n,r,i){var a;return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=nC(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function nC(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function rC(){return rC=Ws(Gs().mark((function e(t){var n,r,i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rE(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new tC({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,$E(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,tC._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}var iC=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a){var o,s;return Ot(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(xn(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Lt(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(mu);function aC(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw iC._fromErrorAndOperation(e,n,t,r);throw n}))}function oC(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function sC(e,t){return uC.apply(this,arguments)}function uC(){return uC=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(t),e.next=3,hC(!0,r,n);case 3:return e.t0=m_,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=oC(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),uC.apply(this,arguments)}function cC(e,t){return lC.apply(this,arguments)}function lC(){return lC=Ws(Gs().mark((function e(t,n){var r,i,a=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=E_,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",tC._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function hC(e,t,n){return fC.apply(this,arguments)}function fC(){return(fC=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S_(n);case 2:i=oC(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Wb(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dC(e,t){return pC.apply(this,arguments)}function pC(){return pC=Ws(Gs().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,E_(t,aC(i,a,n,t),r);case 6:return Wb((o=e.sent).idToken,i,"internal-error"),Wb(s=__(o.idToken),i,"internal-error"),u=s.sub,Wb(t.uid===u,i,"user-mismatch"),e.abrupt("return",tC._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Ub(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),pC.apply(this,arguments)}function vC(e,t){return mC.apply(this,arguments)}function mC(){return mC=Ws(Gs().mark((function e(t,n){var r,i,a,o,s=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,aC(t,i,n);case 4:return a=e.sent,e.next=7,tC._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),mC.apply(this,arguments)}function gC(e,t){return yC.apply(this,arguments)}function yC(){return yC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vC(rE(t),n));case 1:case"end":return e.stop()}}),e)}))),yC.apply(this,arguments)}function AC(e,t){return kC.apply(this,arguments)}function kC(){return(kC=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(t),e.next=3,hC(!1,r,n.providerId);case 3:return e.abrupt("return",cC(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wC(e,t){return bC.apply(this,arguments)}function bC(){return(bC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",dC(Qu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _C(e,t){return EC.apply(this,arguments)}function EC(){return EC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c_(t,"POST","/v1/accounts:signInWithCustomToken",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}function CC(){return CC=Ws(Gs().mark((function e(t,n){var r,i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=rE(t),e.next=3,_C(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,tC._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}var IC=function(){function e(t,n){Ot(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Lt(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xC._fromServerResponse(e,t):Ub(e,"internal-error")}}]),e}(),xC=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Lt(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(IC);function TC(e,t,n){var r;Wb((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Wb("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Wb(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Wb(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function SC(){return SC=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),a={requestType:"PASSWORD_RESET",email:n},r&&TC(i,a,r),e.next=5,wE(i,a);case 5:case"end":return e.stop()}}),e)}))),SC.apply(this,arguments)}function NC(){return NC=Ws(Gs().mark((function e(t,n,r){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(Qu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),NC.apply(this,arguments)}function PC(){return PC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dE(Qu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),PC.apply(this,arguments)}function RC(e,t){return OC.apply(this,arguments)}function OC(){return OC=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(t),e.next=3,cE(r,{oobCode:n});case 3:i=e.sent,Wb(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Wb(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Wb(i.mfaInfo,r,"internal-error");case 13:Wb(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=IC._fromServerResponse(rE(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),OC.apply(this,arguments)}function DC(){return DC=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,RC(Qu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),DC.apply(this,arguments)}function LC(e,t,n){return MC.apply(this,arguments)}function MC(){return MC=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rE(t),e.next=3,$E(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,tC._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),MC.apply(this,arguments)}function jC(){return jC=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),a={requestType:"EMAIL_SIGNIN",email:n},Wb(r.handleCodeInApp,i,"argument-error"),r&&TC(i,a,r),e.next=6,_E(i,a);case 6:case"end":return e.stop()}}),e)}))),jC.apply(this,arguments)}function BC(){return BC=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),Wb((a=VE.credentialWithLink(n,r||Jb()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",gC(i,a));case 4:case"end":return e.stop()}}),e)}))),BC.apply(this,arguments)}function FC(e,t){return UC.apply(this,arguments)}function UC(){return UC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:createAuthUri",i_(t,n)));case 1:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function QC(){return QC=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zb()?Jb():"http://localhost",i={identifier:n,continueUri:r},e.next=4,FC(Qu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),QC.apply(this,arguments)}function zC(){return(zC=Ws(Gs().mark((function e(t,n){var r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Qu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&TC(r.auth,a,n),e.next=8,AE(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VC(){return(VC=Ws(Gs().mark((function e(t,n,r){var i,a,o,s;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&TC(i.auth,o,r),e.next=8,CE(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qC(e,t){return WC.apply(this,arguments)}function WC(){return WC=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a_(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),WC.apply(this,arguments)}function HC(){return(HC=Ws(Gs().mark((function e(t,n){var r,i,a,o,s,u,c;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Qu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,E_(a,qC(a.auth,s));case 10:return u=e.sent,a.displayName=u.displayName||null,a.photoURL=u.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(u);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function GC(e,t,n){return YC.apply(this,arguments)}function YC(){return YC=Ws(Gs().mark((function e(t,n,r){var i,a,o,s;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,E_(t,hE(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),YC.apply(this,arguments)}var KC=Lt((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ot(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),JC=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this,e,r,i)).username=a,o}return Lt(n)}(KC),ZC=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"facebook.com",r)}return Lt(n)}(KC),XC=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Lt(n)}(JC),$C=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,"google.com",r)}return Lt(n)}(KC),eI=function(e){En(n,e);var t=Sn(n);function n(e,r,i){return Ot(this,n),t.call(this,e,"twitter.com",r,i)}return Lt(n)}(JC);function tI(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=__(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new KC(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ZC(a,i);case"github.com":return new XC(a,i);case"google.com":return new $C(a,i);case"twitter.com":return new eI(a,i,e.screenName||null);case"custom":case"anonymous":return new KC(a,null);default:return new KC(a,r,i)}}(n)}var nI=function(){function e(t,n){Ot(this,e),this.type=t,this.credential=n}return Lt(e,[{key:"toJSON",value:function(){return{multiFactorSession:$({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),rI=function(){function e(t,n,r){Ot(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Lt(e,[{key:"resolveSignIn",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=rE(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return IC._fromServerResponse(r,e)}));Wb(i.mfaPendingCredential,r,"internal-error");var o=nI._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ws(Gs().mark((function e(t){var a,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,tC._fromIdTokenResponse(r,n.operationType,s);case 11:return u=e.sent,e.next=14,r._updateCurrentUser(u.user);case 14:return e.abrupt("return",u);case 15:return Wb(n.user,r,"internal-error"),e.abrupt("return",tC._forOperation(n.user,n.operationType,s));case 17:Ub(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function iI(e,t){return a_(e,"POST","/v2/accounts/mfaEnrollment:start",i_(e,t))}function aI(e,t){return a_(e,"POST","/v2/accounts/mfaEnrollment:withdraw",i_(e,t))}var oI=function(){function e(t){var n=this;Ot(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return IC._fromServerResponse(t.auth,e)})))}))}return Lt(e,[{key:"getSession",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=nI,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ws(Gs().mark((function e(t,n){var r,i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,E_(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ws(Gs().mark((function e(t){var n,r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,E_(this.user,aI(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),sI=new WeakMap;var uI="__sak",cI=function(){function e(t,n){Ot(this,e),this.storageRetriever=t,this.type=n}return Lt(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(uI,"1"),this.storage.removeItem(uI),Promise.resolve(!0)):Promise.resolve(!1)}catch(ek){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var lI=function(e){En(n,e);var t=Sn(n);function n(){var e;return Ot(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=uu();return W_(e)||Z_(e)}()&&function(){try{return!(!window||window===window.top)}catch(NM){return!1}}(),e.fallbackToPolling=eE(),e._shouldAllowMigration=!0,e}return Lt(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);$_()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ws(Gs().mark((function e(t,r){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(wn(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ws(Gs().mark((function e(t){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(wn(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_n(wn(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(cI);lI.type="LOCAL";var hI=lI,fI=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Lt(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(cI);fI.type="SESSION";var dI=fI;function pI(e){return Promise.all(e.map(function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var vI=function(){function e(t){Ot(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Lt(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ws(Gs().mark((function e(t){var n,r,i,a,o,s,u,c;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,pI(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function mI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vI.receivers=[];var gI=function(){function e(t){Ot(this,e),this.target=t,this.handlers=new Set}return Lt(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ws(Gs().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=mI("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function yI(){return window}function AI(){return"undefined"!==typeof yI().WorkerGlobalScope&&"function"===typeof yI().importScripts}function kI(){return wI.apply(this,arguments)}function wI(){return(wI=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var _I="firebaseLocalStorageDb",EI="firebaseLocalStorage",CI="fbase_key",II=function(){function e(t){Ot(this,e),this.request=t}return Lt(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function xI(e,t){return e.transaction([EI],t?"readwrite":"readonly").objectStore(EI)}function TI(){var e=indexedDB.deleteDatabase(_I);return new II(e).toPromise()}function SI(){var e=indexedDB.open(_I,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(EI,{keyPath:CI})}catch(NM){n(NM)}})),e.addEventListener("success",Ws(Gs().mark((function n(){var r;return Gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(EI)){n.next=12;break}return r.close(),n.next=5,TI();case 5:return n.t0=t,n.next=8,SI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function NI(e,t,n){return PI.apply(this,arguments)}function PI(){return PI=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=xI(t,!0).put(($(i={},CI,n),$(i,"value",r),i)),e.abrupt("return",new II(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),PI.apply(this,arguments)}function RI(e,t){return OI.apply(this,arguments)}function OI(){return OI=Ws(Gs().mark((function e(t,n){var r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xI(t,!1).get(n),e.next=3,new II(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),OI.apply(this,arguments)}function DI(e,t){var n=xI(e,!0).delete(t);return new II(n).toPromise()}var LI=function(){function e(){Ot(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Lt(e,[{key:"_openDb",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,SI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",AI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ws(Gs().mark((function e(){var t=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=vI._getInstance(AI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ws(Gs().mark((function e(n,r){var i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ws(Gs().mark((function e(){var t,n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,SI();case 5:return t=e.sent,e.next=8,NI(t,uI,"1");case 8:return e.next=10,DI(t,uI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ws(Gs().mark((function e(t,n){var r=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return NI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return RI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ws(Gs().mark((function e(t){var n=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return DI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ws(Gs().mark((function e(){var t,n,r,i,a,o,s,u,c,l,h;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=xI(e,!1).getAll();return new II(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Or(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(f){i.e(f)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)h=l[c],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ws(Gs().mark((function t(){return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();LI.type="LOCAL";var MI=LI;function jI(e,t){return a_(e,"POST","/v2/accounts/mfaSignIn:start",i_(e,t))}function BI(e){return FI.apply(this,arguments)}function FI(){return FI=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),FI.apply(this,arguments)}function UI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Qb("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function QI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var zI=1e12,VI=function(){function e(t){Ot(this,e),this.auth=t,this.counter=zI,this._widgets=new Map}return Lt(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||zI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||zI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||zI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qI=function(){function e(t,n,r){var i=this;Ot(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Wb(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Lt(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(NM){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(NM){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var WI=QI("rcb"),HI=new $b(3e4,6e4),GI="https://www.google.com/recaptcha/api.js?",YI=function(){function e(){Ot(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yI().grecaptcha}return Lt(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Wb(KI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(yI().grecaptcha):new Promise((function(r,i){var a=yI().setTimeout((function(){i(Qb(e,"network-request-failed"))}),HI.get());yI()[WI]=function(){yI().clearTimeout(a),delete yI()[WI];var o=yI().grecaptcha;if(o){var s=o.render;o.render=function(e,n){var r=s(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Qb(e,"internal-error"))},UI("".concat(GI,"?").concat(Su({onload:WI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Qb(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!yI().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function KI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var JI=function(){function e(){Ot(this,e)}return Lt(e,[{key:"load",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new VI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ZI="recaptcha",XI={theme:"light",type:"image"},$I=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},XI),r=arguments.length>2?arguments[2]:void 0;Ot(this,e),this.parameters=n,this.type=ZI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=rE(r),this.isInvisible="invisible"===this.parameters.size,Wb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Wb(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new JI:new YI,this.validateStartingState()}return Lt(e,[{key:"verify",value:function(){var e=Ws(Gs().mark((function e(){var t,n,r,i=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(NM){return Promise.reject(NM)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Wb(!this.parameters.sitekey,this.auth,"argument-error"),Wb(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Wb("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=yI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Wb(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ws(Gs().mark((function e(){var t,n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wb(Zb()&&!AI(),this.auth,"internal-error"),e.next=3,ex();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,BI(this.auth);case 8:Wb(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Wb(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ex(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var tx=function(){function e(t,n){Ot(this,e),this.verificationId=t,this.onConfirmation=n}return Lt(e,[{key:"confirm",value:function(e){var t=QE._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function nx(){return nx=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rE(t),e.next=3,ox(i,n,Qu(r));case 3:return a=e.sent,e.abrupt("return",new tx(a,(function(e){return gC(i,e)})));case 5:case"end":return e.stop()}}),e)}))),nx.apply(this,arguments)}function rx(e,t,n){return ix.apply(this,arguments)}function ix(){return(ix=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),e.next=3,hC(!1,i,"phone");case 3:return e.next=5,ox(i.auth,n,Qu(r));case 5:return a=e.sent,e.abrupt("return",new tx(a,(function(e){return AC(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ax(){return(ax=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Qu(t),e.next=3,ox(i.auth,n,Qu(r));case 3:return a=e.sent,e.abrupt("return",new tx(a,(function(e){return wC(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ox(e,t,n){return sx.apply(this,arguments)}function sx(){return sx=Ws(Gs().mark((function e(t,n,r){var i,a,o,s,u,c,l,h,f;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Wb("string"===typeof a,t,"argument-error"),Wb(r.type===ZI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Wb("enroll"===s.type,t,"internal-error"),e.next=13,iI(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Wb("signin"===s.type,t,"internal-error"),Wb(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jI(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,LE(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,f=h.sessionInfo,e.abrupt("return",f);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sx.apply(this,arguments)}function ux(){return(ux=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cC(Qu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cx=function(){function e(t){Ot(this,e),this.providerId=e.PROVIDER_ID,this.auth=rE(t)}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return ox(this.auth,e,Qu(t))}}],[{key:"credential",value:function(e,t){return QE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?QE._fromTokenResponse(n,r):null}}]),e}();function lx(e,t){return t?Kb(t):(Wb(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}cx.PROVIDER_ID="phone",cx.PHONE_SIGN_IN_METHOD="phone";var hx=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Lt(n,[{key:"_getIdTokenResponse",value:function(e){return RE(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return RE(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return RE(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(uE);function fx(e){return vC(e.auth,new hx(e),e.bypassAuthState)}function dx(e){var t=e.auth,n=e.user;return Wb(n,t,"internal-error"),dC(n,new hx(e),e.bypassAuthState)}function px(e){return vx.apply(this,arguments)}function vx(){return vx=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Wb(r=t.user,n,"internal-error"),e.abrupt("return",cC(r,new hx(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),vx.apply(this,arguments)}var mx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ot(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Lt(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ws(Gs().mark((function t(n,r){return Gs().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ws(Gs().mark((function e(t){var n,r,i,a,o,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fx;case"linkViaPopup":case"linkViaRedirect":return px;case"reauthViaPopup":case"reauthViaRedirect":return dx;default:Ub(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Gb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Gb(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gx=new $b(2e3,1e4);function yx(e,t,n){return Ax.apply(this,arguments)}function Ax(){return Ax=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rE(t),Vb(t,n,qE),a=lx(i,r),o=new _x(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ax.apply(this,arguments)}function kx(){return(kx=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vb((i=Qu(t)).auth,n,qE),a=lx(i.auth,r),o=new _x(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wx(e,t,n){return bx.apply(this,arguments)}function bx(){return(bx=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vb((i=Qu(t)).auth,n,qE),a=lx(i.auth,r),o=new _x(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _x=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a,o){var s;return Ot(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=xn(s),s}return Lt(n,[{key:"executeNotNull",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Wb(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ws(Gs().mark((function e(){var t,n=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gb(1===this.filter.length,"Popup operations only handle one event"),t=mI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Qb(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Qb(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Qb(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,gx.get())}()}}]),n}(mx);_x.currentPopupAction=null;var Ex=new Map,Cx=function(e){En(n,e);var t=Sn(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ot(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Lt(n,[{key:"execute",value:function(){var e=Ws(Gs().mark((function e(){var t,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Ex.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ix(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,_n(wn(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Ex.set(this.auth._key(),t);case 21:return this.bypassAuthState||Ex.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ws(Gs().mark((function e(t){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",_n(wn(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",_n(wn(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(mx);function Ix(e,t){return xx.apply(this,arguments)}function xx(){return xx=Ws(Gs().mark((function e(t,n){var r,i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Px(n),i=Nx(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xx.apply(this,arguments)}function Tx(e,t){return Sx.apply(this,arguments)}function Sx(){return Sx=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nx(t)._set(Px(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Sx.apply(this,arguments)}function Nx(e){return Kb(e._redirectPersistence)}function Px(e){return Q_("pendingRedirect",e.config.apiKey,e.name)}function Rx(e,t,n){return function(e,t,n){return Ox.apply(this,arguments)}(e,t,n)}function Ox(){return Ox=Ws(Gs().mark((function e(t,n,r){var i,a;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=rE(t),Vb(t,n,qE),a=lx(i,r),e.next=5,Tx(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Dx(e,t,n){return function(e,t,n){return Lx.apply(this,arguments)}(e,t,n)}function Lx(){return(Lx=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vb((i=Qu(t)).auth,n,qE),a=lx(i.auth,r),e.next=5,Tx(a,i.auth);case 5:return e.next=7,zx(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mx(e,t,n){return function(e,t,n){return jx.apply(this,arguments)}(e,t,n)}function jx(){return(jx=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Vb((i=Qu(t)).auth,n,qE),a=lx(i.auth,r),e.next=5,hC(!1,i,n.providerId);case 5:return e.next=7,Tx(a,i.auth);case 7:return e.next=9,zx(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bx(e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rE(t)._initializationPromise;case 2:return e.abrupt("return",Ux(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}function Ux(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=Ws(Gs().mark((function e(t,n){var r,i,a,o,s,u=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=rE(t),a=lx(i,n),o=new Cx(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function zx(e){return Vx.apply(this,arguments)}function Vx(){return(Vx=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qx=function(){function e(t){Ot(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Lt(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hx(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Hx(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Qb(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wx(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Wx(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Wx(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Hx(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Gx(e){return Yx.apply(this,arguments)}function Yx(){return Yx=Ws(Gs().mark((function e(t){var n,r=arguments;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",a_(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Yx.apply(this,arguments)}var Kx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jx=/^https?/;function Zx(){return Zx=Ws(Gs().mark((function e(t){var n,r,i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Gx(t);case 4:n=e.sent,r=n.authorizedDomains,i=Or(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xx(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Ub(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Zx.apply(this,arguments)}function Xx(e){var t=Jb(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Jx.test(r))return!1;if(Kx.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var $x=new $b(3e4,6e4);function eT(){var e=yI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Rt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var tT=null;function nT(e){return tT=tT||function(e){return new Promise((function(t,n){var r,i,a;function o(){eT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){eT(),n(Qb(e,"network-request-failed"))},timeout:$x.get()})}if(null===(i=null===(r=yI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=yI().gapi)||void 0===a?void 0:a.load)){var s=QI("iframefcb");return yI()[s]=function(){gapi.load?o():n(Qb(e,"network-request-failed"))},UI("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw tT=null,e}))}(e),tT}var rT=new $b(5e3,15e3),iT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oT(e){var t=e.config;Wb(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?e_(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:kc},i=aT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Su(r).slice(1))}function sT(e){return uT.apply(this,arguments)}function uT(){return uT=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nT(t);case 2:return n=e.sent,Wb(r=yI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:oT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iT,dontclear:!0},(function(e){return new Promise(function(){var n=Ws(Gs().mark((function n(r,i){var a,o,s;return Gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){yI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Qb(t,"network-request-failed"),o=yI().setTimeout((function(){i(a)}),rT.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),uT.apply(this,arguments)}var cT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lT="_blank",hT="http://localhost",fT=function(){function e(t){Ot(this,e),this.window=t,this.associatedEvent=null}return Lt(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(NM){}}}]),e}();function dT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},cT),{width:r.toString(),height:i.toString(),top:a,left:o}),l=uu().toLowerCase();n&&(s=H_(l)?lT:n),q_(l)&&(t=t||hT,u.scrollbars="yes");var h=Object.entries(u).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(X_(l)&&"_self"!==s)return pT(t||"",s),new fT(null);var f=window.open(t||"",s,h);Wb(f,e,"popup-blocked");try{f.focus()}catch(NM){}return new fT(f)}function pT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var vT="__/auth/handler",mT="emulator/auth/handler";function gT(e,t,n,r,i,a){Wb(e.config.authDomain,e,"auth-domain-config-required"),Wb(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:kc,eventId:i};if(t instanceof qE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Cu(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var l=c(u[s],2),h=l[0],f=l[1];o[h]=f}}if(t instanceof WE){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vT);return e_(t,mT)}(e),"?").concat(Su(p).slice(1))}var yT="webStorageSupport",AT=function(){function e(){Ot(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dI,this._completeRedirectFn=Ux}return Lt(e,[{key:"_openPopup",value:function(){var e=Ws(Gs().mark((function e(t,n,r,i){var a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gb(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=gT(t,n,r,Jb(),i),e.abrupt("return",dT(t,o,mI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ws(Gs().mark((function e(t,n,r,i){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=gT(t,n,r,Jb(),i),yI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Gb(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sT(t);case 2:return n=e.sent,r=new qx(t),n.register("authEvent",(function(e){return Wb(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(yT,{type:yT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Ub(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zx.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return eE()||W_()||Z_()}}]),e}(),kT=AT,wT=function(){function e(t){Ot(this,e),this.factorId=t}return Lt(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Hb("unexpected MultiFactorSessionType")}}}]),e}(),bT=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this,"phone")).credential=e,r}return Lt(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return a_(e,"POST","/v2/accounts/mfaEnrollment:finalize",i_(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return a_(e,"POST","/v2/accounts/mfaSignIn:finalize",i_(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(wT),_T=function(){function e(){Ot(this,e)}return Lt(e,null,[{key:"assertion",value:function(e){return bT._fromCredential(e)}}]),e}();_T.FACTOR_ID="phone";var ET,CT="@firebase/auth",IT="0.19.8",xT=function(){function e(t){Ot(this,e),this.auth=t,this.internalListeners=new Map}return Lt(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Wb(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function TT(){return window}ET="Browser",fc(new zu("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Wb(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Wb(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ET,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tE(ET)},r=new nE(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Kb);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),fc(new zu("auth-internal",(function(e){return function(e){return new xT(e)}(rE(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ic(CT,IT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ET)),Ic(CT,IT,"esm2017");function ST(e,t,n){return NT.apply(this,arguments)}function NT(){return NT=Ws(Gs().mark((function e(t,n,r){var i,a,o,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=TT(),o=a.BuildInfo,Gb(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,MT(n.sessionId);case 4:return s=e.sent,u={},Z_()?u.ibi=o.packageName:Y_()?u.apn=o.packageName:Ub(t,"operation-not-supported-in-this-environment"),o.displayName&&(u.appDisplayName=o.displayName),u.sessionId=s,e.abrupt("return",gT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,u));case 10:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function PT(){return PT=Ws(Gs().mark((function e(t){var n,r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=TT(),r=n.BuildInfo,i={},Z_()?i.iosBundleId=r.packageName:Y_()?i.androidPackageName=r.packageName:Ub(t,"operation-not-supported-in-this-environment"),e.next=5,Gx(t,i);case 5:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function RT(e){var t=TT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function OT(e,t,n){return DT.apply(this,arguments)}function DT(){return DT=Ws(Gs().mark((function e(t,n,r){var i,a,o;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=TT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var s=null;function u(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){s||(s=window.setTimeout((function(){i(Qb(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(u),document.addEventListener("resume",c,!1),Y_()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),s&&window.clearTimeout(s)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),DT.apply(this,arguments)}function LT(e){var t,n,r,i,a,o,s,u,c,l,h=TT();Wb("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Wb("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Wb("function"===typeof(null===(a=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wb("function"===typeof(null===(u=null===(s=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===s?void 0:s.browsertab)||void 0===u?void 0:u.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Wb("function"===typeof(null===(l=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function MT(e){return jT.apply(this,arguments)}function jT(){return(jT=Ws(Gs().mark((function e(t){var n,r,i;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=BT(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BT(e){if(Gb(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var FT=function(e){En(n,e);var t=Sn(n);function n(){var e;return Ot(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Lt(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),_n(wn(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qx);function UT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:WT(),postBody:null,tenantId:e.tenantId,error:Qb(e,"no-auth-event")}}function QT(e,t){return HT()._set(GT(e),t)}function zT(e){return VT.apply(this,arguments)}function VT(){return VT=Ws(Gs().mark((function e(t){var n;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,HT()._get(GT(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,HT()._remove(GT(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),VT.apply(this,arguments)}function qT(e,t){var n,r,i=function(e){var t=YT(e),n=t.link?decodeURIComponent(t.link):void 0,r=YT(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return YT(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=YT(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(NM){return null}}(decodeURIComponent(a.firebaseError)):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=s?Qb(s):null;return u?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function WT(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function HT(){return Kb(hI)}function GT(e){return Q_("authEvent",e.config.apiKey,e.name)}function YT(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||Pt(t)||s(t)||u();r[0];return Nu(r.slice(1).join("?"))}var KT=function(){function e(){Ot(this,e),this._redirectPersistence=dI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ux}return Lt(e,[{key:"_initialize",value:function(){var e=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new FT(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Ub(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ws(Gs().mark((function e(t,n,r,i){var a,o,s,u;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return LT(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Ex.clear(),e.next=10,this._originValidation(t);case 10:return o=UT(t,r,i),e.next=13,QT(t,o);case 13:return e.next=15,ST(t,o,n);case 15:return s=e.sent,e.next=18,RT(s);case 18:return u=e.sent,e.abrupt("return",OT(t,a,u));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return PT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=TT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ws(Gs().mark((function n(){return Gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zT(e);case 2:t.onEvent(ZT());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=Ws(Gs().mark((function n(r){var i,a;return Gs().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,zT(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=qT(i,r.url)),t.onEvent(a||ZT());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var u=i,c="".concat(a.packageName.toLowerCase(),"://");TT().handleOpenURL=function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&s({url:t}),"function"===typeof u)try{u(t)}catch(NM){console.error(NM)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),JT=KT;function ZT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Qb("no-auth-event")}}function XT(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function $T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return!("file:"!==XT()&&"ionic:"!==XT()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function eS(){return du()&&11===(null===document||void 0===document?void 0:document.documentMode)}function tS(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return/Edge\/\d+/.test(e)}function nS(){try{var e=self.localStorage,t=mI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uu();return eS()||tS(e)}()||vu()}catch(NM){return rS()&&vu()}return!1}function rS(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function iS(){return("http:"===XT()||"https:"===XT()||hu()||$T())&&!(fu()||lu())&&nS()&&!rS()}function aS(){return $T()&&"undefined"!==typeof document}function oS(){return sS.apply(this,arguments)}function sS(){return(sS=Ws(Gs().mark((function e(){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(aS()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uS={LOCAL:"local",NONE:"none",SESSION:"session"},cS=Wb,lS="persistence";function hS(e,t){cS(Object.values(uS).includes(t),e,"invalid-persistence-type"),fu()?cS(t!==uS.SESSION,e,"unsupported-persistence-type"):lu()?cS(t===uS.NONE,e,"unsupported-persistence-type"):rS()?cS(t===uS.NONE||t===uS.LOCAL&&vu(),e,"unsupported-persistence-type"):cS(t===uS.NONE||nS(),e,"unsupported-persistence-type")}function fS(e){return dS.apply(this,arguments)}function dS(){return dS=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=pS(),r=Q_(lS,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(NM){return null}}var vS=Wb,mS=function(){function e(){Ot(this,e),this.browserResolver=Kb(kT),this.cordovaResolver=Kb(JT),this.underlyingResolver=null,this._redirectPersistence=dI,this._completeRedirectFn=Ux}return Lt(e,[{key:"_initialize",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ws(Gs().mark((function e(t,n,r,i){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ws(Gs().mark((function e(t,n,r,i){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return aS()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return vS(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oS();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gS(e){return e.unwrap()}function yS(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new _S(e,function(e,t){var n,r=Qu(e),i=t;return Wb(t.customData.operationType,r,"argument-error"),Wb(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),rI._fromError(r,i)}(e,t));else if(r){var i=AS(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function AS(e){var t=(e instanceof mu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof mu)&&"temporaryProof"in t&&"phoneNumber"in t)return cx.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ib)return null;switch(r){case Cb:n=YE;break;case _b:n=GE;break;case Eb:n=KE;break;case xb:n=XE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,s=t.pendingToken,u=t.nonce;return a||o||i||s?s?r.startsWith("saml.")?JE._create(r,s):DE._fromParams({providerId:r,signInMethod:r,pendingToken:s,idToken:i,accessToken:a}):new HE(r).credential({idToken:i,accessToken:a,rawNonce:u}):null}return e instanceof mu?n.credentialFromError(e):n.credentialFromResult(e)}function kS(e,t){return t.catch((function(t){throw t instanceof mu&&yS(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,AS(t)),additionalUserInfo:tI(e),user:ES.getOrCreate(r)}}))}function wS(e,t){return bS.apply(this,arguments)}function bS(){return bS=Ws(Gs().mark((function e(t,n){var r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return kS(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),bS.apply(this,arguments)}var _S=function(){function e(t,n){Ot(this,e),this.resolver=n,this.auth=t.wrapped()}return Lt(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return kS(gS(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),ES=function(){function e(t){Ot(this,e),this._delegate=t,this.multiFactor=function(e){var t=Qu(e);return sI.has(t)||sI.set(t,oI._fromUser(t)),sI.get(t)}(t)}return Lt(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kS(this.auth,AC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wS(this.auth,rx(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kS(this.auth,wx(this._delegate,t,mS)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fS(rE(this.auth));case 2:return e.abrupt("return",Mx(this._delegate,t,mS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kS(this.auth,wC(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return wS(this.auth,function(e,t,n){return ax.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return kS(this.auth,function(e,t,n){return kx.apply(this,arguments)}(this._delegate,e,mS))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fS(rE(this.auth));case 2:return e.abrupt("return",Dx(this._delegate,t,mS));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return zC.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sC(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return GC(Qu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return GC(Qu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ux.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return HC.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return VC.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();ES.USER_MAP=new WeakMap;var CS=Wb,IS=function(){function e(t,n){if(Ot(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;CS(r,"invalid-api-key",{appName:t.name}),CS(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?mS:void 0;this._delegate=n.initialize({options:{persistence:TS(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Lb),this.linkUnderlyingAuth()}return Lt(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?ES.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){aE(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return PC.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return RC(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return NC.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ws(Gs().mark((function e(t,n){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kS(this._delegate,LC(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return QC.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=zE.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ws(Gs().mark((function e(){var t;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CS(iS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Bx(this._delegate,mS);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",kS(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){rE(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=xS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=xS(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return jC.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return SC.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ws(Gs().mark((function e(t){var n,r;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hS(this._delegate,t),e.t0=t,e.next=e.t0===uS.SESSION?4:e.t0===uS.LOCAL?6:e.t0===uS.NONE?11:13;break;case 4:return n=dI,e.abrupt("break",14);case 6:return e.next=8,Kb(MI)._isAvailable();case 8:return r=e.sent,n=r?MI:hI,e.abrupt("break",14);case 11:return n=U_,e.abrupt("break",14);case 13:return e.abrupt("return",Ub("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return kS(this._delegate,function(e){return rC.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return kS(this._delegate,gC(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return kS(this._delegate,function(e,t){return CC.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return kS(this._delegate,function(e,t,n){return gC(Qu(e),VE.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return kS(this._delegate,function(e,t,n){return BC.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return wS(this._delegate,function(e,t,n){return nx.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CS(iS(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",kS(this._delegate,yx(this._delegate,t,mS)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ws(Gs().mark((function e(t){return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return CS(iS(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,fS(this._delegate);case 3:return e.abrupt("return",Rx(this._delegate,t,mS));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return DC.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function xS(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&ES.getOrCreate(e))},error:t,complete:n}}function TS(e,t){var n=function(e,t){var n=pS();if(!n)return[];var r=Q_(lS,e,t);switch(n.getItem(r)){case uS.NONE:return[U_];case uS.LOCAL:return[MI,dI];case uS.SESSION:return[dI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(MI)||n.push(MI),"undefined"!==typeof window)for(var r=0,i=[hI,dI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(U_)||n.push(U_),n}IS.Persistence=uS;var SS=function(){function e(){Ot(this,e),this.providerId="phone",this._delegate=new cx(gS(kb.auth()))}return Lt(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return cx.credential(e,t)}}]),e}();SS.PHONE_SIGN_IN_METHOD=cx.PHONE_SIGN_IN_METHOD,SS.PROVIDER_ID=cx.PROVIDER_ID;var NS,PS=Wb,RS=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:kb.app();Ot(this,e),PS(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new $I(t,n,i.auth()),this.type=this._delegate.type}return Lt(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(NS=kb).INTERNAL.registerComponent(new zu("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new IS(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Tb,PASSWORD_RESET:Sb,RECOVER_EMAIL:Nb,REVERT_SECOND_FACTOR_ADDITION:Pb,VERIFY_AND_CHANGE_EMAIL:Rb,VERIFY_EMAIL:Ob}},EmailAuthProvider:VE,FacebookAuthProvider:GE,GithubAuthProvider:KE,GoogleAuthProvider:YE,OAuthProvider:HE,SAMLAuthProvider:ZE,PhoneAuthProvider:SS,PhoneMultiFactorGenerator:_T,RecaptchaVerifier:RS,TwitterAuthProvider:XE,Auth:IS,AuthCredential:uE,Error:mu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),NS.registerVersion("@firebase/auth-compat","0.2.8");var OS="@firebase/database",DS="0.12.5",LS="";function MS(e){LS=e}var jS=function(){function e(t){Ot(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Lt(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wu(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ku(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),BS=function(){function e(){Ot(this,e),this.cache_={},this.isInMemoryStorage=!0}return Lt(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return _u(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),FS=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new jS(t)}}catch(NM){}return new BS},US=FS("localStorage"),QS=FS("sessionStorage"),zS=new tc("@firebase/database"),VS=function(){var e=1;return function(){return e++}}(),qS=function(e){var t=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,Xs(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ru;n.update(t);var r=n.digest();return tu.encodeByteArray(r)},WS=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?wu(r):r,t+=" "}return t},HS=null,GS=!0,YS=function(e,t){Xs(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(zS.logLevel=Hu.VERBOSE,HS=zS.log.bind(zS),t&&QS.set("logging_enabled",!0)):"function"===typeof e?HS=e:(HS=null,QS.remove("logging_enabled"))},KS=function(){if(!0===GS&&(GS=!1,null===HS&&!0===QS.get("logging_enabled")&&YS(!0)),HS){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=WS.apply(null,t);HS(r)}},JS=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];KS.apply(void 0,[e].concat(n))}},ZS=function(){var e="FIREBASE INTERNAL ERROR: "+WS.apply(void 0,arguments);zS.error(e)},XS=function(){var e="FIREBASE FATAL ERROR: ".concat(WS.apply(void 0,arguments));throw zS.error(e),new Error(e)},$S=function(){var e="FIREBASE WARNING: "+WS.apply(void 0,arguments);zS.warn(e)},eN=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},tN="[MIN_NAME]",nN="[MAX_NAME]",rN=function(e,t){if(e===t)return 0;if(e===tN||t===nN)return-1;if(t===tN||e===nN)return 1;var n=dN(e),r=dN(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},iN=function(e,t){return e===t?0:e<t?-1:1},aN=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+wu(t))},oN=function e(t){if("object"!==typeof t||null===t)return wu(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=wu(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},sN=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function uN(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var cN=function(e){Xs(!eN(e),"Invalid JSON number");var t,n,r,i,a,o=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),o))+o,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()};var lN=new RegExp("^-?(0*)\\d{1,10}$"),hN=-2147483648,fN=2147483647,dN=function(e){if(lN.test(e)){var t=Number(e);if(t>=hN&&t<=fN)return t}return null},pN=function(e){try{e()}catch(NM){setTimeout((function(){var t=NM.stack||"";throw $S("Exception was thrown by user callback.",t),NM}),Math.floor(0))}},vN=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},mN=function(){function e(t,n){var r=this;Ot(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then((function(e){return r.appCheck=e}))}return Lt(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){$S('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),gN=function(){function e(t,n,r){var i=this;Ot(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit((function(e){return i.auth_=e}))}return Lt(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(KS("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$S(e)}}]),e}(),yN=function(){function e(t){Ot(this,e),this.accessToken=t}return Lt(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();yN.OWNER="owner";var AN="5",kN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wN="websocket",bN="long_polling",_N=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Ot(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=US.get("host:"+t)||this._host}return Lt(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&US.set("host:"+this._host,this.internalHost))}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}]),e}();function EN(e,t,n){var r;if(Xs("string"===typeof t,"typeof type must == string"),Xs("object"===typeof n,"typeof params must == object"),t===wN)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==bN)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return uN(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var CN=function(){function e(){Ot(this,e),this.counters_={}}return Lt(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_u(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return au(void 0,this.counters_)}}]),e}(),IN={},xN={};function TN(e){var t=e.toString();return IN[t]||(IN[t]=new CN),IN[t]}var SN=function(){function e(t){Ot(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Lt(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&pN((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),NN="start",PN="close",RN=function(){function e(t,n,r,i,a,o,s){var u=this;Ot(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=JS(t),this.stats_=TN(n),this.urlFn=function(e){return u.appCheckToken&&(e.ac=u.appCheckToken),EN(n,bN,e)}}return Lt(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new SN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(pu()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new ON((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===NN)n.id=a,n.password=o;else{if(i!==PN)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=AN,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&kN.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=wu(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=nu(t),r=sN(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!pu()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=wu(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!pu()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),ON=function(){function e(t,n,r,i){if(Ot(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,pu())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=VS(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(NM){KS("frame writing exception"),NM.stack&&KS(NM.stack),KS(NM)}}}return Lt(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))}},{key:"addTag",value:function(e,t){var n=this;pu()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){KS("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(NM){}}),Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||KS("No IE domain setting required")}catch(NM){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),DN=null;"undefined"!==typeof MozWebSocket?DN=MozWebSocket:"undefined"!==typeof WebSocket&&(DN=WebSocket);var LN=function(){function e(t,n,r,i,a,o,s){Ot(this,e),this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=JS(this.connId),this.stats_=TN(n),this.connURL=e.connectionURL_(n,o,s,i),this.nodeAdmin=n.nodeAdmin}return Lt(e,[{key:"open",value:function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,US.set("previous_websocket_failure",!0);try{if(pu()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/".concat(AN,"/").concat(LS,"/").concat(process.platform,"/").concat(r),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyBr3oicVK6A2HCae8JeOgCQUBlfXlNJErQ",REACT_APP_FIREBASE_APPID:"1:981501370218:web:fb207fb7d836dce3118f13",REACT_APP_FIREBASE_AUTHDOMAIN:"heladeria-ecommerce.firebaseapp.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"981501370218",REACT_APP_FIREBASE_PROJECTID:"heladeria-ecommerce",REACT_APP_FIREBASE_STORAGEBUCKET:"heladeria-ecommerce.appspot.com"},o=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;o&&(i.proxy={origin:o}),this.mySock=new DN(this.connURL,[],i)}else{var s={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new DN(this.connURL,[],s)}}catch(NM){this.log_("Error instantiating WebSocket.");var u=NM.message||NM.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){US.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=ku(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Xs(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=wu(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=sN(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(NM){this.log_("Exception thrown from WebSocket.send():",NM.message||NM.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r){var i={};return i.v=AN,!pu()&&"undefined"!==typeof location&&location.hostname&&kN.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),EN(e,wN,i)}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==DN&&!e.forceDisallow_}},{key:"previouslyFailed",value:function(){return US.isInMemoryStorage||!0===US.get("previous_websocket_failure")}}]),e}();LN.responsesRequiredToBeHealthy=2,LN.healthyTimeout=3e4;var MN=function(){function e(t){Ot(this,e),this.initTransports_(t)}return Lt(e,[{key:"initTransports_",value:function(t){var n=LN&&LN.isAvailable(),r=n&&!LN.previouslyFailed();if(t.webSocketOnly&&(n||$S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[LN];else{var i,a=this.transports_=[],o=Or(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var s=i.value;s&&s.isAvailable()&&a.push(s)}}catch(u){o.e(u)}finally{o.f()}}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[RN,LN]}}]),e}(),jN=function(){function e(t,n,r,i,a,o,s,u,c,l){Ot(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=u,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=JS("c:"+this.id+":"),this.transportManager_=new MN(n),this.log_("Connection created"),this.start_()}return Lt(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=vN((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=aN("t",e),n=aN("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=aN("t",e),n=aN("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=aN("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?ZS("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZS("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),AN!==n&&$S("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),vN((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):vN((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(US.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),BN=function(){function e(){Ot(this,e)}return Lt(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),FN=function(){function e(t){Ot(this,e),this.allowedEvents_=t,this.listeners_={},Xs(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Lt(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Rt(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Xs(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)}}]),e}(),UN=function(e){En(n,e);var t=Sn(n);function n(){var e;return Ot(this,n),(e=t.call(this,["online"])).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||cu()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return Lt(n,[{key:"getInitialEvent",value:function(e){return Xs("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new n}}]),n}(FN),QN=function(){function e(t,n){if(Ot(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Lt(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function zN(){return new QN("")}function VN(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function qN(e){return e.pieces_.length-e.pieceNum_}function WN(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new QN(e.pieces_,t)}function HN(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function GN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function YN(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new QN(t,0)}function KN(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof QN)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new QN(n,0)}function JN(e){return e.pieceNum_>=e.pieces_.length}function ZN(e,t){var n=VN(e),r=VN(t);if(null===n)return t;if(n===r)return ZN(WN(e),WN(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function XN(e,t){for(var n=GN(e,0),r=GN(t,0),i=0;i<n.length&&i<r.length;i++){var a=rN(n[i],r[i]);if(0!==a)return a}return n.length===r.length?0:n.length<r.length?-1:1}function $N(e,t){if(qN(e)!==qN(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function eP(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(qN(e)>qN(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var tP=Lt((function e(t,n){Ot(this,e),this.errorPrefix_=n,this.parts_=GN(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Uu(this.parts_[r]);nP(this)}));function nP(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rP(e))}function rP(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var iP=function(e){En(n,e);var t=Sn(n);function n(){var e,r,i;return Ot(this,n),e=t.call(this,["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(i="visibilitychange",r="hidden"):"undefined"!==typeof document.mozHidden?(i="mozvisibilitychange",r="mozHidden"):"undefined"!==typeof document.msHidden?(i="msvisibilitychange",r="msHidden"):"undefined"!==typeof document.webkitHidden&&(i="webkitvisibilitychange",r="webkitHidden")),e.visible_=!0,i&&document.addEventListener(i,(function(){var t=!document[r];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))}),!1),e}return Lt(n,[{key:"getInitialEvent",value:function(e){return Xs("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new n}}]),n}(FN),aP=1e3,oP=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a,o,s,u,c){var l;if(Ot(this,n),(l=t.call(this)).repoInfo_=e,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=a,l.onServerInfoUpdate_=o,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=n.nextPersistentConnectionId_++,l.log_=JS("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=aP,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!pu())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return iP.getInstance().on("visible",l.onVisible_,xn(l)),-1===e.host.indexOf("fblocal")&&UN.getInstance().on("online",l.onOnline_,xn(l)),l}return Lt(n,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(wu(i)),Xs(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new ou,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Xs(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Xs(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))}},{key:"sendListen_",value:function(e){var t=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,(function(o){var s=o.d,u=o.s;n.warnOnListenWarnings_(s,r),(t.listens.get(i)&&t.listens.get(i).get(a))===e&&(t.log_("listen response",o),"ok"!==u&&t.removeListen_(i,a),e.onComplete&&e.onComplete(u,s))}))}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||function(e){var t=bu(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=function(e){var t=bu(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Xs(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+wu(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):ZS("Unrecognized action received from server: "+wu(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Xs(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=aP,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=aP,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=aP),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Ws(Gs().mark((function e(){var t,r,i,a,o,s,u,l,h,f,d,p,v,m,g=this;return Gs().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+n.nextConnectionId_++,o=this.lastSessionId,s=!1,u=null,l=function(){u?u.close():(s=!0,i())},h=function(e){Xs(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:l,sendRequest:h},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:d=e.sent,p=c(d,2),v=p[0],m=p[1],s?KS("getToken() completed but was canceled"):(KS("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=m&&m.token,u=new jN(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,i,(function(e){$S(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),o)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&$S(e.t0),l());case 30:case"end":return e.stop()}}),e,this,[[16,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){KS("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){KS("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Cu(this.interruptReasons_)&&(this.reconnectDelay_=aP,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map((function(e){return oN(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new QN(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){KS("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){KS("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=Or(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=Or(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(u){r.e(u)}finally{r.f()}}}catch(u){t.e(u)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)}},{key:"sendConnectStats_",value:function(){var e={},t="js";pu()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+LS.replace(/\./g,"-")]=1,cu()?e["framework.cordova"]=1:fu()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=UN.getInstance().currentlyOnline();return Cu(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&_u(e,"w")){var n=Eu(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();$S("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),n}(BN);oP.nextPersistentConnectionId_=0,oP.nextConnectionId_=0;var sP,uP=function(){function e(t,n){Ot(this,e),this.name=t,this.node=n}return Lt(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),cP=function(){function e(){Ot(this,e)}return Lt(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new uP(tN,e),r=new uP(tN,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return uP.MIN}}]),e}(),lP=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){return rN(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw $s("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return uP.MIN}},{key:"maxPost",value:function(){return new uP(nN,sP)}},{key:"makePost",value:function(e,t){return Xs("string"===typeof e,"KeyIndex indexValue must always be a string."),new uP(e,sP)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return sP},set:function(e){sP=e}}]),n}(cP),hP=new lP,fP=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Ot(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Lt(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),dP=function(){function e(t,n,r,i,a){Ot(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:mP.EMPTY_NODE,this.right=null!=a?a:mP.EMPTY_NODE}return Lt(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return mP.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return mP.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();dP.RED=!0,dP.BLACK=!1;var pP,vP=function(){function e(){Ot(this,e)}return Lt(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new dP(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),mP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Ot(this,e),this.comparator_=t,this.root_=n}return Lt(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,dP.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,dP.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new fP(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new fP(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new fP(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new fP(this.root_,null,this.comparator_,!0,e)}}]),e}();function gP(e,t){return rN(e.name,t.name)}function yP(e,t){return rN(e,t)}mP.EMPTY_NODE=new vP;var AP,kP,wP,bP=function(e){return"number"===typeof e?"number:"+cN(e):"string:"+e},_P=function(e){if(e.isLeafNode()){var t=e.val();Xs("string"===typeof t||"number"===typeof t||"object"===typeof t&&_u(t,".sv"),"Priority must be a string or number.")}else Xs(e===pP||e.isEmpty(),"priority of unexpected type.");Xs(e===pP||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},EP=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Ot(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Xs(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),_P(this.priorityNode_)}return Lt(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return JN(t)?this:".priority"===VN(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=VN(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Xs(".priority"!==r||1===qN(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(WN(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+bP(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?cN(this.value_):this.value_,this.lazyHash_=qS(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Xs(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Xs(i>=0,"Unknown leaf type: "+n),Xs(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",get:function(){return AP},set:function(e){AP=e}}]),e}();EP.VALUE_TYPE_ORDER=["object","boolean","number","string"];var CP,IP,xP=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?rN(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return uP.MIN}},{key:"maxPost",value:function(){return new uP(nN,new EP("[PRIORITY-POST]",wP))}},{key:"makePost",value:function(e,t){var n=kP(e);return new uP(t,new EP("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),n}(cP),TP=new xP,SP=Math.log(2),NP=function(){function e(t){Ot(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/SP,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Lt(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),PP=function(e,t,n,r){e.sort(t);var i=function t(r,i){var a,o,s=i-r;if(0===s)return null;if(1===s)return a=e[r],o=n?n(a):a,new dP(o,a.node,dP.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return a=e[u],o=n?n(a):a,new dP(o,a.node,dP.BLACK,c,l)},a=function(t){for(var r=null,a=null,o=e.length,s=function(t,r){var a=o-t,s=o;o-=t;var c=i(a+1,s),l=e[a],h=n?n(l):l;u(new dP(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(a=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,dP.BLACK):(s(h,dP.BLACK),s(h,dP.RED))}return a}(new NP(e.length));return new mP(r||t,a)},RP={},OP=function(){function e(t,n){Ot(this,e),this.indexes_=t,this.indexSet_=n}return Lt(e,[{key:"get",value:function(e){var t=Eu(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof mP?t:null}},{key:"hasIndex",value:function(e){return _u(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Xs(t!==hP,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(uP.Wrap),s=o.getNext();s;)a=a||t.isDefinedOn(s.node),i.push(s),s=o.getNext();r=a?PP(i,t.getCompare()):RP;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Iu(this.indexes_,(function(e,i){var a=Eu(r.indexSet_,i);if(Xs(a,"Missing index implementation for "+i),e===RP){if(a.isDefinedOn(t.node)){for(var o=[],s=n.getIterator(uP.Wrap),u=s.getNext();u;)u.name!==t.name&&o.push(u),u=s.getNext();return o.push(t),PP(o,a.getCompare())}return RP}var c=n.get(t.name),l=e;return c&&(l=l.remove(new uP(t.name,c))),l.insert(t,t.node)})),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Iu(this.indexes_,(function(e){if(e===RP)return e;var r=n.get(t.name);return r?e.remove(new uP(t.name,r)):e})),this.indexSet_)}}],[{key:"Default",get:function(){return Xs(RP&&TP,"ChildrenNode.ts has not been loaded"),CP=CP||new e({".priority":RP},{".priority":TP})}}]),e}(),DP=function(){function e(t,n,r){Ot(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&_P(this.priorityNode_),this.children_.isEmpty()&&Xs(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Lt(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||IP}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?IP:t}},{key:"getChild",value:function(e){var t=VN(e);return null===t?this:this.getImmediateChild(t).getChild(WN(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Xs(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new uP(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?IP:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=VN(e);if(null===n)return t;Xs(".priority"!==VN(e)||1===qN(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(WN(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(TP,(function(o,s){n[o]=s.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1})),!t&&a&&i<2*r){var o=[];for(var s in n)o[s]=n[s];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+bP(this.getPriority().val())+":"),this.forEachChild(TP,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":qS(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new uP(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new uP(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new uP(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,uP.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,uP.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===LP?-1:0}},{key:"withIndex",value:function(t){if(t===hP||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===hP||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(TP),r=t.getIterator(TP),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===hP?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return IP||(IP=new e(new mP(yP),null,OP.Default))}}]),e}();DP.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var LP=new(function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.call(this,new mP(yP),DP.EMPTY_NODE,OP.Default)}return Lt(n,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return DP.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),n}(DP));Object.defineProperties(uP,{MIN:{value:new uP(tN,DP.EMPTY_NODE)},MAX:{value:new uP(nN,LP)}}),lP.__EMPTY_NODE=DP.EMPTY_NODE,EP.__childrenNodeConstructor=DP,pP=LP,function(e){wP=e}(LP);function MP(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return DP.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Xs(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){var n=e;return new EP(n,MP(t))}if(e instanceof Array){var r=DP.EMPTY_NODE;return uN(e,(function(t,n){if(_u(e,t)&&"."!==t.substring(0,1)){var i=MP(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(t,i))}})),r.updatePriority(MP(t))}var i=[],a=!1,o=e;if(uN(o,(function(e,t){if("."!==e.substring(0,1)){var n=MP(t);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new uP(e,n)))}})),0===i.length)return DP.EMPTY_NODE;var s=PP(i,gP,(function(e){return e.name}),yP);if(a){var u=PP(i,TP.getCompare());return new DP(s,MP(t),new OP({".priority":u},{".priority":TP}))}return new DP(s,MP(t),OP.Default)}!function(e){kP=e}(MP);var jP=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this)).indexPath_=e,Xs(!JN(e)&&".priority"!==VN(e),"Can't create PathIndex with empty path or .priority key"),r}return Lt(n,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?rN(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=MP(e),r=DP.EMPTY_NODE.updateChild(this.indexPath_,n);return new uP(t,r)}},{key:"maxPost",value:function(){var e=DP.EMPTY_NODE.updateChild(this.indexPath_,LP);return new uP(nN,e)}},{key:"toString",value:function(){return GN(this.indexPath_,0).join("/")}}]),n}(cP),BP=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?rN(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return uP.MIN}},{key:"maxPost",value:function(){return uP.MAX}},{key:"makePost",value:function(e,t){var n=MP(e);return new uP(t,n)}},{key:"toString",value:function(){return".value"}}]),n}(cP),FP=new BP,UP="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QP=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=UP.charAt(n%64),n=Math.floor(n/64);Xs(0===n,"Cannot push at time == 0");var o=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)o+=UP.charAt(t[r]);return Xs(20===o.length,"nextPushId: Length should be 20."),o}}(),zP=function(e){if("2147483647"===e)return"-";var t=dN(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return nN;var a=n[i],o=UP.charAt(UP.indexOf(a)+1);return n[i]=o,n.slice(0,i+1).join("")},VP=function(e){if("-2147483648"===e)return tN;var t=dN(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=UP.charAt(UP.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function qP(e){return{type:"value",snapshotNode:e}}function WP(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function HP(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function GP(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var YP=function(){function e(t){Ot(this,e),this.index_=t}return Lt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){Xs(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(HP(t,o)):Xs(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(WP(t,n)):a.trackChildChange(GP(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}},{key:"updateFullNode",value:function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(TP,(function(e,r){t.hasChild(e)||n.trackChildChange(HP(e,r))})),t.isLeafNode()||t.forEachChild(TP,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(GP(t,r,i))}else n.trackChildChange(WP(t,r))}))),t.withIndex(this.index_)}},{key:"updatePriority",value:function(e,t){return e.isEmpty()?DP.EMPTY_NODE:e.updatePriority(t)}},{key:"filtersNodes",value:function(){return!1}},{key:"getIndexedFilter",value:function(){return this}},{key:"getIndex",value:function(){return this.index_}}]),e}(),KP=function(){function e(t){Ot(this,e),this.indexedFilter_=new YP(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return Lt(e,[{key:"getStartPost",value:function(){return this.startPost_}},{key:"getEndPost",value:function(){return this.endPost_}},{key:"matches",value:function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}},{key:"updateChild",value:function(e,t,n,r,i,a){return this.matches(new uP(t,n))||(n=DP.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,a)}},{key:"updateFullNode",value:function(e,t,n){t.isLeafNode()&&(t=DP.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(DP.EMPTY_NODE);var i=this;return t.forEachChild(TP,(function(e,t){i.matches(new uP(e,t))||(r=r.updateImmediateChild(e,DP.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.indexedFilter_}},{key:"getIndex",value:function(){return this.index_}}],[{key:"getStartPost_",value:function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}},{key:"getEndPost_",value:function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}]),e}(),JP=function(){function e(t){Ot(this,e),this.rangedFilter_=new KP(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return Lt(e,[{key:"updateChild",value:function(e,t,n,r,i,a){return this.rangedFilter_.matches(new uP(t,n))||(n=DP.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,a):this.fullLimitUpdateChild_(e,t,n,i,a)}},{key:"updateFullNode",value:function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=DP.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=DP.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var a=0;i.hasNext()&&a<this.limit_;){var o=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),o)<=0:this.index_.compare(o,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(o.name,o.node),a++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(DP.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();c=function(e,t){return h(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var f=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&f<this.limit_&&c(p,u)<=0?f++:r=r.updateImmediateChild(p.name,DP.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}},{key:"updatePriority",value:function(e,t){return e}},{key:"filtersNodes",value:function(){return!0}},{key:"getIndexedFilter",value:function(){return this.rangedFilter_.getIndexedFilter()}},{key:"getIndex",value:function(){return this.index_}},{key:"fullLimitUpdateChild_",value:function(e,t,n,r,i){var a;if(this.reverse_){var o=this.index_.getCompare();a=function(e,t){return o(t,e)}}else a=this.index_.getCompare();var s=e;Xs(s.numChildren()===this.limit_,"");var u=new uP(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var h=s.getImmediateChild(t),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===t||s.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var d=null==f?1:a(f,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(GP(t,n,h)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(HP(t,h));var p=s.updateImmediateChild(t,DP.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(WP(f.name,f.node)),p.updateImmediateChild(f.name,f.node)):p}return n.isEmpty()?e:l&&a(c,u)>=0?(null!=i&&(i.trackChildChange(HP(c.name,c.node)),i.trackChildChange(WP(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,DP.EMPTY_NODE)):e}}]),e}(),ZP=function(){function e(){Ot(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=TP}return Lt(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Xs(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Xs(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:tN}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Xs(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Xs(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nN}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Xs(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===TP}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function XP(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function $P(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function eR(e,t){var n=e.copy();return n.index_=t,n}function tR(e){var t,n={};return e.isDefault()||(e.index_===TP?t="$priority":e.index_===FP?t="$value":e.index_===hP?t="$key":(Xs(e.index_ instanceof jP,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=wu(t),e.startSet_&&(n.startAt=wu(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+wu(e.indexStartName_))),e.endSet_&&(n.endAt=wu(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+wu(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function nR(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==TP&&(t.i=e.index_.toString()),t}var rR=function(e){En(n,e);var t=Sn(n);function n(e,r,i,a){var o;return Ot(this,n),(o=t.call(this)).repoInfo_=e,o.onDataUpdate_=r,o.authTokenProvider_=i,o.appCheckTokenProvider_=a,o.log_=JS("p:rest:"),o.listens_={},o}return Lt(n,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,t,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var s=n.getListenId_(e,r),u={};this.listens_[s]=u;var c=tR(e._queryParams);this.restRequest_(o+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Eu(a.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))}},{key:"unlisten",value:function(e,t){var r=n.getListenId_(e,t);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=tR(e._queryParams),r=e._path.toString(),i=new ou;return this.restRequest_(r+".json",n,(function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))})),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var a=c(i,2),o=a[0],s=a[1];o&&o.accessToken&&(n.auth=o.accessToken),s&&s.token&&(n.ac=s.token);var u=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Su(n);t.log_("Sending REST request for "+u);var l=new XMLHttpRequest;l.onreadystatechange=function(){if(r&&4===l.readyState){t.log_("REST Response for "+u+" received. status:",l.status,"response:",l.responseText);var e=null;if(l.status>=200&&l.status<300){try{e=ku(l.responseText)}catch(NM){$S("Failed to parse JSON response for "+u+": "+l.responseText)}r(null,e)}else 401!==l.status&&404!==l.status&&$S("Got unsuccessful REST response for "+u+" Status: "+l.status),r(l.status);r=null}},l.open("GET",u,!0),l.send()}))}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Xs(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),n}(BN),iR=function(){function e(){Ot(this,e),this.rootNode_=DP.EMPTY_NODE}return Lt(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function aR(){return{value:null,children:new Map}}function oR(e,t,n){if(JN(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=VN(t);e.children.has(r)||e.children.set(r,aR()),oR(e.children.get(r),t=WN(t),n)}}function sR(e,t){if(JN(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(TP,(function(t,n){oR(e,new QN(t),n)})),sR(e,t)}if(e.children.size>0){var r=VN(t);if(t=WN(t),e.children.has(r))sR(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function uR(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){uR(r,new QN(t.toString()+"/"+e),n)}))}var cR,lR=function(){function e(t){Ot(this,e),this.collection_=t,this.last_=null}return Lt(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&uN(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t}}]),e}(),hR=function(){function e(t,n){Ot(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new lR(t);var r=1e4+2e4*Math.random();vN(this.reportStats_.bind(this),Math.floor(r))}return Lt(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;uN(t,(function(t,i){i>0&&_u(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),vN(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function fR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(cR||(cR={}));var dR,pR=function(){function e(t,n,r){Ot(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=cR.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Lt(e,[{key:"operationForChild",value:function(t){if(JN(this.path)){if(null!=this.affectedTree.value)return Xs(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new QN(t));return new e(zN(),n,this.revert)}return Xs(VN(this.path)===t,"operationForChild called for unrelated child."),new e(WN(this.path),this.affectedTree,this.revert)}}]),e}(),vR=function(){function e(t,n){Ot(this,e),this.source=t,this.path=n,this.type=cR.LISTEN_COMPLETE}return Lt(e,[{key:"operationForChild",value:function(t){return JN(this.path)?new e(this.source,zN()):new e(this.source,WN(this.path))}}]),e}(),mR=function(){function e(t,n,r){Ot(this,e),this.source=t,this.path=n,this.snap=r,this.type=cR.OVERWRITE}return Lt(e,[{key:"operationForChild",value:function(t){return JN(this.path)?new e(this.source,zN(),this.snap.getImmediateChild(t)):new e(this.source,WN(this.path),this.snap)}}]),e}(),gR=function(){function e(t,n,r){Ot(this,e),this.source=t,this.path=n,this.children=r,this.type=cR.MERGE}return Lt(e,[{key:"operationForChild",value:function(t){if(JN(this.path)){var n=this.children.subtree(new QN(t));return n.isEmpty()?null:n.value?new mR(this.source,zN(),n.value):new e(this.source,zN(),n)}return Xs(VN(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,WN(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),yR=function(){function e(t,n,r){Ot(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Lt(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(JN(e))return this.isFullyInitialized()&&!this.filtered_;var t=VN(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}(),AR=Lt((function e(t){Ot(this,e),this.query_=t,this.index_=this.query_._queryParams.getIndex()}));function kR(e,t,n,r,i,a){var o=r.filter((function(e){return e.type===n}));o.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw $s("Should only compare child_ events.");var r=new uP(t.childName,t.snapshotNode),i=new uP(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),o.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function wR(e,t){return{eventCache:e,serverCache:t}}function bR(e,t,n,r){return wR(new yR(t,n,r),e.serverCache)}function _R(e,t,n,r){return wR(e.eventCache,new yR(t,n,r))}function ER(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function CR(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var IR=function(){return dR||(dR=new mP(iN)),dR},xR=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IR();Ot(this,e),this.value=t,this.children=n}return Lt(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:zN(),value:this.value};if(JN(e))return null;var n=VN(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(WN(e),t);return null!=i?{path:KN(new QN(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))}},{key:"subtree",value:function(t){if(JN(t))return this;var n=VN(t),r=this.children.get(n);return null!==r?r.subtree(WN(t)):new e(null)}},{key:"set",value:function(t,n){if(JN(t))return new e(n,this.children);var r=VN(t),i=(this.children.get(r)||new e(null)).set(WN(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(JN(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=VN(t),r=this.children.get(n);if(r){var i,a=r.remove(WN(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(JN(e))return this.value;var t=VN(e),n=this.children.get(t);return n?n.get(WN(e)):null}},{key:"setTree",value:function(t,n){if(JN(t))return n;var r,i=VN(t),a=(this.children.get(i)||new e(null)).setTree(WN(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(zN(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(KN(e,r),t)})),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,zN(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(JN(e))return null;var i=VN(e),a=this.children.get(i);return a?a.findOnPath_(WN(e),KN(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,zN(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(JN(t))return this;this.value&&r(n,this.value);var i=VN(t),a=this.children.get(i);return a?a.foreachOnPath_(WN(t),KN(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(zN(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(KN(e,n),t)})),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))}}],[{key:"fromObject",value:function(t){var n=new e(null);return uN(t,(function(e,t){n=n.set(new QN(e),t)})),n}}]),e}(),TR=function(){function e(t){Ot(this,e),this.writeTree_=t}return Lt(e,null,[{key:"empty",value:function(){return new e(new xR(null))}}]),e}();function SR(e,t,n){if(JN(t))return new TR(new xR(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=ZN(i,t);return a=a.updateChild(o,n),new TR(e.writeTree_.set(i,a))}var s=new xR(n),u=e.writeTree_.setTree(t,s);return new TR(u)}function NR(e,t,n){var r=e;return uN(n,(function(e,n){r=SR(r,KN(t,e),n)})),r}function PR(e,t){if(JN(t))return TR.empty();var n=e.writeTree_.setTree(t,new xR(null));return new TR(n)}function RR(e,t){return null!=OR(e,t)}function OR(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ZN(n.path,t)):null}function DR(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(TP,(function(e,n){t.push(new uP(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new uP(e,n.value))})),t}function LR(e,t){if(JN(t))return e;var n=OR(e,t);return new TR(null!=n?new xR(n):e.writeTree_.subtree(t))}function MR(e){return e.writeTree_.isEmpty()}function jR(e,t){return BR(zN(),e.writeTree_,t)}function BR(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(Xs(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=BR(KN(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(KN(e,".priority"),r)),n}function FR(e,t){return $R(t,e)}function UR(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function QR(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));Xs(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var s=e.allWrites[o];s.visible&&(o>=n&&zR(s,r.path)?i=!1:eP(r.path,s.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=qR(e.allWrites,VR,zN()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=PR(e.visibleWrites,r.path):uN(r.children,(function(t){e.visibleWrites=PR(e.visibleWrites,KN(r.path,t))}));return!0}return!1}function zR(e,t){if(e.snap)return eP(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&eP(KN(e.path,n),t))return!0;return!1}function VR(e){return e.visible}function qR(e,t,n){for(var r=TR.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,s=void 0;if(a.snap)eP(n,o)?r=SR(r,s=ZN(n,o),a.snap):eP(o,n)&&(s=ZN(o,n),r=SR(r,zN(),a.snap.getChild(s)));else{if(!a.children)throw $s("WriteRecord should have .snap or .children");if(eP(n,o))r=NR(r,s=ZN(n,o),a.children);else if(eP(o,n))if(JN(s=ZN(o,n)))r=NR(r,zN(),a.children);else{var u=Eu(a.children,VN(s));if(u){var c=u.getChild(WN(s));r=SR(r,zN(),c)}}}}}return r}function WR(e,t,n,r,i){if(r||i){var a=LR(e.visibleWrites,t);if(!i&&MR(a))return n;if(i||null!=n||RR(a,zN())){var o=qR(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(eP(e.path,t)||eP(t,e.path))}),t);return jR(o,n||DP.EMPTY_NODE)}return null}var s=OR(e.visibleWrites,t);if(null!=s)return s;var u=LR(e.visibleWrites,t);return MR(u)?n:null!=n||RR(u,zN())?jR(u,n||DP.EMPTY_NODE):null}function HR(e,t,n,r){return WR(e.writeTree,e.treePath,t,n,r)}function GR(e,t){return function(e,t,n){var r=DP.EMPTY_NODE,i=OR(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(TP,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var a=LR(e.visibleWrites,t);return n.forEachChild(TP,(function(e,t){var n=jR(LR(a,new QN(e)),t);r=r.updateImmediateChild(e,n)})),DR(a).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return DR(LR(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function YR(e,t,n,r){return function(e,t,n,r,i){Xs(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=KN(t,n);if(RR(e.visibleWrites,a))return null;var o=LR(e.visibleWrites,a);return MR(o)?i.getChild(n):jR(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function KR(e,t){return function(e,t){return OR(e.visibleWrites,t)}(e.writeTree,KN(e.treePath,t))}function JR(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var s,u=LR(e.visibleWrites,t),c=OR(u,zN());if(null!=c)s=c;else{if(null==n)return[];s=jR(u,n)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var l=[],h=o.getCompare(),f=a?s.getReverseIteratorFrom(r,o):s.getIteratorFrom(r,o),d=f.getNext();d&&l.length<i;)0!==h(d,r)&&l.push(d),d=f.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,a)}function ZR(e,t,n){return function(e,t,n,r){var i=KN(t,n),a=OR(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?jR(LR(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function XR(e,t){return $R(KN(e.treePath,t),e.writeTree)}function $R(e,t){return{treePath:e,writeTree:t}}var eO=function(){function e(){Ot(this,e),this.changeMap=new Map}return Lt(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Xs("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Xs(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,GP(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,HP(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,WP(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw $s("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,GP(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),tO=new(function(){function e(){Ot(this,e)}return Lt(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),nO=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ot(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Lt(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new yR(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ZR(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:CR(this.viewCache_),i=JR(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function rO(e,t,n,r,i){var a,o,s=new eO;if(n.type===cR.OVERWRITE){var u=n;u.source.fromUser?a=oO(e,t,u.path,u.snap,r,i,s):(Xs(u.source.fromServer,"Unknown source."),o=u.source.tagged||t.serverCache.isFiltered()&&!JN(u.path),a=aO(e,t,u.path,u.snap,r,i,o,s))}else if(n.type===cR.MERGE){var c=n;c.source.fromUser?a=function(e,t,n,r,i,a,o){var s=t;return r.foreach((function(r,u){var c=KN(n,r);sO(t,VN(c))&&(s=oO(e,s,c,u,i,a,o))})),r.foreach((function(r,u){var c=KN(n,r);sO(t,VN(c))||(s=oO(e,s,c,u,i,a,o))})),s}(e,t,c.path,c.children,r,i,s):(Xs(c.source.fromServer,"Unknown source."),o=c.source.tagged||t.serverCache.isFiltered(),a=cO(e,t,c.path,c.children,r,i,o,s))}else if(n.type===cR.ACK_USER_WRITE){var l=n;a=l.revert?function(e,t,n,r,i,a){var o;if(null!=KR(r,n))return t;var s,u=new nO(r,t,i),c=t.eventCache.getNode();if(JN(n)||".priority"===VN(n)){var l;if(t.serverCache.isFullyInitialized())l=HR(r,CR(t));else{var h=t.serverCache.getNode();Xs(h instanceof DP,"serverChildren would be complete if leaf node"),l=GR(r,h)}l=l,s=e.filter.updateFullNode(c,l,a)}else{var f=VN(n),d=ZR(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=c.getImmediateChild(f)),(s=null!=d?e.filter.updateChild(c,f,d,WN(n),u,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(c,f,DP.EMPTY_NODE,WN(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=HR(r,CR(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,o,a))}return o=t.serverCache.isFullyInitialized()||null!=KR(r,zN()),bR(t,s,o,e.filter.filtersNodes())}(e,t,l.path,r,i,s):function(e,t,n,r,i,a,o){if(null!=KR(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(JN(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return aO(e,t,n,u.getNode().getChild(n),i,a,s,o);if(JN(n)){var c=new xR(null);return u.getNode().forEachChild(hP,(function(e,t){c=c.set(new QN(e),t)})),cO(e,t,n,c,i,a,s,o)}return t}var l=new xR(null);return r.foreach((function(e,t){var r=KN(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),cO(e,t,n,l,i,a,s,o)}(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==cR.LISTEN_COMPLETE)throw $s("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=_R(t,a.getNode(),a.isFullyInitialized()||JN(n),a.isFiltered());return iO(e,o,n,r,tO,i)}(e,t,n.path,r,s)}var h=s.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=ER(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(qP(ER(t)))}}(t,a,h),{viewCache:a,changes:h}}function iO(e,t,n,r,i,a){var o,s,u=t.eventCache;if(null!=KR(r,n))return t;if(JN(n))if(Xs(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=CR(t),l=GR(r,c instanceof DP?c:DP.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),l,a)}else{var h=HR(r,CR(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=VN(n);if(".priority"===f){Xs(1===qN(n),"Can't have a priority with additional path components");var d=u.getNode(),p=YR(r,n,d,s=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,m=WN(n);if(u.isCompleteForChild(f)){s=t.serverCache.getNode();var g=YR(r,n,u.getNode(),s);v=null!=g?u.getNode().getImmediateChild(f).updateChild(m,g):u.getNode().getImmediateChild(f)}else v=ZR(r,f,t.serverCache);o=null!=v?e.filter.updateChild(u.getNode(),f,v,m,i,a):u.getNode()}}return bR(t,o,u.isFullyInitialized()||JN(n),e.filter.filtersNodes())}function aO(e,t,n,r,i,a,o,s){var u,c=t.serverCache,l=o?e.filter:e.filter.getIndexedFilter();if(JN(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var h=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),h,null)}else{var f=VN(n);if(!c.isCompleteForPath(n)&&qN(n)>1)return t;var d=WN(n),p=c.getNode().getImmediateChild(f).updateChild(d,r);u=".priority"===f?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),f,p,d,tO,null)}var v=_R(t,u,c.isFullyInitialized()||JN(n),l.filtersNodes());return iO(e,v,n,i,new nO(i,v,a),s)}function oO(e,t,n,r,i,a,o){var s,u,c=t.eventCache,l=new nO(i,t,a);if(JN(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),s=bR(t,u,!0,e.filter.filtersNodes());else{var h=VN(n);if(".priority"===h)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=bR(t,u,c.isFullyInitialized(),c.isFiltered());else{var f,d=WN(n),p=c.getNode().getImmediateChild(h);if(JN(d))f=r;else{var v=l.getCompleteChild(h);f=null!=v?".priority"===HN(d)&&v.getChild(YN(d)).isEmpty()?v:v.updateChild(d,r):DP.EMPTY_NODE}if(p.equals(f))s=t;else s=bR(t,e.filter.updateChild(c.getNode(),h,f,d,l,o),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function sO(e,t){return e.eventCache.isCompleteForChild(t)}function uO(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function cO(e,t,n,r,i,a,o,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=JN(n)?r:new xR(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=uO(0,t.serverCache.getNode().getImmediateChild(n),r);c=aO(e,c,new QN(n),u,i,a,o,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var h=uO(0,t.serverCache.getNode().getImmediateChild(n),r);c=aO(e,c,new QN(n),h,i,a,o,s)}})),c}var lO,hO=function(){function e(t,n){Ot(this,e),this.query_=t,this.eventRegistrations_=[];var r,i=this.query_._queryParams,a=new YP(i.getIndex()),o=(r=i).loadsAllData()?new YP(r.getIndex()):r.hasLimit()?new JP(r):new KP(r);this.processor_=function(e){return{filter:e}}(o);var s=n.serverCache,u=n.eventCache,c=a.updateFullNode(DP.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(DP.EMPTY_NODE,u.getNode(),null),h=new yR(c,s.isFullyInitialized(),a.filtersNodes()),f=new yR(l,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=wR(f,h),this.eventGenerator_=new AR(this.query_)}return Lt(e,[{key:"query",get:function(){return this.query_}}]),e}();function fO(e,t){var n=CR(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!JN(t)&&!n.getImmediateChild(VN(t)).isEmpty())?n.getChild(t):null}function dO(e){return 0===e.eventRegistrations_.length}function pO(e,t,n){var r=[];if(n){Xs(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],o=0;o<e.eventRegistrations_.length;++o){var s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(o+1));break}}else a.push(s)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function vO(e,t,n,r){t.type===cR.MERGE&&null!==t.source.queryId&&(Xs(CR(e.viewCache_),"We should always have a full cache before handling merges"),Xs(ER(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,s=rO(e.processor_,o,t,n,r);return i=e.processor_,a=s.viewCache,Xs(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Xs(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Xs(s.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,mO(e,s.changes,s.viewCache.eventCache.getNode(),null)}function mO(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),kR(e,i,"child_removed",t,r,n),kR(e,i,"child_added",t,r,n),kR(e,i,"child_moved",a,r,n),kR(e,i,"child_changed",t,r,n),kR(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var gO,yO=Lt((function e(){Ot(this,e),this.views=new Map}));function AO(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Xs(null!=a,"SyncTree gave us an op for an invalid query."),vO(a,t,n,r)}var o,s=[],u=Or(e.views.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s=s.concat(vO(c,t,n,r))}}catch(l){u.e(l)}finally{u.f()}return s}function kO(e,t,n,r,i){var a=t._queryIdentifier,o=e.views.get(a);if(!o){var s=HR(n,i?r:null),u=!1;s?u=!0:r instanceof DP?(s=GR(n,r),u=!1):(s=DP.EMPTY_NODE,u=!1);var c=wR(new yR(s,u,!1),new yR(r,i,!1));return new hO(t,c)}return o}function wO(e,t,n,r,i,a){var o=kO(e,t,r,i,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(TP,(function(e,t){r.push(WP(e,t))})),n.isFullyInitialized()&&r.push(qP(n.getNode())),mO(e,r,n.getNode(),t)}(o,n)}function bO(e,t,n,r){var i=t._queryIdentifier,a=[],o=[],s=xO(e);if("default"===i){var u,l=Or(e.views.entries());try{for(l.s();!(u=l.n()).done;){var h=c(u.value,2),f=h[0],d=h[1];o=o.concat(pO(d,n,r)),dO(d)&&(e.views.delete(f),d.query._queryParams.loadsAllData()||a.push(d.query))}}catch(v){l.e(v)}finally{l.f()}}else{var p=e.views.get(i);p&&(o=o.concat(pO(p,n,r)),dO(p)&&(e.views.delete(i),p.query._queryParams.loadsAllData()||a.push(p.query)))}return s&&!xO(e)&&a.push(new(Xs(lO,"Reference.ts has not been loaded"),lO)(t._repo,t._path)),{removed:a,events:o}}function _O(e){var t,n=[],r=Or(e.views.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}}catch(a){r.e(a)}finally{r.f()}return n}function EO(e,t){var n,r=null,i=Or(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||fO(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}function CO(e,t){if(t._queryParams.loadsAllData())return TO(e);var n=t._queryIdentifier;return e.views.get(n)}function IO(e,t){return null!=CO(e,t)}function xO(e){return null!=TO(e)}function TO(e){var t,n=Or(e.views.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}}catch(i){n.e(i)}finally{n.f()}return null}var SO=1,NO=Lt((function e(t){Ot(this,e),this.listenProvider_=t,this.syncPointTree_=new xR(null),this.pendingWriteTree_={visibleWrites:TR.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}));function PO(e,t,n,r,i){return function(e,t,n,r,i){Xs(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=SR(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?FO(e,new mR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function RO(e,t,n,r){!function(e,t,n,r){Xs(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=NR(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=xR.fromObject(n);return FO(e,new gR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function OO(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=UR(e.pendingWriteTree_,t),i=QR(e.pendingWriteTree_,t);if(i){var a=new xR(null);return null!=r.snap?a=a.set(zN(),!0):uN(r.children,(function(e){a=a.set(new QN(e),!0)})),FO(e,new pR(r.path,a,n))}return[]}function DO(e,t,n){return FO(e,new mR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function LO(e,t,n,r){var i=t._path,a=e.syncPointTree_.get(i),o=[];if(a&&("default"===t._queryIdentifier||IO(a,t))){var s=bO(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;o=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return xO(t)}));if(c&&!l){var h=e.syncPointTree_.subtree(i);if(!h.isEmpty())for(var f=function(e){return e.fold((function(e,t,n){if(t&&xO(t))return[TO(t)];var r=[];return t&&(r=_O(t)),uN(n,(function(e,t){r=r.concat(t)})),r}))}(h),d=0;d<f.length;++d){var p=f[d],v=p.query,m=zO(e,p);e.listenProvider_.startListening(YO(v),VO(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(YO(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(qO(t));e.listenProvider_.stopListening(YO(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=qO(r),a=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(a)}}}(e,u)}return o}function MO(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=ZN(e,r);i=i||EO(t,n),a=a||xO(t)}));var o,s=e.syncPointTree_.get(r);(s?(a=a||xO(s),i=i||EO(s,zN())):(s=new yO,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?o=!0:(o=!1,i=DP.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=EO(t,zN());n&&(i=i.updateImmediateChild(e,n))})));var u=IO(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=qO(t);Xs(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=SO++;e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var h=wO(s,t,n,FR(e.pendingWriteTree_,r),i,o);if(!u&&!a){var f=CO(s,t);h=h.concat(function(e,t,n){var r=t._path,i=VO(e,t),a=zO(e,n),o=e.listenProvider_.startListening(YO(t),i,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(i)Xs(!xO(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!JN(e)&&t&&xO(t))return[TO(t).query];var r=[];return t&&(r=r.concat(_O(t).map((function(e){return e.query})))),uN(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(YO(l),VO(e,l))}return o}(e,t,f))}return h}function jO(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=EO(n,ZN(e,t));if(r)return r}));return WR(r,t,i,n,!0)}function BO(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=ZN(e,n);r=r||EO(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||EO(i,zN()):(i=new yO,e.syncPointTree_=e.syncPointTree_.set(n,i));var a=null!=r,o=a?new yR(r,!0,!1):null;return function(e){return ER(e.viewCache_)}(kO(i,t,FR(e.pendingWriteTree_,t._path),a?o.getNode():DP.EMPTY_NODE,a))}function FO(e,t){return UO(t,e.syncPointTree_,null,FR(e.pendingWriteTree_,zN()))}function UO(e,t,n,r){if(JN(e.path))return QO(e,t,n,r);var i=t.get(zN());null==n&&null!=i&&(n=EO(i,zN()));var a=[],o=VN(e.path),s=e.operationForChild(o),u=t.children.get(o);if(u&&s){var c=n?n.getImmediateChild(o):null,l=XR(r,o);a=a.concat(UO(s,u,c,l))}return i&&(a=a.concat(AO(i,e,r,n))),a}function QO(e,t,n,r){var i=t.get(zN());null==n&&null!=i&&(n=EO(i,zN()));var a=[];return t.children.inorderTraversal((function(t,i){var o=n?n.getImmediateChild(t):null,s=XR(r,t),u=e.operationForChild(t);u&&(a=a.concat(QO(u,i,o,s)))})),i&&(a=a.concat(AO(i,e,r,n))),a}function zO(e,t){var n=t.query,r=VO(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||DP.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=WO(e,n);if(r){var i=HO(r),a=i.path,o=i.queryId,s=ZN(a,t);return GO(e,a,new vR(fR(o),s))}return[]}(e,n._path,r):function(e,t){return FO(e,new vR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return LO(e,n,null,i)}}}function VO(e,t){var n=qO(t);return e.queryToTagMap.get(n)}function qO(e){return e._path.toString()+"$"+e._queryIdentifier}function WO(e,t){return e.tagToQueryMap.get(t)}function HO(e){var t=e.indexOf("$");return Xs(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new QN(e.substr(0,t))}}function GO(e,t,n){var r=e.syncPointTree_.get(t);return Xs(r,"Missing sync point for query tag that we're tracking"),AO(r,n,FR(e.pendingWriteTree_,t),null)}function YO(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Xs(gO,"Reference.ts has not been loaded"),gO)(e._repo,e._path):e}var KO=function(){function e(t){Ot(this,e),this.node_=t}return Lt(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),JO=function(){function e(t,n){Ot(this,e),this.syncTree_=t,this.path_=n}return Lt(e,[{key:"getImmediateChild",value:function(t){var n=KN(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return jO(this.syncTree_,this.path_)}}]),e}(),ZO=function(e,t,n){return e&&"object"===typeof e?(Xs(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?XO(e[".sv"],t,n):"object"===typeof e[".sv"]?$O(e[".sv"],t):void Xs(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},XO=function(e,t,n){if("timestamp"===e)return n.timestamp;Xs(!1,"Unexpected server value: "+e)},$O=function(e,t,n){e.hasOwnProperty("increment")||Xs(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Xs(!1,"Unexpected increment value: "+r);var i=t.node();if(Xs(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},eD=function(e,t,n,r){return nD(t,new JO(n,e),r)},tD=function(e,t,n){return nD(e,new KO(t),n)};function nD(e,t,n){var r,i=e.getPriority().val(),a=ZO(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,s=ZO(o.getValue(),t,n);return s!==o.getValue()||a!==o.getPriority().val()?new EP(s,MP(a)):e}var u=e;return r=u,a!==u.getPriority().val()&&(r=r.updatePriority(new EP(a))),u.forEachChild(TP,(function(e,i){var a=nD(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))})),r}var rD=Lt((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Ot(this,e),this.name=t,this.parent=n,this.node=r}));function iD(e,t){for(var n=t instanceof QN?t:new QN(t),r=e,i=VN(n);null!==i;){var a=Eu(r.node.children,i)||{children:{},childCount:0};r=new rD(i,r,a),i=VN(n=WN(n))}return r}function aD(e){return e.node.value}function oD(e,t){e.node.value=t,hD(e)}function sD(e){return e.node.childCount>0}function uD(e,t){uN(e.node.children,(function(n,r){t(new rD(n,e,r))}))}function cD(e,t,n,r){n&&!r&&t(e),uD(e,(function(e){cD(e,t,!0,r)})),n&&r&&t(e)}function lD(e){return new QN(null===e.parent?e.name:lD(e.parent)+"/"+e.name)}function hD(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===aD(e)&&!sD(e)}(n),i=_u(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,hD(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,hD(e))}(e.parent,e.name,e)}var fD=/[\[\].#$\/\u0000-\u001F\u007F]/,dD=/[\[\].#$\u0000-\u001F\u007F]/,pD=10485760,vD=function(e){return"string"===typeof e&&0!==e.length&&!fD.test(e)},mD=function(e){return"string"===typeof e&&0!==e.length&&!dD.test(e)},gD=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!eN(e)||e&&"object"===typeof e&&_u(e,".sv")},yD=function(e,t,n,r){r&&void 0===t||AD(ju(e,"value"),t,n)},AD=function e(t,n,r){var i=r instanceof QN?new tP(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+rP(i));if("function"===typeof n)throw new Error(t+"contains a function "+rP(i)+" with contents = "+n.toString());if(eN(n))throw new Error(t+"contains "+n.toString()+" "+rP(i));if("string"===typeof n&&n.length>pD/3&&Uu(n)>pD)throw new Error(t+"contains a string greater than "+"10485760 utf8 bytes "+rP(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(uN(n,(function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!vD(n)))throw new Error(t+" contains an invalid key ("+n+") "+rP(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,u;u=n,(s=i).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(u),s.byteLength_+=Uu(u),nP(s),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Uu(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)})),a&&o)throw new Error(t+' contains ".value" child '+rP(i)+" in addition to actual children.")}},kD=function(e,t,n,r){if(!r||void 0!==t){var i=ju(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];uN(t,(function(e,t){var r=new QN(e);if(AD(i,t,KN(n,r)),".priority"===HN(r)&&!gD(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=GN(r=t[n]),a=0;a<i.length;a++)if(".priority"===i[a]&&a===i.length-1);else if(!vD(i[a]))throw new Error(e+"contains an invalid key ("+i[a]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(XN);var o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&eP(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(i,a)}},wD=function(e,t,n){if(!n||void 0!==t){if(eN(t))throw new Error(ju(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!gD(t))throw new Error(ju(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bD=function(e,t,n,r){if((!r||void 0!==n)&&!vD(n))throw new Error(ju(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},_D=function(e,t,n,r){if((!r||void 0!==n)&&!mD(n))throw new Error(ju(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ED=function(e,t){if(".info"===VN(t))throw new Error(e+" failed = Can't modify data under /.info/")},CD=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!vD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),mD(e)}(n))throw new Error(ju(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ID=Lt((function e(){Ot(this,e),this.eventLists_=[],this.recursionDepth_=0}));function xD(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||$N(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function TD(e,t,n){xD(e,n),ND(e,(function(e){return $N(e,t)}))}function SD(e,t,n){xD(e,n),ND(e,(function(e){return eP(e,t)||eP(t,e)}))}function ND(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(PD(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function PD(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();HS&&KS("event: "+n.toString()),pN(r)}}}var RD="repo_interrupt",OD=function(){function e(t,n,r,i){Ot(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ID,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=aR(),this.transactionQueueTree_=new rD,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Lt(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function DD(e,t,n){if(e.stats_=TN(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new rR(e.repoInfo_,(function(t,n,r,i){jD(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return BD(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wu(n)}catch(NM){throw new Error("Invalid authOverride provided: "+NM)}}e.persistentConnection_=new oP(e.repoInfo_,t,(function(t,n,r,i){jD(e,t,n,r,i)}),(function(t){BD(e,t)}),(function(t){!function(e,t){uN(t,(function(t,n){FD(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return xN[n]||(xN[n]=t()),xN[n]}(e.repoInfo_,(function(){return new hR(e.stats_,e.server_)})),e.infoData_=new iR,e.infoSyncTree_=new NO({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=DO(e.infoSyncTree_,t._path,o),setTimeout((function(){i("ok")}),0)),a},stopListening:function(){}}),FD(e,"connected",!1),e.serverSyncTree_=new NO({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var a=i(n,r);SD(e.eventQueue_,t._path,a)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function LD(e){var t=e.infoData_.getNode(new QN(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function MD(e){return(t=(t={timestamp:LD(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function jD(e,t,n,r,i){e.dataUpdateCount++;var a=new QN(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var s=Iu(n,(function(e){return MP(e)}));o=function(e,t,n,r){var i=WO(e,r);if(i){var a=HO(i),o=a.path,s=a.queryId,u=ZN(o,t),c=xR.fromObject(n);return GO(e,o,new gR(fR(s),u,c))}return[]}(e.serverSyncTree_,a,s,i)}else{var u=MP(n);o=function(e,t,n,r){var i=WO(e,r);if(null!=i){var a=HO(i),o=a.path,s=a.queryId,u=ZN(o,t);return GO(e,o,new mR(fR(s),u,n))}return[]}(e.serverSyncTree_,a,u,i)}else if(r){var c=Iu(n,(function(e){return MP(e)}));o=function(e,t,n){var r=xR.fromObject(n);return FO(e,new gR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,c)}else{var l=MP(n);o=DO(e.serverSyncTree_,a,l)}var h=a;o.length>0&&(h=ZD(e,a)),SD(e.eventQueue_,h,o)}function BD(e,t){FD(e,"connected",t),!1===t&&function(e){HD(e,"onDisconnectEvents");var t=MD(e),n=aR();uR(e.onDisconnect_,zN(),(function(r,i){var a=eD(r,i,e.serverSyncTree_,t);oR(n,r,a)}));var r=[];uR(n,zN(),(function(t,n){r=r.concat(DO(e.serverSyncTree_,t,n));var i=nL(e,t);ZD(e,i)})),e.onDisconnect_=aR(),SD(e.eventQueue_,zN(),r)}(e)}function FD(e,t,n){var r=new QN("/.info/"+t),i=MP(n);e.infoData_.updateSnapshot(r,i);var a=DO(e.infoSyncTree_,r,i);SD(e.eventQueue_,r,a)}function UD(e){return e.nextWriteId_++}function QD(e,t,n,r,i){HD(e,"set",{path:t.toString(),value:n,priority:r});var a=MD(e),o=MP(n,r),s=jO(e.serverSyncTree_,t),u=tD(o,s,a),c=UD(e),l=PO(e.serverSyncTree_,t,u,c,!0);xD(e.eventQueue_,l),e.server_.put(t.toString(),o.val(!0),(function(n,r){var a="ok"===n;a||$S("set at "+t+" failed: "+n);var o=OO(e.serverSyncTree_,c,!a);SD(e.eventQueue_,t,o),GD(e,i,n,r)}));var h=nL(e,t);ZD(e,h),SD(e.eventQueue_,h,[])}function zD(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&sR(e.onDisconnect_,t),GD(e,n,r,i)}))}function VD(e,t,n,r){var i=MP(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,a){"ok"===n&&oR(e.onDisconnect_,t,i),GD(e,r,n,a)}))}function qD(e,t,n){var r;r=".info"===VN(t._path)?LO(e.infoSyncTree_,t,n):LO(e.serverSyncTree_,t,n),TD(e.eventQueue_,t._path,r)}function WD(e){e.persistentConnection_&&e.persistentConnection_.interrupt(RD)}function HD(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];KS.apply(void 0,[t].concat(r))}function GD(e,t,n,r){t&&pN((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var a=new Error(i);a.code=e,t(a)}}))}function YD(e,t,n){return jO(e.serverSyncTree_,t,n)||DP.EMPTY_NODE}function KD(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||tL(e,t),aD(t)){var n=$D(e,t);Xs(n.length>0,"Sending zero length transaction queue");var r=n.every((function(e){return 0===e.status}));r&&JD(e,lD(t),n)}else sD(t)&&uD(t,(function(t){KD(e,t)}))}function JD(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=YD(e,t,r),a=i,o=i.hash(),s=0;s<n.length;s++){var u=n[s];Xs(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=ZN(t,u.path);a=a.updateChild(c,u.currentOutputSnapshotRaw)}var l=a.val(!0),h=t;e.server_.put(h.toString(),l,(function(r){HD(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(OO(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)o(s);tL(e,iD(e.transactionQueueTree_,t)),KD(e,e.transactionQueueTree_),SD(e.eventQueue_,t,i);for(var u=0;u<a.length;u++)pN(a[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{$S("transaction at "+h.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}ZD(e,t)}}),o)}function ZD(e,t){var n=XD(e,t),r=lD(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})),o=a.map((function(e){return e.currentWriteId})),s=function(a){var s,u=t[a],c=ZN(n,u.path),l=!1,h=void 0;if(Xs(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,h=u.abortReason,i=i.concat(OO(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=25)l=!0,h="maxretry",i=i.concat(OO(e.serverSyncTree_,u.currentWriteId,!0));else{var f=YD(e,u.path,o);u.currentInputSnapshot=f;var d=t[a].update(f.val());if(void 0!==d){AD("transaction failed: Data returned ",d,u.path);var p=MP(d);"object"===typeof d&&null!=d&&_u(d,".priority")||(p=p.updatePriority(f.getPriority()));var v=u.currentWriteId,m=MD(e),g=tD(p,f,m);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=g,u.currentWriteId=UD(e),o.splice(o.indexOf(v),1),i=(i=i.concat(PO(e.serverSyncTree_,u.path,g,u.currentWriteId,u.applyLocally))).concat(OO(e.serverSyncTree_,v,!0))}else l=!0,h="nodata",i=i.concat(OO(e.serverSyncTree_,u.currentWriteId,!0))}SD(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===h?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(h),!1,null)}))))},u=0;u<t.length;u++)s(u);tL(e,e.transactionQueueTree_);for(var c=0;c<r.length;c++)pN(r[c]);KD(e,e.transactionQueueTree_)}(e,$D(e,n),r),r}function XD(e,t){var n,r=e.transactionQueueTree_;for(n=VN(t);null!==n&&void 0===aD(r);)r=iD(r,n),n=VN(t=WN(t));return r}function $D(e,t){var n=[];return eL(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function eL(e,t,n){var r=aD(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);uD(t,(function(t){eL(e,t,n)}))}function tL(e,t){var n=aD(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,oD(t,n.length>0?n:void 0)}uD(t,(function(t){tL(e,t)}))}function nL(e,t){var n=lD(XD(e,t)),r=iD(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){rL(e,t)})),rL(e,r),cD(r,(function(t){rL(e,t)})),n}function rL(e,t){var n=aD(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Xs(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Xs(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(OO(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?oD(t,void 0):n.length=a+1,SD(e.eventQueue_,lD(t),i);for(var s=0;s<r.length;s++)pN(r[s])}}var iL=function(e,t){var n=aL(e),r=n.namespace;"firebase.com"===n.domain&&XS(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||XS("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new _N(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new QN(n.pathString)}},aL=function(e){var t="",n="",r="",i="",a="",o=!0,s="https",u=443;if("string"===typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(l,h)),l<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(NM){}t+="/"+i}return t}(e.substring(l,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=Or(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):$S("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(c=t.indexOf(":"))>=0?(o="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:o,scheme:s,pathString:i,namespace:a}},oL=function(){function e(t,n,r,i){Ot(this,e),this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}return Lt(e,[{key:"getPath",value:function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}},{key:"getEventType",value:function(){return this.eventType}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.getPath().toString()+":"+this.eventType+":"+wu(this.snapshot.exportVal())}}]),e}(),sL=function(){function e(t,n,r){Ot(this,e),this.eventRegistration=t,this.error=n,this.path=r}return Lt(e,[{key:"getPath",value:function(){return this.path}},{key:"getEventType",value:function(){return"cancel"}},{key:"getEventRunner",value:function(){return this.eventRegistration.getEventRunner(this)}},{key:"toString",value:function(){return this.path.toString()+":cancel"}}]),e}(),uL=function(){function e(t,n){Ot(this,e),this.snapshotCallback=t,this.cancelCallback=n}return Lt(e,[{key:"onValue",value:function(e,t){this.snapshotCallback.call(null,e,t)}},{key:"onCancel",value:function(e){return Xs(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}},{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}},{key:"matches",value:function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}]),e}(),cL=function(){function e(t,n){Ot(this,e),this._repo=t,this._path=n}return Lt(e,[{key:"cancel",value:function(){var e=new ou;return zD(this._repo,this._path,e.wrapCallback((function(){}))),e.promise}},{key:"remove",value:function(){ED("OnDisconnect.remove",this._path);var e=new ou;return VD(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise}},{key:"set",value:function(e){ED("OnDisconnect.set",this._path),yD("OnDisconnect.set",e,this._path,!1);var t=new ou;return VD(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}},{key:"setWithPriority",value:function(e,t){ED("OnDisconnect.setWithPriority",this._path),yD("OnDisconnect.setWithPriority",e,this._path,!1),wD("OnDisconnect.setWithPriority",t,!1);var n=new ou;return function(e,t,n,r,i){var a=MP(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(function(n,r){"ok"===n&&oR(e.onDisconnect_,t,a),GD(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise}},{key:"update",value:function(e){ED("OnDisconnect.update",this._path),kD("OnDisconnect.update",e,this._path,!1);var t=new ou;return function(e,t,n,r){if(Cu(n))return KS("onDisconnect().update() called with empty data.  Don't do anything."),void GD(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,a){"ok"===i&&uN(n,(function(n,r){var i=MP(r);oR(e.onDisconnect_,KN(t,n),i)})),GD(0,r,i,a)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise}}]),e}(),lL=function(){function e(t,n,r,i){Ot(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Lt(e,[{key:"key",get:function(){return JN(this._path)?null:HN(this._path)}},{key:"ref",get:function(){return new pL(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=nR(this._queryParams),t=oN(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return nR(this._queryParams)}},{key:"isEqual",value:function(t){if(!((t=Qu(t))instanceof e))return!1;var n=this._repo===t._repo,r=$N(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}]),e}();function hL(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function fL(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===hP){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==tN)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==nN)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===TP){if(null!=t&&!gD(t)||null!=n&&!gD(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(Xs(e.getIndex()instanceof jP||e.getIndex()===FP,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function dL(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var pL=function(e){En(n,e);var t=Sn(n);function n(e,r){return Ot(this,n),t.call(this,e,r,new ZP,!1)}return Lt(n,[{key:"parent",get:function(){var e=YN(this._path);return null===e?null:new n(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),n}(lL),vL=function(){function e(t,n,r){Ot(this,e),this._node=t,this.ref=n,this._index=r}return Lt(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}},{key:"child",value:function(t){var n=new QN(t),r=yL(this.ref,t);return new e(this._node.getChild(n),r,TP)}},{key:"exists",value:function(){return!this._node.isEmpty()}},{key:"exportVal",value:function(){return this._node.val(!0)}},{key:"forEach",value:function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,yL(n.ref,r),TP))}))}},{key:"hasChild",value:function(e){var t=new QN(e);return!this._node.getChild(t).isEmpty()}},{key:"hasChildren",value:function(){return!this._node.isLeafNode()&&!this._node.isEmpty()}},{key:"toJSON",value:function(){return this.exportVal()}},{key:"val",value:function(){return this._node.val()}}]),e}();function mL(e,t){return(e=Qu(e))._checkNotDeleted("ref"),void 0!==t?yL(e._root,t):e._root}function gL(e,t){(e=Qu(e))._checkNotDeleted("refFromURL");var n=iL(t,e._repo.repoInfo_.nodeAdmin);CD("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||XS("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),mL(e,n.path.toString())}function yL(e,t){var n,r,i,a;return null===VN((e=Qu(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),_D(n,r,i,a)):_D("child","path",t,!1),new pL(e._repo,KN(e._path,t))}function AL(e,t){e=Qu(e),ED("push",e._path),yD("push",t,e._path,!0);var n,r=LD(e._repo),i=QP(r),a=yL(e,i),o=yL(e,i);return n=null!=t?wL(o,t).then((function(){return o})):Promise.resolve(o),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function kL(e){return ED("remove",e._path),wL(e,null)}function wL(e,t){e=Qu(e),ED("set",e._path),yD("set",t,e._path,!1);var n=new ou;return QD(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function bL(e,t){e=Qu(e),ED("setPriority",e._path),wD("setPriority",t,!1);var n=new ou;return QD(e._repo,KN(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function _L(e,t,n){if(ED("setWithPriority",e._path),yD("setWithPriority",t,e._path,!1),wD("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new ou;return QD(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function EL(e,t){kD("update",t,e._path,!1);var n=new ou;return function(e,t,n,r){HD(e,"update",{path:t.toString(),value:n});var i=!0,a=MD(e),o={};if(uN(n,(function(n,r){i=!1,o[n]=eD(KN(t,n),MP(r),e.serverSyncTree_,a)})),i)KS("update() called with empty data.  Don't do anything."),GD(0,r,"ok",void 0);else{var s=UD(e),u=RO(e.serverSyncTree_,t,o,s);xD(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var a="ok"===n;a||$S("update at "+t+" failed: "+n);var o=OO(e.serverSyncTree_,s,!a),u=o.length>0?ZD(e,t):t;SD(e.eventQueue_,u,o),GD(0,r,n,i)})),uN(n,(function(n){var r=nL(e,KN(t,n));ZD(e,r)})),SD(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function CL(e){return function(e,t){var n=BO(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=MP(n).withIndex(t._queryParams.getIndex()),i=DO(e.serverSyncTree_,t._path,r);return TD(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return HD(e,"get for query "+wu(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=Qu(e))._repo,e).then((function(t){return new vL(t,new pL(e._repo,e._path),e._queryParams.getIndex())}))}var IL=function(){function e(t){Ot(this,e),this.callbackContext=t}return Lt(e,[{key:"respondsTo",value:function(e){return"value"===e}},{key:"createEvent",value:function(e,t){var n=t._queryParams.getIndex();return new oL("value",this,new vL(e.snapshotNode,new pL(t._repo,t._path),n))}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new sL(this,e,t):null}},{key:"matches",value:function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}},{key:"hasAnyCallback",value:function(){return null!==this.callbackContext}}]),e}(),xL=function(){function e(t,n){Ot(this,e),this.eventType=t,this.callbackContext=n}return Lt(e,[{key:"respondsTo",value:function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}},{key:"createCancelEvent",value:function(e,t){return this.callbackContext.hasCancelCallback?new sL(this,e,t):null}},{key:"createEvent",value:function(e,t){Xs(null!=e.childName,"Child events should have a childName.");var n=yL(new pL(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new oL(e.type,this,new vL(e.snapshotNode,n,r),e.prevName)}},{key:"getEventRunner",value:function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}}},{key:"matches",value:function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))}},{key:"hasAnyCallback",value:function(){return!!this.callbackContext}}]),e}();function TL(e,t,n,r,i){var a;if("object"===typeof r&&(a=void 0,i=r),"function"===typeof r&&(a=r),i&&i.onlyOnce){var o=n,s=function(t,n){qD(e._repo,e,c),o(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new uL(n,a||void 0),c="value"===t?new IL(u):new xL(t,u);return function(e,t,n){var r;r=".info"===VN(t._path)?MO(e.infoSyncTree_,t,n):MO(e.serverSyncTree_,t,n),TD(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return qD(e._repo,e,c)}}function SL(e,t,n,r){return TL(e,"value",t,n,r)}function NL(e,t,n,r){return TL(e,"child_added",t,n,r)}function PL(e,t,n,r){return TL(e,"child_changed",t,n,r)}function RL(e,t,n,r){return TL(e,"child_moved",t,n,r)}function OL(e,t,n,r){return TL(e,"child_removed",t,n,r)}function DL(e,t,n){var r=null,i=n?new uL(n):null;"value"===t?r=new IL(i):t&&(r=new xL(t,i)),qD(e._repo,e,r)}var LL=Lt((function e(){Ot(this,e)})),ML=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){yD("endAt",this._value,e._path,!0);var t=$P(e._queryParams,this._value,this._key);if(dL(t),fL(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lL(e._repo,e._path,t,e._orderByCalled)}}]),n}(LL);function jL(e,t){return bD("endAt","key",t,!0),new ML(e,t)}var BL=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){yD("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===hP?("string"===typeof t&&(t=VP(t)),r=$P(e,t,n)):r=$P(e,t,null==n?tN:VP(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(dL(t),fL(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lL(e._repo,e._path,t,e._orderByCalled)}}]),n}(LL);function FL(e,t){return bD("endBefore","key",t,!0),new BL(e,t)}var UL=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){yD("startAt",this._value,e._path,!0);var t=XP(e._queryParams,this._value,this._key);if(dL(t),fL(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new lL(e._repo,e._path,t,e._orderByCalled)}}]),n}(LL);function QL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return bD("startAt","key",t,!0),new UL(e,t)}var zL=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){yD("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===hP?("string"===typeof t&&(t=zP(t)),r=XP(e,t,n)):r=XP(e,t,null==n?nN:zP(n)),r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(dL(t),fL(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new lL(e._repo,e._path,t,e._orderByCalled)}}]),n}(LL);function VL(e,t){return bD("startAfter","key",t,!0),new zL(e,t)}var qL=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this))._limit=e,r}return Lt(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new lL(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(LL);function WL(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new qL(e)}var HL=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this))._limit=e,r}return Lt(n,[{key:"_apply",value:function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new lL(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}]),n}(LL);function GL(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new HL(e)}var YL=function(e){En(n,e);var t=Sn(n);function n(e){var r;return Ot(this,n),(r=t.call(this))._path=e,r}return Lt(n,[{key:"_apply",value:function(e){hL(e,"orderByChild");var t=new QN(this._path);if(JN(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new jP(t),r=eR(e._queryParams,n);return fL(r),new lL(e._repo,e._path,r,!0)}}]),n}(LL);function KL(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return _D("orderByChild","path",e,!1),new YL(e)}var JL=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_apply",value:function(e){hL(e,"orderByKey");var t=eR(e._queryParams,hP);return fL(t),new lL(e._repo,e._path,t,!0)}}]),n}(LL);function ZL(){return new JL}var XL=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_apply",value:function(e){hL(e,"orderByPriority");var t=eR(e._queryParams,TP);return fL(t),new lL(e._repo,e._path,t,!0)}}]),n}(LL);function $L(){return new XL}var eM=function(e){En(n,e);var t=Sn(n);function n(){return Ot(this,n),t.apply(this,arguments)}return Lt(n,[{key:"_apply",value:function(e){hL(e,"orderByValue");var t=eR(e._queryParams,FP);return fL(t),new lL(e._repo,e._path,t,!0)}}]),n}(LL);function tM(){return new eM}var nM=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this))._value=e,i._key=r,i}return Lt(n,[{key:"_apply",value:function(e){if(yD("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new ML(this._value,this._key)._apply(new UL(this._value,this._key)._apply(e))}}]),n}(LL);function rM(e,t){return bD("equalTo","key",t,!0),new nM(e,t)}function iM(e){for(var t=Qu(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];t=s._apply(t)}return t}!function(e){Xs(!lO,"__referenceConstructor has already been defined"),lO=e}(pL),function(e){Xs(!gO,"__referenceConstructor has already been defined"),gO=e}(pL);var aM={},oM=!1;function sM(e,t,n,r){e.repoInfo_=new _N("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}function uM(e,t,n,r,i){var a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||XS("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),KS("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));var o,s=iL(a,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_APIKEY:"AIzaSyBr3oicVK6A2HCae8JeOgCQUBlfXlNJErQ",REACT_APP_FIREBASE_APPID:"1:981501370218:web:fb207fb7d836dce3118f13",REACT_APP_FIREBASE_AUTHDOMAIN:"heladeria-ecommerce.firebaseapp.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"981501370218",REACT_APP_FIREBASE_PROJECTID:"heladeria-ecommerce",REACT_APP_FIREBASE_STORAGEBUCKET:"heladeria-ecommerce.appspot.com"}.FIREBASE_DATABASE_EMULATOR_HOST),c?(o=!0,a="http://".concat(c,"?ns=").concat(u.namespace),u=(s=iL(a,i)).repoInfo):o=!s.repoInfo.secure;var l=i&&o?new yN(yN.OWNER):new gN(e.name,e.options,t);CD("Invalid Firebase Database URL",s),JN(s.path)||XS("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=aM[t.name];i||(i={},aM[t.name]=i);var a=i[e.toURLString()];a&&XS("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new OD(e,oM,n,r),i[e.toURLString()]=a,a}(u,e,l,new mN(e.name,n));return new cM(h,e)}var cM=function(){function e(t,n){Ot(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Lt(e,[{key:"_repo",get:function(){return this._instanceStarted||(DD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new pL(this._repo,zN())),this._rootInternal}},{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=aM[t];n&&n[e.key]===e||XS("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),WD(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&XS("Cannot call "+e+" on a deleted database.")}}]),e}();function lM(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(e=Qu(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&XS("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&XS('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new yN(yN.OWNER);else if(r.mockUserToken){var o="string"===typeof r.mockUserToken?r.mockUserToken:su(r.mockUserToken,e.app.options.projectId);a=new yN(o)}sM(i,t,n,a)}function hM(e){(e=Qu(e))._checkNotDeleted("goOffline"),WD(e._repo)}function fM(e){var t;(e=Qu(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(RD)}function dM(e,t){YS(e,t)}var pM={".sv":"timestamp"};var vM=function(){function e(t,n){Ot(this,e),this.committed=t,this.snapshot=n}return Lt(e,[{key:"toJSON",value:function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}();function mM(e,t,n){var r;if(e=Qu(e),ED("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new ou,o=SL(e,(function(){}));return function(e,t,n,r,i,a){HD(e,"transaction on "+t);var o={path:t,update:n,onComplete:r,status:null,order:VS(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},s=YD(e,t,void 0);o.currentInputSnapshot=s;var u=o.update(s.val());if(void 0===u)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{AD("transaction failed: Data returned ",u,o.path),o.status=0;var c,l=iD(e.transactionQueueTree_,t),h=aD(l)||[];h.push(o),oD(l,h),"object"===typeof u&&null!==u&&_u(u,".priority")?(c=Eu(u,".priority"),Xs(gD(c),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):c=(jO(e.serverSyncTree_,t)||DP.EMPTY_NODE).getPriority().val();var f=MD(e),d=MP(u,c),p=tD(d,s,f);o.currentOutputSnapshotRaw=d,o.currentOutputSnapshotResolved=p,o.currentWriteId=UD(e);var v=PO(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);SD(e.eventQueue_,t,v),KD(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new vL(r,new pL(e._repo,e._path),TP),a.resolve(new vM(n,i)))}),o,i),a.promise}oP.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},oP.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){MS(kc),fc(new zu("database",(function(e,t){var n=t.instanceIdentifier;return uM(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Ic(OS,DS,e),Ic(OS,DS,"esm2017")}();var gM=new tc("@firebase/database-compat"),yM=function(e){var t="FIREBASE WARNING: "+e;gM.warn(t)},AM=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(ju(e,t)+"must be a boolean.")},kM=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(ju(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},wM=function(){function e(t){Ot(this,e),this._delegate=t}return Lt(e,[{key:"cancel",value:function(e){Mu("OnDisconnect.cancel",0,1,arguments.length),Bu("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"remove",value:function(e){Mu("OnDisconnect.remove",0,1,arguments.length),Bu("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"set",value:function(e,t){Mu("OnDisconnect.set",1,2,arguments.length),Bu("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"setWithPriority",value:function(e,t,n){Mu("OnDisconnect.setWithPriority",2,3,arguments.length),Bu("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"update",value:function(e,t){if(Mu("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,yM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Bu("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}}]),e}(),bM=function(){function e(t,n){Ot(this,e),this.committed=t,this.snapshot=n}return Lt(e,[{key:"toJSON",value:function(){return Mu("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}]),e}(),_M=function(){function e(t,n){Ot(this,e),this._database=t,this._delegate=n}return Lt(e,[{key:"val",value:function(){return Mu("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}},{key:"exportVal",value:function(){return Mu("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}},{key:"toJSON",value:function(){return Mu("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"exists",value:function(){return Mu("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}},{key:"child",value:function(t){return Mu("DataSnapshot.child",0,1,arguments.length),t=String(t),_D("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}},{key:"hasChild",value:function(e){return Mu("DataSnapshot.hasChild",1,1,arguments.length),_D("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}},{key:"getPriority",value:function(){return Mu("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}},{key:"forEach",value:function(t){var n=this;return Mu("DataSnapshot.forEach",1,1,arguments.length),Bu("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))}},{key:"hasChildren",value:function(){return Mu("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}},{key:"key",get:function(){return this._delegate.key}},{key:"numChildren",value:function(){return Mu("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}},{key:"getRef",value:function(){return Mu("DataSnapshot.ref",0,0,arguments.length),new CM(this._database,this._delegate.ref)}},{key:"ref",get:function(){return this.getRef()}}]),e}(),EM=function(){function e(t,n){Ot(this,e),this.database=t,this._delegate=n}return Lt(e,[{key:"on",value:function(t,n,r,i){var a,o=this;Mu("Query.on",2,4,arguments.length),Bu("Query.on","callback",n,!1);var s=e.getCancelAndContextArgs_("Query.on",r,i),u=function(e,t){n.call(s.context,new _M(o.database,e),t)};u.userCallback=n,u.context=s.context;var c=null===(a=s.cancel)||void 0===a?void 0:a.bind(s.context);switch(t){case"value":return SL(this._delegate,u,c),n;case"child_added":return NL(this._delegate,u,c),n;case"child_removed":return OL(this._delegate,u,c),n;case"child_changed":return PL(this._delegate,u,c),n;case"child_moved":return RL(this._delegate,u,c),n;default:throw new Error(ju("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}},{key:"off",value:function(e,t,n){if(Mu("Query.off",0,3,arguments.length),kM("Query.off",e,!0),Bu("Query.off","callback",t,!0),Fu("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,DL(this._delegate,e,r)}else DL(this._delegate,e)}},{key:"get",value:function(){var e=this;return CL(this._delegate).then((function(t){return new _M(e.database,t)}))}},{key:"once",value:function(t,n,r,i){var a=this;Mu("Query.once",1,4,arguments.length),Bu("Query.once","callback",n,!0);var o=e.getCancelAndContextArgs_("Query.once",r,i),s=new ou,u=function(e,t){var r=new _M(a.database,e);n&&n.call(o.context,r,t),s.resolve(r)};u.userCallback=n,u.context=o.context;var c=function(e){o.cancel&&o.cancel.call(o.context,e),s.reject(e)};switch(t){case"value":SL(this._delegate,u,c,{onlyOnce:!0});break;case"child_added":NL(this._delegate,u,c,{onlyOnce:!0});break;case"child_removed":OL(this._delegate,u,c,{onlyOnce:!0});break;case"child_changed":PL(this._delegate,u,c,{onlyOnce:!0});break;case"child_moved":RL(this._delegate,u,c,{onlyOnce:!0});break;default:throw new Error(ju("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}},{key:"limitToFirst",value:function(t){return Mu("Query.limitToFirst",1,1,arguments.length),new e(this.database,iM(this._delegate,WL(t)))}},{key:"limitToLast",value:function(t){return Mu("Query.limitToLast",1,1,arguments.length),new e(this.database,iM(this._delegate,GL(t)))}},{key:"orderByChild",value:function(t){return Mu("Query.orderByChild",1,1,arguments.length),new e(this.database,iM(this._delegate,KL(t)))}},{key:"orderByKey",value:function(){return Mu("Query.orderByKey",0,0,arguments.length),new e(this.database,iM(this._delegate,ZL()))}},{key:"orderByPriority",value:function(){return Mu("Query.orderByPriority",0,0,arguments.length),new e(this.database,iM(this._delegate,$L()))}},{key:"orderByValue",value:function(){return Mu("Query.orderByValue",0,0,arguments.length),new e(this.database,iM(this._delegate,tM()))}},{key:"startAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Mu("Query.startAt",0,2,arguments.length),new e(this.database,iM(this._delegate,QL(t,n)))}},{key:"startAfter",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Mu("Query.startAfter",0,2,arguments.length),new e(this.database,iM(this._delegate,VL(t,n)))}},{key:"endAt",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Mu("Query.endAt",0,2,arguments.length),new e(this.database,iM(this._delegate,jL(t,n)))}},{key:"endBefore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return Mu("Query.endBefore",0,2,arguments.length),new e(this.database,iM(this._delegate,FL(t,n)))}},{key:"equalTo",value:function(t,n){return Mu("Query.equalTo",1,2,arguments.length),new e(this.database,iM(this._delegate,rM(t,n)))}},{key:"toString",value:function(){return Mu("Query.toString",0,0,arguments.length),this._delegate.toString()}},{key:"toJSON",value:function(){return Mu("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}},{key:"isEqual",value:function(t){if(Mu("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}},{key:"ref",get:function(){return new CM(this.database,new pL(this._delegate._repo,this._delegate._path))}}],[{key:"getCancelAndContextArgs_",value:function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,Bu(e,"cancel",r.cancel,!0),r.context=n,Fu(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error(ju(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}}]),e}(),CM=function(e){En(n,e);var t=Sn(n);function n(e,r){var i;return Ot(this,n),(i=t.call(this,e,new lL(r._repo,r._path,new ZP,!1))).database=e,i._delegate=r,i}return Lt(n,[{key:"getKey",value:function(){return Mu("Reference.key",0,0,arguments.length),this._delegate.key}},{key:"child",value:function(e){return Mu("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new n(this.database,yL(this._delegate,e))}},{key:"getParent",value:function(){Mu("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new n(this.database,e):null}},{key:"getRoot",value:function(){return Mu("Reference.root",0,0,arguments.length),new n(this.database,this._delegate.root)}},{key:"set",value:function(e,t){Mu("Reference.set",1,2,arguments.length),Bu("Reference.set","onComplete",t,!0);var n=wL(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"update",value:function(e,t){if(Mu("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,yM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ED("Reference.update",this._delegate._path),Bu("Reference.update","onComplete",t,!0);var i=EL(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i}},{key:"setWithPriority",value:function(e,t,n){Mu("Reference.setWithPriority",2,3,arguments.length),Bu("Reference.setWithPriority","onComplete",n,!0);var r=_L(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r}},{key:"remove",value:function(e){Mu("Reference.remove",0,1,arguments.length),Bu("Reference.remove","onComplete",e,!0);var t=kL(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t}},{key:"transaction",value:function(e,t,n){var r=this;Mu("Reference.transaction",1,3,arguments.length),Bu("Reference.transaction","transactionUpdate",e,!1),Bu("Reference.transaction","onComplete",t,!0),AM("Reference.transaction","applyLocally",n,!0);var i=mM(this._delegate,e,{applyLocally:n}).then((function(e){return new bM(e.committed,new _M(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i}},{key:"setPriority",value:function(e,t){Mu("Reference.setPriority",1,2,arguments.length),Bu("Reference.setPriority","onComplete",t,!0);var n=bL(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n}},{key:"push",value:function(e,t){var r=this;Mu("Reference.push",0,2,arguments.length),Bu("Reference.push","onComplete",t,!0);var i=AL(this._delegate,e),a=i.then((function(e){return new n(r.database,e)}));t&&a.then((function(){return t(null)}),(function(e){return t(e)}));var o=new n(this.database,i);return o.then=a.then.bind(a),o.catch=a.catch.bind(a,void 0),o}},{key:"onDisconnect",value:function(){return ED("Reference.onDisconnect",this._delegate._path),new wM(new cL(this._delegate._repo,this._delegate._path))}},{key:"key",get:function(){return this.getKey()}},{key:"parent",get:function(){return this.getParent()}},{key:"root",get:function(){return this.getRoot()}}]),n}(EM),IM=function(){function e(t,n){var r=this;Ot(this,e),this._delegate=t,this.app=n,this.INTERNAL={delete:function(){return r._delegate._delete()}}}return Lt(e,[{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};lM(this._delegate,e,t,n)}},{key:"ref",value:function(e){if(Mu("database.ref",0,1,arguments.length),e instanceof CM){var t=gL(this._delegate,e.toString());return new CM(this,t)}var n=mL(this._delegate,e);return new CM(this,n)}},{key:"refFromURL",value:function(e){var t="database.refFromURL";Mu(t,1,1,arguments.length);var n=gL(this._delegate,e);return new CM(this,n)}},{key:"goOffline",value:function(){return Mu("database.goOffline",0,0,arguments.length),hM(this._delegate)}},{key:"goOnline",value:function(){return Mu("database.goOnline",0,0,arguments.length),fM(this._delegate)}}]),e}();IM.ServerValue={TIMESTAMP:pM,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}};var xM=Object.freeze({__proto__:null,initStandalone:function(e){var t=e.app,n=e.url,r=e.version,i=e.customAuthImpl,a=e.namespace,o=e.nodeAdmin,s=void 0!==o&&o;MS(r);var u=new qu("auth-internal",new Gu("database-standalone"));return u.setComponent(new zu("auth-internal",(function(){return i}),"PRIVATE")),{instance:new IM(uM(t,u,void 0,n,s),t),namespace:a}}}),TM=IM.ServerValue;!function(e){e.INTERNAL.registerComponent(new zu("database-compat",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:n});return new IM(i,r)}),"PUBLIC").setServiceProps({Reference:CM,Query:EM,Database:IM,DataSnapshot:_M,enableLogging:dM,INTERNAL:xM,ServerValue:TM}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.1.5")}(kb);var SM=kb.initializeApp({apiKey:"AIzaSyBr3oicVK6A2HCae8JeOgCQUBlfXlNJErQ",authDomain:"heladeria-ecommerce.firebaseapp.com",projectId:"heladeria-ecommerce",storageBucket:"heladeria-ecommerce.appspot.com",messagingSenderId:"981501370218",appId:"1:981501370218:web:fb207fb7d836dce3118f13"}).auth();i.render((0,me.jsx)(t.StrictMode,{children:(0,me.jsx)(fb,{})}),document.getElementById("root")),db()}()}();
//# sourceMappingURL=main.1e9dd7bd.js.map