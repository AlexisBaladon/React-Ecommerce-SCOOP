{"ast":null,"code":"import _slicedToArray from\"F:\\\\reactApp\\\\heladeria-e-commerce-baladon\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useRef,useState}from'react';import{Alert,Button,CloseButton,Form,Modal}from'react-bootstrap';import'./signup.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Signup=function Signup(_ref){var show=_ref.show,onHide=_ref.onHide,openLogin=_ref.openLogin,signup=_ref.signup;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),alertMessage=_useState2[0],setAlertMessage=_useState2[1];var emailRef=useRef(null);var password1Ref=useRef(null);var password2Ref=useRef(null);var handleSubmit=function handleSubmit(e){//Prevents page reload\ne.preventDefault();try{var _emailRef$current,_password1Ref$current,_password2Ref$current;//Ref destructuring\nvar _email=emailRef===null||emailRef===void 0?void 0:(_emailRef$current=emailRef.current)===null||_emailRef$current===void 0?void 0:_emailRef$current.value,password1=(_password1Ref$current=password1Ref.current)===null||_password1Ref$current===void 0?void 0:_password1Ref$current.value,password2=(_password2Ref$current=password2Ref.current)===null||_password2Ref$current===void 0?void 0:_password2Ref$current.value;if(password1===undefined)throw new Error(\"El campo de contraseña debe ser completado\");if(_email===undefined)throw new Error(\"El campo de email debe ser completado\");if(password1!==password2)throw new Error(\"Las contraseñas no coinciden\");if(password1.length<6)throw new Error(\"La contraseña debe tener más de 6 dígitos\");signup(_email,password1);setAlertMessage({message:\"Cuenta creada satisfactoriamente!\",variant:\"success\"});}catch(err){if(err instanceof Error){setAlertMessage({message:err.message,variant:\"danger\"});}}};return/*#__PURE__*/_jsxs(Modal,{id:\"modal-signup\",show:show,\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsxs(Modal.Header,{id:\"header-signup\",children:[/*#__PURE__*/_jsx(Modal.Title,{children:\" Registro \"}),/*#__PURE__*/_jsx(CloseButton,{variant:\"white\",onClick:onHide})]}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Correo electr\\xF3nico \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Contrase\\xF1a \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:password1Ref,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"my-2\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Confirmar contrase\\xF1a \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:password2Ref,required:true})]}),/*#__PURE__*/_jsx(Button,{className:\"w-100 my-4 button-signup-modal\",type:\"submit\",children:\"Registrarse\"}),/*#__PURE__*/_jsxs(Form.Label,{children:[\"Ya tienes cuenta? \",/*#__PURE__*/_jsx(\"span\",{onClick:openLogin,children:\"Inicia sesi\\xF3n\"})]}),alertMessage&&/*#__PURE__*/_jsx(Alert,{variant:alertMessage.variant,children:alertMessage.message})]})})]});};export default Signup;","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/components/sessions/signup.tsx"],"names":["React","useRef","useState","Alert","Button","CloseButton","Form","Modal","Signup","show","onHide","openLogin","signup","alertMessage","setAlertMessage","emailRef","password1Ref","password2Ref","handleSubmit","e","preventDefault","email","current","value","password1","password2","undefined","Error","length","message","variant","err"],"mappings":"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","sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { Alert, Button, CloseButton, Form, Modal } from 'react-bootstrap';\r\n\r\nimport './signup.css'\r\n\r\ninterface IProps {\r\n  show: boolean;\r\n  onHide: () => any;\r\n  openLogin: () => any;\r\n  signup: (email: string, password: string) => Promise<any>;\r\n}\r\n\r\nconst Signup: React.FC<IProps> = ({show, onHide, openLogin, signup}) => {\r\n  interface IAlert {\r\n    message: string;\r\n    variant: string;\r\n  }\r\n\r\n  const [alertMessage, setAlertMessage] = useState<IAlert | null>(null);\r\n  const emailRef = useRef<HTMLInputElement>(null);\r\n  const password1Ref = useRef<HTMLInputElement>(null);\r\n  const password2Ref = useRef<HTMLInputElement>(null);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    //Prevents page reload\r\n    e.preventDefault();\r\n \r\n    try {\r\n      //Ref destructuring\r\n      const [email, password1, password2]: [string | undefined, string | undefined, string | undefined] = \r\n            [emailRef?.current?.value, password1Ref.current?.value, password2Ref.current?.value];\r\n\r\n      if (password1 === undefined) throw new Error(\"El campo de contraseña debe ser completado\");\r\n      if (email     === undefined) throw new Error(\"El campo de email debe ser completado\");\r\n      if (password1 !== password2) throw new Error(\"Las contraseñas no coinciden\");\r\n      if (password1.length < 6) throw new Error(\"La contraseña debe tener más de 6 dígitos\");\r\n      \r\n      signup(email, password1);\r\n      setAlertMessage({message: \"Cuenta creada satisfactoriamente!\", variant: \"success\"});\r\n    }\r\n    catch(err: any) {\r\n      if (err instanceof Error) {\r\n        setAlertMessage({message: err.message, variant: \"danger\"});\r\n      }\r\n    }\r\n  }\r\n\r\n  return <Modal id=\"modal-signup\"\r\n                show={show}\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered>\r\n      <Modal.Header id=\"header-signup\">\r\n        <Modal.Title> Registro </Modal.Title>\r\n        <CloseButton variant=\"white\" onClick={onHide} />\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Correo electrónico </Form.Label>\r\n            <Form.Control type=\"email\" ref={emailRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Contraseña </Form.Label>\r\n            <Form.Control type=\"password\" ref={password1Ref} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Confirmar contraseña </Form.Label>\r\n            <Form.Control type=\"password\" ref={password2Ref} required></Form.Control>\r\n          </Form.Group>\r\n          <Button className=\"w-100 my-4 button-signup-modal\" type=\"submit\">Registrarse</Button>\r\n          <Form.Label>Ya tienes cuenta? <span onClick={openLogin}>Inicia sesión</span></Form.Label>\r\n          {alertMessage && <Alert variant={alertMessage.variant}>{alertMessage.message}</Alert>}\r\n        </Form>\r\n      </Modal.Body>\r\n  </Modal>\r\n}\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}