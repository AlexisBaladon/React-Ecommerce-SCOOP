{"ast":null,"code":"import _slicedToArray from\"F:\\\\reactApp\\\\heladeria-e-commerce-baladon\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useRef,useState}from'react';import{Alert,Button,CloseButton,Form,Modal}from'react-bootstrap';import'./login.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var show=_ref.show,onHide=_ref.onHide,login=_ref.login,openRegister=_ref.openRegister;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),alertMessage=_useState2[0],setAlertMessage=_useState2[1];var emailRef=useRef(null);var passwordRef=useRef(null);var handleSubmit=function handleSubmit(e){//Prevents page reload\ne.preventDefault();try{var _emailRef$current,_passwordRef$current;//Ref destructuring\nvar _email=emailRef===null||emailRef===void 0?void 0:(_emailRef$current=emailRef.current)===null||_emailRef$current===void 0?void 0:_emailRef$current.value,password1=(_passwordRef$current=passwordRef.current)===null||_passwordRef$current===void 0?void 0:_passwordRef$current.value;if(password1===undefined)throw new Error(\"El campo de contraseña debe ser completado\");if(_email===undefined)throw new Error(\"El campo de email debe ser completado\");login(_email,password1);onHide();}catch(err){if(err instanceof Error){setAlertMessage({message:err.message,variant:\"danger\"});}}};return/*#__PURE__*/_jsxs(Modal,{id:\"modal-login\",show:show,\"aria-labelledby\":\"contained-modal-title-vcenter\",centered:true,children:[/*#__PURE__*/_jsxs(Modal.Header,{id:\"header-login\",children:[/*#__PURE__*/_jsx(Modal.Title,{children:\" Iniciar sesion \"}),/*#__PURE__*/_jsx(CloseButton,{variant:\"white\",onClick:onHide})]}),/*#__PURE__*/_jsxs(Modal.Body,{children:[/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Correo electr\\xF3nico \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",ref:emailRef,required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\" Contrase\\xF1a \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",ref:passwordRef,required:true})]}),/*#__PURE__*/_jsx(Button,{className:\"button-login-modal w-100 my-4\",type:\"submit\",children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(Form.Label,{children:[\"No tienes cuenta? \",/*#__PURE__*/_jsx(\"span\",{onClick:openRegister,children:\"Reg\\xEDstrate\"})]})]}),alertMessage&&/*#__PURE__*/_jsx(Alert,{variant:alertMessage.variant,children:alertMessage.message})]})]});};export default Login;","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/components/sessions/login.tsx"],"names":["React","useRef","useState","Alert","Button","CloseButton","Form","Modal","Login","show","onHide","login","openRegister","alertMessage","setAlertMessage","emailRef","passwordRef","handleSubmit","e","preventDefault","email","current","value","password1","undefined","Error","err","message","variant"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,OAASC,KAAT,CAAgBC,MAAhB,CAA8BC,WAA9B,CAA2CC,IAA3C,CAAiDC,KAAjD,KAA8D,iBAA9D,CAEA,MAAO,aAAP,C,wFASA,GAAMC,CAAAA,KAAuB,CAAG,QAA1BA,CAAAA,KAA0B,MAAyC,IAAvCC,CAAAA,IAAuC,MAAvCA,IAAuC,CAAjCC,MAAiC,MAAjCA,MAAiC,CAAzBC,KAAyB,MAAzBA,KAAyB,CAAlBC,YAAkB,MAAlBA,YAAkB,CAMvE,cAAwCV,QAAQ,CAAgB,IAAhB,CAAhD,wCAAOW,YAAP,eAAqBC,eAArB,eACA,GAAMC,CAAAA,QAAQ,CAAGd,MAAM,CAAmB,IAAnB,CAAvB,CACA,GAAMe,CAAAA,WAAW,CAAGf,MAAM,CAAmB,IAAnB,CAA1B,CAEA,GAAMgB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAwB,CAC3C;AACAA,CAAC,CAACC,cAAF,GAEA,GAAI,4CACF;AACA,GAAOC,CAAAA,MAAP,CACOL,QADP,SACOA,QADP,oCACOA,QAAQ,CAAEM,OADjB,4CACO,kBAAmBC,KAD1B,CAAcC,SAAd,uBACiCP,WAAW,CAACK,OAD7C,+CACiC,qBAAqBC,KADtD,CAGA,GAAIC,SAAS,GAAKC,SAAlB,CAA6B,KAAM,IAAIC,CAAAA,KAAJ,CAAU,4CAAV,CAAN,CAC7B,GAAIL,MAAK,GAAKI,SAAd,CAAyB,KAAM,IAAIC,CAAAA,KAAJ,CAAU,uCAAV,CAAN,CAEzBd,KAAK,CAACS,MAAD,CAAQG,SAAR,CAAL,CACAb,MAAM,GACP,CACD,MAAMgB,GAAN,CAAgB,CACd,GAAIA,GAAG,WAAYD,CAAAA,KAAnB,CAA0B,CACxBX,eAAe,CAAC,CAACa,OAAO,CAAED,GAAG,CAACC,OAAd,CAAuBC,OAAO,CAAE,QAAhC,CAAD,CAAf,CACD,CACF,CACF,CApBD,CAsBA,mBAAO,MAAC,KAAD,EAAO,EAAE,CAAC,aAAV,CACO,IAAI,CAAEnB,IADb,CAEO,kBAAgB,+BAFvB,CAGO,QAAQ,KAHf,wBAIH,MAAC,KAAD,CAAO,MAAP,EAAc,EAAE,CAAC,cAAjB,wBACE,KAAC,KAAD,CAAO,KAAP,+BADF,cAEE,KAAC,WAAD,EAAa,OAAO,CAAC,OAArB,CAA6B,OAAO,CAAEC,MAAtC,EAFF,GAJG,cAQH,MAAC,KAAD,CAAO,IAAP,yBACE,MAAC,IAAD,EAAM,QAAQ,CAAEO,YAAhB,wBACE,MAAC,IAAD,CAAM,KAAN,yBACE,KAAC,IAAD,CAAM,KAAN,sCADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,OAAnB,CAA2B,GAAG,CAAEF,QAAhC,CAA0C,QAAQ,KAAlD,EAFF,GADF,cAKE,MAAC,IAAD,CAAM,KAAN,yBACE,KAAC,IAAD,CAAM,KAAN,8BADF,cAEE,KAAC,IAAD,CAAM,OAAN,EAAc,IAAI,CAAC,UAAnB,CAA8B,GAAG,CAAEC,WAAnC,CAAgD,QAAQ,KAAxD,EAFF,GALF,cASE,KAAC,MAAD,EAAQ,SAAS,CAAC,+BAAlB,CAAkD,IAAI,CAAC,QAAvD,+BATF,cAUE,MAAC,IAAD,CAAM,KAAN,8CAA8B,aAAM,OAAO,CAAEJ,YAAf,2BAA9B,GAVF,GADF,CAaGC,YAAY,eAAI,KAAC,KAAD,EAAO,OAAO,CAAEA,YAAY,CAACe,OAA7B,UAAuCf,YAAY,CAACc,OAApD,EAbnB,GARG,GAAP,CAwBD,CAxDD,CA0DA,cAAenB,CAAAA,KAAf","sourcesContent":["import React, { useRef, useState } from 'react'\r\nimport { Alert, Button, Card, CloseButton, Form, Modal } from 'react-bootstrap';\r\n\r\nimport './login.css'\r\n\r\ninterface IProps {\r\n  show: boolean;\r\n  onHide: () => any;\r\n  login: (email: string, password: string) => Promise<any>;\r\n  openRegister: () => any;\r\n}\r\n\r\nconst Login: React.FC<IProps> = ({show, onHide, login, openRegister}) => {\r\n  interface IAlert {\r\n    message: string;\r\n    variant: string;\r\n  }\r\n\r\n  const [alertMessage, setAlertMessage] = useState<IAlert | null>(null);\r\n  const emailRef = useRef<HTMLInputElement>(null);\r\n  const passwordRef = useRef<HTMLInputElement>(null);\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    //Prevents page reload\r\n    e.preventDefault();\r\n \r\n    try {\r\n      //Ref destructuring\r\n      const [email, password1]: [string | undefined, string | undefined] = \r\n            [emailRef?.current?.value, passwordRef.current?.value];\r\n\r\n      if (password1 === undefined) throw new Error(\"El campo de contraseña debe ser completado\");\r\n      if (email === undefined) throw new Error(\"El campo de email debe ser completado\");\r\n      \r\n      login(email, password1);\r\n      onHide();\r\n    }\r\n    catch(err: any) {\r\n      if (err instanceof Error) {\r\n        setAlertMessage({message: err.message, variant: \"danger\"});\r\n      }\r\n    }\r\n  }\r\n\r\n  return <Modal id=\"modal-login\"\r\n                show={show}\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered>\r\n      <Modal.Header id=\"header-login\">\r\n        <Modal.Title> Iniciar sesion </Modal.Title>\r\n        <CloseButton variant=\"white\" onClick={onHide} />\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label> Correo electrónico </Form.Label>\r\n            <Form.Control type=\"email\" ref={emailRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label> Contraseña </Form.Label>\r\n            <Form.Control type=\"password\" ref={passwordRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Button className=\"button-login-modal w-100 my-4\" type=\"submit\">Iniciar Sesión</Button>\r\n          <Form.Label>No tienes cuenta? <span onClick={openRegister}>Regístrate</span></Form.Label>\r\n        </Form>\r\n        {alertMessage && <Alert variant={alertMessage.variant}>{alertMessage.message}</Alert>}\r\n      </Modal.Body>\r\n  </Modal>\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}