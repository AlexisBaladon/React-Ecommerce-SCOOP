{"ast":null,"code":"import _slicedToArray from\"F:\\\\reactApp\\\\heladeria-e-commerce-baladon\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import ItemList from'./itemList';import Loading from'../../loading/loading';import'./itemListContainer.css';import{getItems,getItemsByCategory}from'../../../data/itemHandler';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ItemListContainer=function ItemListContainer(){//Parameters\nvar _useParams=useParams(),id=_useParams.id;//Showed items\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];useEffect(function(){//SetItem shouldn't be usesd after being unmounted\nvar isMounted=true;var setIfMounted=function setIfMounted(item){if(isMounted)setItems(item);};//Filters items in case of defining category \ntry{id!==undefined?getItemsByCategory(id,setIfMounted)://(setIfMounted);\ngetItems(setIfMounted);//getPromiseFilteredItems(catFilter, setIfMounted) :\n}catch(err){console.warn('No se ha podido encontrar el item');}return function(){isMounted=false;};},[id]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{id:\"item-list-container\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"store-title\",children:/*#__PURE__*/_jsx(\"h2\",{id:\"greeting\",children:\"Pide tus helados antes de que se derritan!\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"product-list\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"py-5\",children:\"Tienda\"}),items.length?/*#__PURE__*/_jsx(ItemList,{items:items}):/*#__PURE__*/_jsx(Loading,{})]})})]})});};export default ItemListContainer;","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/components/items/list/itemListContainer.tsx"],"names":["React","useEffect","useState","useParams","ItemList","Loading","getItems","getItemsByCategory","ItemListContainer","id","items","setItems","isMounted","setIfMounted","item","undefined","err","console","warn","length"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CAIA,MAAO,yBAAP,CACA,OAASC,QAAT,CAAmBC,kBAAnB,KAA6C,2BAA7C,C,6IAGA,GAAMC,CAAAA,iBAA+B,CAAG,QAAlCA,CAAAA,iBAAkC,EAAM,CAE5C;AACA,eAAeL,SAAS,EAAxB,CAAQM,EAAR,YAAQA,EAAR,CAEA;AACA,cAAyBP,QAAQ,CAAiB,EAAjB,CAAjC,wCAAOQ,KAAP,eAAaC,QAAb,eAEAV,SAAS,CAAC,UAAM,CAEd;AACA,GAAIW,CAAAA,SAAS,CAAG,IAAhB,CACA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAA0B,CAC7C,GAAIF,SAAJ,CAAeD,QAAQ,CAACG,IAAD,CAAR,CAChB,CAFD,CAIA;AACA,GAAI,CACDL,EAAE,GAAKM,SAAR,CACAR,kBAAkB,CAACE,EAAD,CAAII,YAAJ,CADlB,CACoC;AACpCP,QAAQ,CAACO,YAAD,CAFR,CAEuB;AACxB,CACD,MAAOG,GAAP,CAAiB,CACfC,OAAO,CAACC,IAAR,CAAa,mCAAb,EACD,CAED,MAAO,WAAM,CAACN,SAAS,CAAG,KAAZ,CAAkB,CAAhC,CACD,CAnBQ,CAmBN,CAACH,EAAD,CAnBM,CAAT,CAqBA,mBAAO,sCACL,aAAK,EAAE,CAAC,qBAAR,wBACE,YAAK,EAAE,CAAC,aAAR,uBACE,WAAI,EAAE,CAAC,UAAP,wDADF,EADF,cAIE,YAAK,EAAE,CAAC,cAAR,uBACE,aAAK,SAAS,CAAE,4BAAhB,wBACE,WAAI,SAAS,CAAC,MAAd,oBADF,CAEGC,KAAK,CAACS,MAAN,cACD,KAAC,QAAD,EAAU,KAAK,CAAET,KAAjB,EADC,cAED,KAAC,OAAD,IAJF,GADF,EAJF,GADK,EAAP,CAgBD,CA7CD,CA+CA,cAAeF,CAAAA,iBAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport ItemList from './itemList'\r\nimport Loading from '../../loading/loading';\r\n\r\nimport ItemShowcase from '../../../dataTypes/itemShowcase'\r\n\r\nimport './itemListContainer.css';\r\nimport { getItems, getItemsByCategory } from '../../../data/itemHandler';\r\nimport Category from '../../../dataTypes/category';\r\n\r\nconst ItemListContainer: React.FC<{}> = () => {\r\n\r\n  //Parameters\r\n  const { id } = useParams<{id?: Category}>();\r\n\r\n  //Showed items\r\n  const [items,setItems] = useState<ItemShowcase[]>([]);\r\n\r\n  useEffect(() => {\r\n      \r\n    //SetItem shouldn't be usesd after being unmounted\r\n    let isMounted = true;\r\n    const setIfMounted = (item: ItemShowcase[]) => {\r\n      if (isMounted) setItems(item);\r\n    }\r\n\r\n    //Filters items in case of defining category \r\n    try {\r\n      (id !== undefined) ? \r\n      getItemsByCategory(id,setIfMounted)://(setIfMounted);\r\n      getItems(setIfMounted);//getPromiseFilteredItems(catFilter, setIfMounted) :\r\n    } \r\n    catch (err: any) {\r\n      console.warn('No se ha podido encontrar el item');\r\n    }\r\n    \r\n    return () => {isMounted = false};\r\n  }, [id]);\r\n  \r\n  return <>\r\n    <div id=\"item-list-container\">\r\n      <div id=\"store-title\">\r\n        <h2 id=\"greeting\">Pide tus helados antes de que se derritan!</h2>\r\n      </div>\r\n      <div id=\"product-list\">\r\n        <div className= \"row justify-content-center\">\r\n          <h1 className=\"py-5\">Tienda</h1>\r\n          {items.length?\r\n          <ItemList items={items} />:\r\n          <Loading />\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </>\r\n}\r\n\r\nexport default ItemListContainer;"]},"metadata":{},"sourceType":"module"}