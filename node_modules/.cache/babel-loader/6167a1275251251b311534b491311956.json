{"ast":null,"code":"var _jsxFileName = \"F:\\\\reactApp\\\\heladeria-e-commerce-baladon\\\\src\\\\components\\\\cart\\\\purchaseModal.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState, useContext } from 'react';\nimport { Alert, Button, CloseButton, Form, ListGroup, Modal } from 'react-bootstrap';\nimport { CartContext } from '../../context/cartContext';\nimport './purchaseModal.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst PurchaseModal = _ref => {\n  _s();\n\n  let {\n    show,\n    onHide,\n    confirmPurchase\n  } = _ref;\n  const [alertMessage, setAlertMessage] = useState(null);\n  const phoneRef = useRef(null);\n  const countryRef = useRef(null);\n  const cityRef = useRef(null);\n  const postalCodeRef = useRef(null);\n  const paymentMethodRef = useRef(null); // Handlers\n\n  const handleHide = () => {\n    setAlertMessage(null);\n    onHide();\n  };\n\n  const handleSubmit = e => {\n    //Prevents page reload\n    e.preventDefault();\n\n    try {\n      var _phoneRef$current, _countryRef$current, _cityRef$current, _postalCodeRef$curren, _paymentMethodRef$cur;\n\n      //Ref destructuring\n      const [phone, country, city, postalCode, paymentMethod] = [phoneRef === null || phoneRef === void 0 ? void 0 : (_phoneRef$current = phoneRef.current) === null || _phoneRef$current === void 0 ? void 0 : _phoneRef$current.value, (_countryRef$current = countryRef.current) === null || _countryRef$current === void 0 ? void 0 : _countryRef$current.value, (_cityRef$current = cityRef.current) === null || _cityRef$current === void 0 ? void 0 : _cityRef$current.value, (_postalCodeRef$curren = postalCodeRef.current) === null || _postalCodeRef$curren === void 0 ? void 0 : _postalCodeRef$curren.value, (_paymentMethodRef$cur = paymentMethodRef.current) === null || _paymentMethodRef$cur === void 0 ? void 0 : _paymentMethodRef$cur.value];\n      if (phone === undefined) throw new Error(\"El campo de Teléfono debe ser completado.\");\n      if (country === undefined) throw new Error(\"El campo de País debe ser completado.\");\n      if (city === undefined) throw new Error(\"El campo de Ciudad debe ser completado.\");\n      if (postalCode === undefined) throw new Error(\"El campo de Código Postal debe ser completado.\");\n      if (paymentMethod === undefined) throw new Error(\"El campo de Método de pago debe ser completado.\"); //signup(email, password1);\n\n      setAlertMessage({\n        message: \"Compra realizada! Su pedido llegará en menos de 30 minutos a la direción indicada.\",\n        variant: \"success\"\n      });\n    } catch (err) {\n      if (err instanceof Error) {\n        setAlertMessage({\n          message: err.message,\n          variant: \"danger\"\n        });\n      }\n    }\n  };\n\n  const cartContext = useContext(CartContext);\n  const items = cartContext.items;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    id: \"modal-purchase\",\n    show: show,\n    \"aria-labelledby\": \"contained-modal-title-vcenter\",\n    centered: true,\n    children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n      id: \"header-purchase\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Title, {\n        children: \" Confirmar compra \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n        variant: \"white\",\n        onClick: handleHide\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \" Tel\\xE9fono \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            ref: phoneRef,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \" Pa\\xEDs \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            ref: countryRef,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \" Ciudad \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            ref: cityRef,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \" C\\xF3digo postal \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"number\",\n            ref: postalCodeRef,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \" Forma de pago \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            ref: paymentMethodRef,\n            value: \"Efectivo\",\n            required: true,\n            disabled: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"my-2\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \" Productos agregados: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n            className: \"my-2 product-list-purchase-modal\",\n            children: items.map(it => /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n              className: \"item-purchase-modal justify-content-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [it.amount, \" x\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: it.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"item-price-purchase-modal\",\n                children: [it.price, \"US$\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 21\n              }, this)]\n            }, it.id + it.title, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n            className: \"w-100 my-3 justify-content-center\",\n            style: {\n              display: \"inline-flex\"\n            },\n            children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"h5\", {\n              id: \"total-cost-purchase-modal\",\n              className: \"mx-1\",\n              children: [cartContext.getTotalCost(), \"US$\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), alertMessage && /*#__PURE__*/_jsxDEV(Alert, {\n          variant: alertMessage.variant,\n          children: alertMessage.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"button-purchase-modal w-100\",\n          type: \"submit\",\n          onClick: confirmPurchase,\n          children: \"Confirmar compra\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 10\n  }, this);\n};\n\n_s(PurchaseModal, \"nUof60PNomz6Y0Hnytj1qpaJaOI=\");\n\n_c = PurchaseModal;\nexport default PurchaseModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"PurchaseModal\");","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/components/cart/purchaseModal.tsx"],"names":["React","useRef","useState","useContext","Alert","Button","CloseButton","Form","ListGroup","Modal","CartContext","PurchaseModal","show","onHide","confirmPurchase","alertMessage","setAlertMessage","phoneRef","countryRef","cityRef","postalCodeRef","paymentMethodRef","handleHide","handleSubmit","e","preventDefault","phone","country","city","postalCode","paymentMethod","current","value","undefined","Error","message","variant","err","cartContext","items","map","it","amount","title","price","id","display","getTotalCost"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useContext } from 'react'\r\nimport { Alert, Button, CloseButton, Form, ListGroup, Modal, Row } from 'react-bootstrap';\r\nimport { CartContext } from '../../context/cartContext';\r\n\r\nimport './purchaseModal.css'\r\n\r\ninterface IProps {\r\n  show: boolean;\r\n  onHide: () => any;\r\n  confirmPurchase: () => any;\r\n}\r\n\r\nconst PurchaseModal: React.FC<IProps> = ({show, onHide, confirmPurchase}) => {\r\n\r\n  interface IAlert {\r\n    message: string;\r\n    variant: string;\r\n  }\r\n\r\n  const [alertMessage, setAlertMessage] = useState<IAlert | null>(null);\r\n  const phoneRef         = useRef<HTMLInputElement>(null);\r\n  const countryRef       = useRef<HTMLInputElement>(null);\r\n  const cityRef          = useRef<HTMLInputElement>(null);\r\n  const postalCodeRef    = useRef<HTMLInputElement>(null);\r\n  const paymentMethodRef = useRef<HTMLInputElement>(null);\r\n\r\n  // Handlers\r\n  const handleHide = () => {\r\n    setAlertMessage(null);\r\n    onHide();\r\n  }\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    //Prevents page reload\r\n    e.preventDefault();\r\n \r\n    try {\r\n      //Ref destructuring\r\n      const [phone, country, city, postalCode, paymentMethod]: \r\n            [string | undefined, string | undefined, string | undefined, string | undefined, string | undefined] = \r\n            [phoneRef?.current?.value, countryRef.current?.value, cityRef.current?.value, postalCodeRef.current?.value, paymentMethodRef.current?.value];\r\n\r\n      if (phone          === undefined) throw new Error(\"El campo de Teléfono debe ser completado.\");\r\n      if (country        === undefined) throw new Error(\"El campo de País debe ser completado.\");\r\n      if (city           === undefined) throw new Error(\"El campo de Ciudad debe ser completado.\");\r\n      if (postalCode     === undefined) throw new Error(\"El campo de Código Postal debe ser completado.\");\r\n      if (paymentMethod  === undefined) throw new Error(\"El campo de Método de pago debe ser completado.\");\r\n\r\n      //signup(email, password1);\r\n      setAlertMessage({message: \"Compra realizada! Su pedido llegará en menos de 30 minutos a la direción indicada.\", \r\n                       variant: \"success\"});\r\n    }\r\n    catch(err: any) {\r\n      if (err instanceof Error) {\r\n        setAlertMessage({message: err.message, variant: \"danger\"});\r\n      }\r\n    }\r\n  }\r\n\r\n  const cartContext = useContext(CartContext);\r\n  const items = cartContext.items;\r\n\r\n  return <Modal id=\"modal-purchase\"\r\n                show={show}\r\n                aria-labelledby=\"contained-modal-title-vcenter\"\r\n                centered>\r\n      <Modal.Header id=\"header-purchase\">\r\n        <Modal.Title> Confirmar compra </Modal.Title>\r\n        <CloseButton variant=\"white\" onClick={handleHide} />\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Teléfono </Form.Label>\r\n            <Form.Control type=\"number\" ref={phoneRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> País </Form.Label>\r\n            <Form.Control type=\"text\" ref={countryRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Ciudad </Form.Label>\r\n            <Form.Control type=\"text\" ref={cityRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Código postal </Form.Label>\r\n            <Form.Control type=\"number\" ref={postalCodeRef} required></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Forma de pago </Form.Label>\r\n            <Form.Control type=\"text\" ref={paymentMethodRef} value={\"Efectivo\"} required disabled></Form.Control>\r\n          </Form.Group>\r\n          <Form.Group className=\"my-2\">\r\n            <Form.Label> Productos agregados: </Form.Label>\r\n              <ListGroup className=\"my-2 product-list-purchase-modal\">\r\n                {items.map(it =>\r\n                  <ListGroup.Item key={it.id + it.title} className=\"item-purchase-modal justify-content-between\">\r\n                    <p >{it.amount} x</p>  \r\n                    <h6 >{it.title}</h6> \r\n                    <p className=\"item-price-purchase-modal\">{it.price}US$</p>\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            <Form.Label className=\"w-100 my-3 justify-content-center\" style={{display: \"inline-flex\"}}>\r\n              Total: <h5 id=\"total-cost-purchase-modal\" className=\"mx-1\">{cartContext.getTotalCost()}US$</h5>\r\n            </Form.Label>\r\n          </Form.Group>\r\n          {alertMessage && <Alert variant={alertMessage.variant}>{alertMessage.message}</Alert>}\r\n          <Button className=\"button-purchase-modal w-100\" type=\"submit\" onClick={confirmPurchase}>Confirmar compra</Button>\r\n        </Form>\r\n      </Modal.Body>\r\n  </Modal>\r\n}\r\n\r\nexport default PurchaseModal;"]},"metadata":{},"sourceType":"module"}