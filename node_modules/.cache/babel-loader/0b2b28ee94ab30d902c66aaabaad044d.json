{"ast":null,"code":"import _slicedToArray from\"F:\\\\reactApp\\\\heladeria-e-commerce-baladon\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from'react';import{getFlavors}from'../../../data/flavorHandler';import ProductDetailRecipiente from'../../../dataTypes/ProductDetailRecipiente';import ItemChooser from'./itemChoser';import{jsx as _jsx}from\"react/jsx-runtime\";var ItemChoserContainer=function ItemChoserContainer(_ref){var id=_ref.id,setProductDetail=_ref.setProductDetail;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),flavors=_useState2[0],setFlavors=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),selectedFlavors=_useState4[0],setSelectedFlavors=_useState4[1];useEffect(function(){var isMounted=true;var setIfMounted=function setIfMounted(flavors){if(isMounted)setFlavors(flavors);};try{getFlavors(setIfMounted);}catch(err){if(err instanceof Error){console.warn(err);}}return function(){isMounted=false;};},[]);//update details according to flavors showed on screen\nuseEffect(function(){//slice passes the value by copy\nsetProductDetail(new ProductDetailRecipiente(selectedFlavors.slice()));},[selectedFlavors,setProductDetail]);//Number of flavors according to item id\nvar numFlavorsById=new Map([[\"RzDoHkT1HVjWxrWWCoz6\",2],//1/2 Litre\n[\"d6UNi3yFX3kJoYWH5qkI\",3],//1   Litre\n[\"a5TdN0VbenQs6A9dlk1j\",4]//2   Litre\n]);return/*#__PURE__*/_jsx(ItemChooser,{maxFlavors:numFlavorsById.get(id)||0,imgWidth:500,imgHeight:500*2/3,itemId:id,flavors:flavors,selectedFlavors:selectedFlavors,setSelectedFlavors:setSelectedFlavors});};export default ItemChoserContainer;","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/components/items/detail/itemChoserContainer.tsx"],"names":["React","useEffect","useState","getFlavors","ProductDetailRecipiente","ItemChooser","ItemChoserContainer","id","setProductDetail","flavors","setFlavors","selectedFlavors","setSelectedFlavors","isMounted","setIfMounted","err","Error","console","warn","slice","numFlavorsById","Map","get"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,6BAA3B,CAGA,MAAOC,CAAAA,uBAAP,KAAoC,4CAApC,CACA,MAAOC,CAAAA,WAAP,KAAwB,cAAxB,C,2CAOA,GAAMC,CAAAA,mBAAqC,CAAG,QAAxCA,CAAAA,mBAAwC,MAA4B,IAA1BC,CAAAA,EAA0B,MAA1BA,EAA0B,CAAtBC,gBAAsB,MAAtBA,gBAAsB,CACxE,cAA8BN,QAAQ,CAAW,EAAX,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,eAA8CR,QAAQ,CAAW,EAAX,CAAtD,yCAAOS,eAAP,eAAwBC,kBAAxB,eAEAX,SAAS,CAAC,UAAM,CACd,GAAIY,CAAAA,SAAS,CAAG,IAAhB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,OAAD,CAAuB,CAC1C,GAAII,SAAJ,CAAeH,UAAU,CAACD,OAAD,CAAV,CAChB,CAFD,CAIA,GAAI,CACFN,UAAU,CAACW,YAAD,CAAV,CACD,CACD,MAAMC,GAAN,CAAgB,CACd,GAAIA,GAAG,WAAYC,CAAAA,KAAnB,CAA0B,CACxBC,OAAO,CAACC,IAAR,CAAaH,GAAb,EACD,CACF,CAED,MAAO,WAAM,CAACF,SAAS,CAAG,KAAZ,CAAkB,CAAhC,CACD,CAjBQ,CAiBN,EAjBM,CAAT,CAmBA;AACAZ,SAAS,CAAC,UAAM,CACd;AACAO,gBAAgB,CAAC,GAAIJ,CAAAA,uBAAJ,CAA4BO,eAAe,CAACQ,KAAhB,EAA5B,CAAD,CAAhB,CACD,CAHQ,CAGN,CAACR,eAAD,CAAkBH,gBAAlB,CAHM,CAAT,CAKA;AACA,GAAMY,CAAAA,cAAc,CAAG,GAAIC,CAAAA,GAAJ,CAAQ,CAC7B,CAAC,sBAAD,CAAyB,CAAzB,CAD6B,CACA;AAC7B,CAAC,sBAAD,CAAyB,CAAzB,CAF6B,CAEA;AAC7B,CAAC,sBAAD,CAAyB,CAAzB,CAA6B;AAHA,CAAR,CAAvB,CAMA,mBACE,KAAC,WAAD,EACE,UAAU,CAAED,cAAc,CAACE,GAAf,CAAmBf,EAAnB,GAA0B,CADxC,CAEE,QAAQ,CAAE,GAFZ,CAGE,SAAS,CAAE,IAAI,CAAJ,CAAM,CAHnB,CAIE,MAAM,CAAEA,EAJV,CAKE,OAAO,CAAEE,OALX,CAME,eAAe,CAAEE,eANnB,CAOE,kBAAkB,CAAEC,kBAPtB,EADF,CAWD,CA/CD,CAiDA,cAAeN,CAAAA,mBAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { getFlavors } from '../../../data/flavorHandler';\r\nimport Flavor from '../../../dataTypes/flavor';\r\nimport ProductDetail from '../../../dataTypes/ProductDetail';\r\nimport ProductDetailRecipiente from '../../../dataTypes/ProductDetailRecipiente';\r\nimport ItemChooser from './itemChoser'\r\n\r\ninterface IProps {\r\n  id: string;\r\n  setProductDetail(pd: ProductDetail): any;\r\n}\r\n\r\nconst ItemChoserContainer: React.FC<IProps> = ({id, setProductDetail}) => {\r\n  const [flavors, setFlavors] = useState<Flavor[]>([]);\r\n  const [selectedFlavors, setSelectedFlavors] = useState<Flavor[]>([]);\r\n  \r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const setIfMounted = (flavors: Flavor[]) => {\r\n      if (isMounted) setFlavors(flavors);\r\n    }\r\n    \r\n    try {\r\n      getFlavors(setIfMounted);\r\n    }\r\n    catch(err: any) {\r\n      if (err instanceof Error) {\r\n        console.warn(err);\r\n      }\r\n    }\r\n    \r\n    return () => {isMounted = false}\r\n  }, [])\r\n\r\n  //update details according to flavors showed on screen\r\n  useEffect(() => {\r\n    //slice passes the value by copy\r\n    setProductDetail(new ProductDetailRecipiente(selectedFlavors.slice()));\r\n  }, [selectedFlavors, setProductDetail])\r\n  \r\n  //Number of flavors according to item id\r\n  const numFlavorsById = new Map([\r\n    [\"RzDoHkT1HVjWxrWWCoz6\", 2], //1/2 Litre\r\n    [\"d6UNi3yFX3kJoYWH5qkI\", 3], //1   Litre\r\n    [\"a5TdN0VbenQs6A9dlk1j\", 4], //2   Litre\r\n  ])\r\n\r\n  return (\r\n    <ItemChooser \r\n      maxFlavors={numFlavorsById.get(id) || 0}\r\n      imgWidth={500}\r\n      imgHeight={500*2/3}\r\n      itemId={id}\r\n      flavors={flavors}\r\n      selectedFlavors={selectedFlavors}\r\n      setSelectedFlavors={setSelectedFlavors}\r\n    />\r\n  )\r\n}\r\n\r\nexport default ItemChoserContainer"]},"metadata":{},"sourceType":"module"}