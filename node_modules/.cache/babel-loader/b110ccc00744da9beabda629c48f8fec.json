{"ast":null,"code":"import { collection, getDocs, getFirestore } from 'firebase/firestore';\nimport { ItemHandler } from './item';\n\nclass DataLoader {\n  constructor() {\n    this.db = getFirestore();\n    this.itemCollection = collection(this.db, \"items\");\n    this.itemHandler = ItemHandler.getInstance();\n  }\n\n  static getInstance() {\n    if (!DataLoader.instance) {\n      DataLoader.instance = new DataLoader();\n    }\n\n    return DataLoader.instance;\n  }\n\n  loadData() {\n    console.log(this.itemCollection);\n    let data;\n    getDocs(this.itemCollection).then(snapshot => {\n      console.log(snapshot);\n      data = snapshot.docs.map(doc => {\n        console.log(doc);\n        return {\n          id: doc.id,\n          ...doc.data()\n        };\n      });\n    });\n    console.log(data); //\n\n    /*this.itemHandler.setItems(snapshot.docs.map(doc =>\r\n    ({id: doc.id, ...doc.data()})\r\n    ))\r\n    })*/\n  }\n\n}\n\nDataLoader.instance = void 0;\nexport default DataLoader;","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/data/dataLoader.ts"],"names":["collection","getDocs","getFirestore","ItemHandler","DataLoader","constructor","db","itemCollection","itemHandler","getInstance","instance","loadData","console","log","data","then","snapshot","docs","map","doc","id"],"mappings":"AAAA,SAAQA,UAAR,EAAoCC,OAApC,EAA6CC,YAA7C,QAAgE,oBAAhE;AACA,SAASC,WAAT,QAA4B,QAA5B;;AAEA,MAAMC,UAAN,CAAiB;AAOPC,EAAAA,WAAW,GAAG;AAAA,SALtBC,EAKsB,GALNJ,YAAY,EAKN;AAAA,SAJtBK,cAIsB,GAJLP,UAAU,CAAC,KAAKM,EAAN,EAAS,OAAT,CAIL;AAAA,SAFtBE,WAEsB,GAFKL,WAAW,CAACM,WAAZ,EAEL;AAAG;;AAEA,SAAXA,WAAW,GAAe;AACtC,QAAI,CAACL,UAAU,CAACM,QAAhB,EAA0B;AACtBN,MAAAA,UAAU,CAACM,QAAX,GAAsB,IAAIN,UAAJ,EAAtB;AACH;;AACD,WAAOA,UAAU,CAACM,QAAlB;AACD;;AAEDC,EAAAA,QAAQ,GAAS;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,cAAjB;AACA,QAAIO,IAAJ;AACAb,IAAAA,OAAO,CAAC,KAAKM,cAAN,CAAP,CAA6BQ,IAA7B,CAAkCC,QAAQ,IAAI;AAC1CJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AACFF,MAAAA,IAAI,GAAGE,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkBC,GAAG,IAC1B;AACIP,QAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACA,eAAQ;AAACC,UAAAA,EAAE,EAAED,GAAG,CAACC,EAAT;AAAa,aAAGD,GAAG,CAACL,IAAJ;AAAhB,SAAR;AACH,OAJI,CAAP;AAKE,KAPJ;AASAF,IAAAA,OAAO,CAACC,GAAR,CAAaC,IAAb,EAZe,CAaf;;AACA;AACJ;AACA;AACA;AACK;;AAlCY;;AAAXV,U,CACWM,Q;AAoCjB,eAAeN,UAAf","sourcesContent":["import {collection, doc, Firestore, getDocs, getFirestore} from 'firebase/firestore';\r\nimport { ItemHandler } from './item';\r\n\r\nclass DataLoader {\r\n  private static instance: DataLoader;\r\n  db: Firestore = getFirestore();\r\n  itemCollection = collection(this.db,\"items\");\r\n\r\n  itemHandler: ItemHandler = ItemHandler.getInstance();\r\n\r\n  private constructor() { }\r\n\r\n  public static getInstance(): DataLoader {\r\n    if (!DataLoader.instance) {\r\n        DataLoader.instance = new DataLoader();\r\n    }\r\n    return DataLoader.instance;\r\n  }\r\n\r\n  loadData(): void {\r\n    console.log(this.itemCollection)\r\n    let data;\r\n    getDocs(this.itemCollection).then(snapshot => {\r\n        console.log(snapshot)\r\n      data = snapshot.docs.map(doc =>\r\n        {\r\n            console.log(doc)\r\n            return ({id: doc.id, ...doc.data()})\r\n        }\r\n      )})\r\n        \r\n    console.log((data))\r\n    //\r\n    /*this.itemHandler.setItems(snapshot.docs.map(doc =>\r\n    ({id: doc.id, ...doc.data()})\r\n    ))\r\n    })*/\r\n    }\r\n}\r\n\r\nexport default DataLoader;\r\n\r\n"]},"metadata":{},"sourceType":"module"}