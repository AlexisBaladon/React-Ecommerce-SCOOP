{"ast":null,"code":"import _slicedToArray from\"F:\\\\reactApp\\\\heladeria-e-commerce-baladon\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React,{useEffect,useState}from'react';import{auth}from'../index';import{jsx as _jsx}from\"react/jsx-runtime\";var SessionContext=/*#__PURE__*/React.createContext({loggedUser:null,signup:function signup(email,password){return new Promise(function(r){});},login:function login(email,password){return new Promise(function(r){});},logout:function logout(){return new Promise(function(r){});}});//Doesn't let more than one modal to be opened at once\nvar SessionProvider=function SessionProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),loggedUser=_useState2[0],setLoggedUser=_useState2[1];useEffect(function(){var unsuscribe=auth.onAuthStateChanged(function(user){setLoggedUser(user);});return unsuscribe;},[]);var signup=function signup(email,password){return auth.createUserWithEmailAndPassword(email,password);};var login=function login(email,password){return auth.signInWithEmailAndPassword(email,password);};var logout=function logout(){return auth.signOut();};return/*#__PURE__*/_jsx(SessionContext.Provider,{value:{loggedUser:loggedUser,signup:signup,login:login,logout:logout},children:children});};export{SessionContext,SessionProvider};","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/context/sessionContext.tsx"],"names":["React","useEffect","useState","auth","SessionContext","createContext","loggedUser","signup","email","password","Promise","r","login","logout","SessionProvider","children","setLoggedUser","unsuscribe","onAuthStateChanged","user","createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut"],"mappings":"sIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,UAArB,C,2CAGA,GAAMC,CAAAA,cAAc,cAAGJ,KAAK,CAACK,aAAN,CAQpB,CACCC,UAAU,CAAE,IADb,CAECC,MAAM,CAAE,gBAACC,KAAD,CAAgBC,QAAhB,QAAqC,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,CAAC,CAAI,CAAE,CAAnB,CAArC,EAFT,CAGCC,KAAK,CAAE,eAACJ,KAAD,CAAgBC,QAAhB,QAAqC,IAAIC,CAAAA,OAAJ,CAAY,SAAAC,CAAC,CAAI,CAAE,CAAnB,CAArC,EAHR,CAICE,MAAM,CAAE,wBAAM,IAAIH,CAAAA,OAAJ,CAAY,SAAAC,CAAC,CAAI,CAAE,CAAnB,CAAN,EAJT,CARoB,CAAvB,CAeA;AACA,GAAMG,CAAAA,eAA6B,CAAG,QAAhCA,CAAAA,eAAgC,MAAgB,IAAdC,CAAAA,QAAc,MAAdA,QAAc,CACpD,cAAoCb,QAAQ,CAAuB,IAAvB,CAA5C,wCAAOI,UAAP,eAAmBU,aAAnB,eAEAf,SAAS,CAAC,UAAM,CACd,GAAMgB,CAAAA,UAAU,CAAGd,IAAI,CAACe,kBAAL,CAAwB,SAAAC,IAAI,CAAI,CAC/CH,aAAa,CAACG,IAAD,CAAb,CACH,CAFkB,CAAnB,CAIA,MAAOF,CAAAA,UAAP,CACD,CANQ,CAMN,EANM,CAAT,CASA,GAAMV,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,CAAgBC,QAAhB,CAAmD,CAChE,MAAON,CAAAA,IAAI,CAACiB,8BAAL,CAAoCZ,KAApC,CAA0CC,QAA1C,CAAP,CACD,CAFD,CAIA,GAAMG,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACJ,KAAD,CAAgBC,QAAhB,CAAqC,CACjD,MAAON,CAAAA,IAAI,CAACkB,0BAAL,CAAgCb,KAAhC,CAAuCC,QAAvC,CAAP,CACD,CAFD,CAIA,GAAMI,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,MAAOV,CAAAA,IAAI,CAACmB,OAAL,EAAP,CACD,CAFD,CAIA,mBACE,KAAC,cAAD,CAAgB,QAAhB,EACE,KAAK,CAAE,CAAChB,UAAU,CAAVA,UAAD,CACCC,MAAM,CAANA,MADD,CAECK,KAAK,CAALA,KAFD,CAGCC,MAAM,CAANA,MAHD,CADT,UAMGE,QANH,EADF,CAUD,CAlCD,CAoCA,OAAQX,cAAR,CAAwBU,eAAxB","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { auth } from '../index'\r\nimport fireBase from \"firebase/compat/app\";\r\n\r\nconst SessionContext = React.createContext<{\r\n    loggedUser: fireBase.User | null,\r\n    signup(email: string, password: string): Promise<any>;\r\n    login(email: string, password: string): Promise<any>;\r\n    logout(): Promise<any>,\r\n  }>\r\n\r\n  //default values                                    \r\n  ({\r\n    loggedUser: null,\r\n    signup: (email: string, password: string) => new Promise(r => {}),\r\n    login: (email: string, password: string) => new Promise(r => {}),\r\n    logout: () => new Promise(r => {}),\r\n  });\r\n\r\n//Doesn't let more than one modal to be opened at once\r\nconst SessionProvider: React.FC<{}> = ({children}) => {\r\n  const [loggedUser, setLoggedUser] = useState<fireBase.User | null>(null)\r\n  \r\n  useEffect(() => {\r\n    const unsuscribe = auth.onAuthStateChanged(user => {\r\n        setLoggedUser(user);\r\n    })\r\n\r\n    return unsuscribe;\r\n  }, [])\r\n  \r\n\r\n  const signup = (email: string, password: string): Promise<any> => {\r\n    return auth.createUserWithEmailAndPassword(email,password);\r\n  }\r\n\r\n  const login = (email: string, password: string) => {\r\n    return auth.signInWithEmailAndPassword(email, password);\r\n  }\r\n\r\n  const logout = () => {\r\n    return auth.signOut();\r\n  }\r\n\r\n  return (\r\n    <SessionContext.Provider \r\n      value={{loggedUser,\r\n              signup,\r\n              login,\r\n              logout,\r\n             }}>\r\n      {children}\r\n    </SessionContext.Provider>\r\n  )\r\n}\r\n\r\nexport {SessionContext, SessionProvider}"]},"metadata":{},"sourceType":"module"}