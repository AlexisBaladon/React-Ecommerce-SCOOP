{"ast":null,"code":"import { getFlavor, getFlavors } from '../data/flavors';\nimport { getItem, getItems } from '../data/item';\n\n/* \r\n * Uses getItems to query i from \"Database\".\r\n * After 2 seconds, i gets resolved.\r\n * Then, setItems is used with i.\r\n * Finally *laughs in asynchronous*, the promise gets returned.\r\n */\nconst getPromiseAux = (setItems, getItems) => {\n  const itemsPromise = new Promise((resolve, reject) => {\n    const itemsDB = getItems();\n    setTimeout(() => {\n      resolve(itemsDB);\n    }, 2000);\n  }).then(result => {\n    setItems(result);\n  }).catch(err => {\n    console.error(err);\n  });\n  return itemsPromise;\n};\n/* Items */\n\n\nconst getPromiseItems = setItems => {\n  return getPromiseAux(setItems, getItems);\n};\n\nconst getPromiseFilteredItems = (itemFilter, setItems) => {\n  const setItemsWithFilter = items => setItems(items.filter(itemFilter));\n\n  return getPromiseAux(setItemsWithFilter, getItems);\n};\n\nconst getPromiseItem = (itemId, setItem) => {\n  const getItemsAux = () => getItem(itemId);\n\n  return getPromiseAux(setItem, getItemsAux);\n};\n/* Flavors */\n\n\nconst getPromiseFlavors = setItems => {\n  return getPromiseAux(setItems, getFlavors);\n};\n\nconst getPromiseFlavor = (itemId, setItem) => {\n  const getFlavorsAux = () => getFlavor(itemId);\n\n  return getPromiseAux(setItem, getFlavorsAux);\n};\n\nexport { getPromiseItems, getPromiseItem, getPromiseFilteredItems, getPromiseFlavors, getPromiseFlavor };","map":{"version":3,"sources":["F:/reactApp/heladeria-e-commerce-baladon/src/helpers/promises.ts"],"names":["getFlavor","getFlavors","getItem","getItems","getPromiseAux","setItems","itemsPromise","Promise","resolve","reject","itemsDB","setTimeout","then","result","catch","err","console","error","getPromiseItems","getPromiseFilteredItems","itemFilter","setItemsWithFilter","items","filter","getPromiseItem","itemId","setItem","getItemsAux","getPromiseFlavors","getPromiseFlavor","getFlavorsAux"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,UAApB,QAAsC,iBAAtC;AACA,SAAQC,OAAR,EAAiBC,QAAjB,QAAgC,cAAhC;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,aAAa,GAAG,CAACC,QAAD,EAA4BF,QAA5B,KAAkE;AACtF,QAAMG,YAAY,GAAG,IAAIC,OAAJ,CAAiB,CAACC,OAAD,EAASC,MAAT,KAAoB;AACxD,UAAMC,OAAY,GAAGP,QAAQ,EAA7B;AACAQ,IAAAA,UAAU,CAAC,MAAM;AACfH,MAAAA,OAAO,CAACE,OAAD,CAAP;AACD,KAFS,EAEP,IAFO,CAAV;AAGD,GALoB,EAMpBE,IANoB,CAMdC,MAAD,IAAiB;AACrBR,IAAAA,QAAQ,CAACQ,MAAD,CAAR;AACD,GARoB,EASpBC,KAToB,CASbC,GAAD,IAAS;AACdC,IAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACD,GAXoB,CAArB;AAaA,SAAOT,YAAP;AACD,CAfD;AAiBA;;;AAEA,MAAMY,eAAe,GAAIb,QAAD,IAAwD;AAC9E,SAAOD,aAAa,CAACC,QAAD,EAAWF,QAAX,CAApB;AACD,CAFD;;AAIA,MAAMgB,uBAAuB,GAAG,CAACC,UAAD,EAA2Cf,QAA3C,KAAkG;AAChI,QAAMgB,kBAAkB,GAAIC,KAAD,IAAiCjB,QAAQ,CAACiB,KAAK,CAACC,MAAN,CAAaH,UAAb,CAAD,CAApE;;AACA,SAAOhB,aAAa,CAACiB,kBAAD,EAAqBlB,QAArB,CAApB;AACD,CAHD;;AAKA,MAAMqB,cAAc,GAAG,CAACC,MAAD,EAAiBC,OAAjB,KAAqE;AAC1F,QAAMC,WAAW,GAAG,MAAMzB,OAAO,CAACuB,MAAD,CAAjC;;AACA,SAAOrB,aAAa,CAACsB,OAAD,EAAUC,WAAV,CAApB;AACD,CAHD;AAKA;;;AAEA,MAAMC,iBAAiB,GAAIvB,QAAD,IAAkD;AAC1E,SAAOD,aAAa,CAACC,QAAD,EAAWJ,UAAX,CAApB;AACD,CAFD;;AAIA,MAAM4B,gBAAgB,GAAG,CAACJ,MAAD,EAAiBC,OAAjB,KAA+D;AACtF,QAAMI,aAAa,GAAG,MAAM9B,SAAS,CAACyB,MAAD,CAArC;;AACA,SAAOrB,aAAa,CAACsB,OAAD,EAAUI,aAAV,CAApB;AACD,CAHD;;AAOA,SAAQZ,eAAR,EAAyBM,cAAzB,EAAyCL,uBAAzC,EACQS,iBADR,EAC2BC,gBAD3B","sourcesContent":["import { getFlavor, getFlavors } from '../data/flavors';\r\nimport {getItem, getItems} from '../data/item';\r\nimport Flavor from '../dataTypes/flavor';\r\nimport ItemShowcase from '../dataTypes/itemShowcase';\r\n\r\n/* \r\n * Uses getItems to query i from \"Database\".\r\n * After 2 seconds, i gets resolved.\r\n * Then, setItems is used with i.\r\n * Finally *laughs in asynchronous*, the promise gets returned.\r\n */\r\nconst getPromiseAux = (setItems: (i: any) => any, getItems: () => any): Promise<any> => {\r\n  const itemsPromise = new Promise<any>((resolve,reject) => {\r\n    const itemsDB: any = getItems();\r\n    setTimeout(() => {\r\n      resolve(itemsDB);\r\n    }, 2000);\r\n  })\r\n  .then((result: any) => {\r\n    setItems(result);\r\n  })\r\n  .catch((err) => {\r\n    console.error(err);\r\n  });\r\n\r\n  return itemsPromise;\r\n}\r\n\r\n/* Items */\r\n\r\nconst getPromiseItems = (setItems: (i: ItemShowcase[]) => any): Promise<any> => {\r\n  return getPromiseAux(setItems, getItems);\r\n}\r\n\r\nconst getPromiseFilteredItems = (itemFilter: (i: ItemShowcase) => boolean, setItems: (i: ItemShowcase[]) => any): Promise<any> => {\r\n  const setItemsWithFilter = (items: ItemShowcase[]): void => setItems(items.filter(itemFilter));\r\n  return getPromiseAux(setItemsWithFilter, getItems);\r\n}\r\n\r\nconst getPromiseItem = (itemId: number, setItem: (i: ItemShowcase) => any): Promise<any> => {\r\n  const getItemsAux = () => getItem(itemId);\r\n  return getPromiseAux(setItem, getItemsAux);\r\n}\r\n\r\n/* Flavors */\r\n\r\nconst getPromiseFlavors = (setItems: (i: Flavor[]) => any): Promise<any> => {\r\n  return getPromiseAux(setItems, getFlavors);\r\n}\r\n\r\nconst getPromiseFlavor = (itemId: number, setItem: (i: Flavor) => any): Promise<any> => {\r\n  const getFlavorsAux = () => getFlavor(itemId);\r\n  return getPromiseAux(setItem, getFlavorsAux);\r\n}\r\n\r\n\r\n\r\nexport {getPromiseItems, getPromiseItem, getPromiseFilteredItems,\r\n        getPromiseFlavors, getPromiseFlavor};"]},"metadata":{},"sourceType":"module"}